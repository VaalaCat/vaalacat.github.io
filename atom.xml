<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[Vaala Cat]]></title><description><![CDATA[Vaala Cat | é²¸å–µ]]></description><link>https://vaala.cat</link><image><url>https://vaala.cat/images/blog/avatar.png</url><title>Vaala Cat</title><link>https://vaala.cat</link></image><generator>Vaala Cat</generator><lastBuildDate>Sun, 07 Apr 2024 16:05:37 GMT</lastBuildDate><atom:link href="https://vaala.cat/atom.xml" rel="self" type="application/rss+xml"/><language><![CDATA[zh-CN]]></language><item><title><![CDATA[frp-panelå¼€å‘ç¬”è®°åŠä½¿ç”¨è¯´æ˜]]></title><description><![CDATA[
> é¡¹ç›®åœ°å€: [https://github.com/VaalaCat/frp-panel](https://github.com/VaalaCat/frp-panel)
> æœ¬æ–‡æ˜¯ä½¿ç”¨è¯´æ˜å…¼å¼€å‘ç¬”è®°ï¼Œæƒ³çœ‹éƒ¨ç½²è¯´æ˜çš„ç›´æ¥è·³åˆ°æœ€åå§

## èƒŒæ™¯

åœ¨è·³ä¸åŠ¨å¹²äº†ä¸å°‘æ—¶é—´äº†ï¼Œå‘ç°å¯¹å¼€æºè¿˜æ˜¯æœ‰çƒ­æƒ…çš„ï¼ˆè™½ç„¶ä¹Ÿåªæœ‰çƒ­æƒ…äº†ï¼‰ï¼Œç¤¾ç•œæ˜¯çœŸçš„ğŸ®ğŸã€‚æ—¶é—´æ˜¯çœŸçš„ä¸å¤Ÿç”¨ï¼Œè¿™ä¸ªé¡¹ç›®æˆ‘ä»å¤§ä¸€å¼€å§‹å°±æƒ³è¦å¯åŠ¨ï¼Œä¸€ç›´æ²¡æœ‰æ‰¾åˆ°å¥‘æœºã€‚è¿™æ¬¡æ‰¾äº†ä¸ªå‘¨æœ«æŠŠå®ƒå¯åŠ¨ä¸ŠåŸºæœ¬åŠŸèƒ½å†™å®Œã€‚   

é‚£ä¹ˆæ¥ä¸‹æ¥è¯´è¯´è¿™æ¬¡å¼€å‘çš„ä¸œè¥¿å§ã€‚æˆ‘è¿™æ¬¡è¦åšçš„æ˜¯frpçš„ä¸­å¿ƒåŒ–æ§åˆ¶ç‰ˆæœ¬ã€‚   

~~çŸ¥é“çš„å¥½å…„å¼Ÿå¯èƒ½çŸ¥é“~~ï¼Œ[frp](https://github.com/fatedier/frp)çš„è¿è¡Œæ˜¯ç”±ã€Œä½¿ç”¨è€…ã€åˆ†åˆ«ç»™ã€Œå®¢æˆ·ç«¯ã€å³frpcå’Œã€ŒæœåŠ¡ç«¯ã€frpså†™å¥½é…ç½®æ–‡ä»¶ï¼Œç„¶ååœ¨æœ‰å…¬ç½‘æœåŠ¡å™¨çš„åœ°æ–¹è¿è¡Œfrpsï¼Œåœ¨æ²¡æœ‰å…¬ç½‘æœåŠ¡å™¨çš„åœ°æ–¹è¿è¡Œfrpcã€‚è€Œä¸”è¿™ç§æ¨¡å¼è¿è¡Œçš„å¾ˆå¥½ï¼Œfrpå‡ ä¹æ˜¯ç¤¾åŒºä¸Šå¥½è¯„ç¨‹åº¦æœ€é«˜çš„å†…ç½‘ç©¿é€å·¥å…·ã€‚   

é‚£ä¹ˆæˆ‘ä¸ºä»€ä¹ˆè¦è¿˜è¦å†™ä¸€ä¸ªè¿™ä¸ªç©æ„å„¿å‘¢ï¼Ÿæ›¾ç»æˆ‘ä½¿ç”¨è¿‡å¦ä¸€ä¸ªå·¥å…·ï¼š[nps](https://github.com/ehang-io/nps)ï¼Œè¿™ä¸ªå·¥å…·å·²ç»å‡ å¹´æ²¡æœ‰commitäº†ï¼Œä½†æ˜¯ä¾æ—§æœ‰ä¸å°‘äººè¿˜æƒ³ä½¿ç”¨å®ƒï¼Œå°¤å…¶æ˜¯çº¢é˜Ÿçš„ä¸€äº›å“¥ä»¬ã€‚è¿™ä¸ªå«npsçš„ä¸œè¥¿ä¼˜ç‚¹åœ¨äºå®ƒæœ‰ä¸­å¿ƒåŒ–çš„webç®¡ç†ï¼Œç”¨æˆ·æ­å»ºå¥½æœåŠ¡ç«¯è¿‡åï¼Œå®¢æˆ·ç«¯åªéœ€è¦ä¸€è¡Œå‘½ä»¤å°±å¯ä»¥è¿è¡Œèµ·æ¥ï¼Œå„ç§é…ç½®éƒ½åœ¨æœåŠ¡ç«¯è¿›è¡Œã€‚   

è€Œä¸”å¤§å‚çš„ä¸€äº›äº§å“ï¼Œæ¯”å¦‚Cloudflare Argo Tunnel / Tailscale Funneléƒ½æ”¯æŒä¸­å¿ƒåŒ–é…ç½®ï¼Œ~~é‚£æˆ‘ä»¬ä¹Ÿå¾—ç´§è·Ÿå‹å•†ã€‚~~   

æˆ‘è®¤ä¸ºè¿™æ ·çš„æ“ä½œé€»è¾‘æ˜æ˜¾æ›´ç¬¦åˆâ€œå†…ç½‘ç©¿é€å·¥å…·â€çš„ä½¿ç”¨åœºæ™¯ã€‚å› ä¸ºæœåŠ¡ç«¯å®šä¹‰ä¸Šå°±æ˜¯å¤–éƒ¨å¯è®¿é—®ï¼Œå®¢æˆ·ç«¯å°±æ˜¯å¤–éƒ¨ä¸å¯è®¿é—®ã€‚å½“ç”¨æˆ·éƒ½æ²¡åŠæ³•ä»å¤–éƒ¨è®¿é—®å®¢æˆ·ç«¯ï¼Œé‚£ä¹ˆè¦å¦‚ä½•è¿œç¨‹çš„ä¿®æ”¹é…ç½®å‘¢ï¼Ÿæ‰€ä»¥æˆ‘è®¤ä¸ºå®¢æˆ·ç«¯çš„é…ç½®æ˜¯ä¸€å®šè¦åœ¨æœåŠ¡ç«¯webé¡µé¢ä¸Šåšçš„ã€‚   

å¦å¤–ï¼Œæ—¢ç„¶æˆ‘ä»¬è¦åšçš„æ˜¯ä¸€ä¸ªå¹³å°ï¼Œé‚£ä¹ˆæ”¯æŒå¤šæœåŠ¡ç«¯çš„ç®¡ç†æ˜¯å¿…ç„¶çš„ã€‚   

å¾—å‡ºäº†è¿™æ ·ä¸€ä¸ªç»“è®ºï¼Œé‚£ä¹ˆå°±å¾—æ’¸èµ·è¢–å­å¼€å¹²äº†ã€‚   

æˆ‘ä»¬çš„ç›®æ ‡å°±æ˜¯åšä¸€ä¸ªï¼š   
- å®¢æˆ·ç«¯é…ç½®å¯ä¸­å¿ƒåŒ–ç®¡ç†   
- å¤šæœåŠ¡ç«¯é…ç½®ç®¡ç†   
- å¯è§†åŒ–é…ç½®ç•Œé¢   
- ç®€åŒ–è¿è¡Œæ‰€éœ€è¦çš„é…ç½®   
   
çš„æ›´å¼ºæ›´å®Œå–„çš„frpï¼   

DEMO:

![demo](/images/frp-panel/frp-panel-demo.gif)

## æŠ€æœ¯è·¯çº¿   

### æŠ€æœ¯æ ˆ   

frpé¡¹ç›®æœ¬èº«æ˜¯ä½¿ç”¨çš„Goè¯­è¨€ï¼Œé‚£ä¹ˆè‡ªç„¶æˆ‘ä¹Ÿç”¨Goæ˜¯æœ€ä¼˜é€‰æ‹©ã€‚   

rpcé€‰æ‹©äº†protobuf+grpcï¼Œhttpæ¡†æ¶ä½¿ç”¨äº†Ginã€‚   

å‰ç«¯çš„è¯å€’ç”¨å•¥å†™éƒ½è¡Œï¼Œæ—¢ç„¶è¦å†™å°±è¦å†™æœ€æ–°çš„ï¼Œæ‰€ä»¥é€‰äº†[react](https://react.dev/)/[nextjs](https://nextjs.org/)å’Œ[shadcn-ui](https://ui.shadcn.com/)/[tailwindcss](https://tailwindcss.com/)
   
### å¹³å°æ¶æ„è®¾è®¡   

æŠ€æœ¯æ ˆé€‰å¥½äº†ï¼Œä¸‹ä¸€æ­¥å°±æ˜¯è¦è®¾è®¡ç¨‹åºçš„æ¶æ„ã€‚åœ¨åˆšåˆšèƒŒæ™¯é‡Œè¯´çš„é‚£æ ·ï¼Œfrpæœ¬èº«æœ‰frpcå’Œfrpsï¼ˆå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ï¼‰ï¼Œè¿™ä¸¤ä¸ªè§’è‰²è‚¯å®šæ˜¯å¿…ä¸å¯å°‘äº†ã€‚ç„¶åæˆ‘ä»¬è¿˜è¦æ–°å¢ä¸€ä¸ªä¸œè¥¿å»ç®¡ç†å®ƒä»¬ï¼Œæ‰€ä»¥frp-panelæ–°å¢äº†ä¸€ä¸ªmasterè§’è‰²ã€‚masterä¼šè´Ÿè´£ç®¡ç†å„ç§frpcå’Œfrpsï¼Œä¸­å¿ƒåŒ–çš„å­˜å‚¨é…ç½®æ–‡ä»¶å’Œè¿æ¥ä¿¡æ¯ã€‚   

ç„¶åæ˜¯frpcå’Œfrpsã€‚åŸç‰ˆæ˜¯éœ€è¦åœ¨ä¸¤è¾¹åˆ†åˆ«å†™é…ç½®æ–‡ä»¶çš„ã€‚é‚£ä¹ˆæ—¢ç„¶åŸç‰ˆå·²ç»æ”¯æŒäº†ï¼Œå°±ä¸ç”¨åœ¨èµ°åŸç‰ˆçš„è·¯å­ï¼Œæˆ‘ä»¬ç›´æ¥ä¸æ”¯æŒé…ç½®æ–‡ä»¶ï¼Œæ‰€æœ‰çš„é…ç½®éƒ½å¿…é¡»ä»masterè·å–ã€‚   

å…¶æ¬¡è¿˜è¦è€ƒè™‘åˆ°ä¸åŸç‰ˆçš„å…¼å®¹é—®é¢˜ï¼Œfrp-panelçš„å®¢æˆ·ç«¯/æœåŠ¡ç«¯éƒ½å¿…é¡»è¦èƒ½è¿ä¸Šå®˜æ–¹frpc/frpsæœåŠ¡ã€‚è¿™æ ·çš„è¯å°±å¯ä»¥åšåˆ°é…ç½®æ–‡ä»¶/ä¸è¦é…ç½®æ–‡ä»¶éƒ½èƒ½å®Œç¾å·¥ä½œäº†ã€‚   
æ€»çš„è¯´æ¥æ¶æ„è¿˜æ˜¯å¾ˆç®€å•çš„ã€‚

![arch](/images/frp-panel/arch.png)

## å¼€å‘   

é¡¹ç›®åŒ…å«ä¸‰ä¸ªè§’è‰²   
1. Master: æ§åˆ¶èŠ‚ç‚¹ï¼Œæ¥å—æ¥è‡ªå‰ç«¯çš„è¯·æ±‚å¹¶è´Ÿè´£ç®¡ç†Clientå’ŒServer   
2. Server: æœåŠ¡ç«¯ï¼Œå—æ§åˆ¶èŠ‚ç‚¹æ§åˆ¶ï¼Œè´Ÿè´£å¯¹å®¢æˆ·ç«¯æä¾›æœåŠ¡ï¼ŒåŒ…å«frpså’Œrpc(ç”¨äºè¿æ¥Master)æœåŠ¡   
3. Client: å®¢æˆ·ç«¯ï¼Œå—æ§åˆ¶èŠ‚ç‚¹æ§åˆ¶ï¼ŒåŒ…å«frpcå’Œrpc(ç”¨äºè¿æ¥Master)æœåŠ¡   
   
æ¥ä¸‹æ¥ç»™å‡ºä¸€ä¸ªé¡¹ç›®ä¸­å„ä¸ªåŒ…çš„åŠŸèƒ½   
```
.
|-- biz                 # ä¸»è¦ä¸šåŠ¡é€»è¾‘
|   |-- client          # å®¢æˆ·ç«¯é€»è¾‘ï¼ˆè¿™é‡ŒæŒ‡çš„æ˜¯frp-panelçš„å®¢æˆ·ç«¯ï¼‰
|   |-- master          # frp-panel æ§åˆ¶å¹³é¢ï¼Œè´Ÿè´£å¤„ç†å‰ç«¯è¯·æ±‚ï¼Œå¹¶ä¸”ä½¿ç”¨rpcç®¡ç†frp-panelçš„serverå’Œclient
|   |   |-- auth        # è®¤è¯æ¨¡å—ï¼ŒåŒ…å«ç”¨æˆ·è®¤è¯å’Œå®¢æˆ·ç«¯è®¤è¯
|   |   |-- client      # å®¢æˆ·ç«¯æ¨¡å—ï¼ŒåŒ…å«å‰ç«¯ç®¡ç†å®¢æˆ·ç«¯çš„å„ç§API
|   |   |-- server      # æœåŠ¡ç«¯æ¨¡å—ï¼ŒåŒ…å«å‰ç«¯ç®¡ç†æœåŠ¡ç«¯çš„å„ç§API
|   |   `-- user        # ç”¨æˆ·æ¨¡å—ï¼ŒåŒ…å«ç”¨æˆ·ç®¡ç†ã€ç”¨æˆ·ä¿¡æ¯è·å–ç­‰
|   `-- server          # æœåŠ¡ç«¯é€»è¾‘ï¼ˆè¿™é‡ŒæŒ‡çš„æ˜¯frp-panelçš„æœåŠ¡ç«¯ï¼‰
|-- cache               # ç¼“å­˜ï¼Œç”¨äºå­˜å‚¨frpsçš„è®¤è¯token
|-- cmd                 # å‘½ä»¤è¡Œå…¥å£ï¼Œmainå‡½æ•°çš„æ‰€åœ¨åœ°ï¼Œè´Ÿè´£æŒ‰éœ€å¯åŠ¨å„ä¸ªæ¨¡å—
|-- common
|-- conf
|-- dao                 # data access objectï¼Œä»»ä½•å’Œæ•°æ®åº“ç›¸å…³çš„æ“ä½œä¼šè°ƒç”¨è¿™ä¸ªåº“
|-- doc                 # æ–‡æ¡£
|-- idl                 # idlå®šä¹‰
|-- middleware          # apiçš„ä¸­é—´ä»¶ï¼ŒåŒ…å«JWTå’Œcontextç›¸å…³ï¼Œç”¨äºå¤„ç†apiè¯·æ±‚ï¼Œé‰´æƒé€šè¿‡åä¼šæŠŠç”¨æˆ·ä¿¡æ¯æ³¨å…¥åˆ°contextï¼Œå¯ä»¥é€šè¿‡commonåŒ…è·å–
|-- models              # æ•°æ®åº“æ¨¡å‹ï¼Œç”¨äºå®šä¹‰æ•°æ®åº“è¡¨ã€‚åŒæ—¶åŒ…å«å®ä½“å®šä¹‰
|-- pb                  # protobufç”Ÿæˆçš„pbæ–‡ä»¶
|-- rpc                 # å„ç§rpcçš„æ‰€åœ¨åœ°ï¼ŒåŒ…å«Client/Serverè°ƒç”¨Masterçš„é€»è¾‘ï¼Œä¹ŸåŒ…å«Masterä½¿ç”¨Streamè°ƒç”¨Clientå’ŒServerçš„é€»è¾‘
|-- services            # å„ç§éœ€è¦åœ¨å†…å­˜ä¸­æŒä¹…è¿è¡Œçš„æ¨¡å—ï¼Œè¿™ä¸ªåŒ…å¯ä»¥ç®¡ç†å„ä¸ªæœåŠ¡çš„è¿è¡Œ/åœæ­¢
|   |-- api             # apiæœåŠ¡ï¼Œè¿è¡Œéœ€è¦å¤–éƒ¨ä¼ å…¥ä¸€ä¸ªginRouter
|   |-- client          # frpçš„å®¢æˆ·ç«¯ï¼Œå³frpcï¼Œå¯ä»¥æ§åˆ¶frpcçš„å„ç§é…ç½®/å¼€å§‹ä¸åœæ­¢
|   |-- master          # masteræœåŠ¡ï¼ŒåŒ…å«rpcçš„æœåŠ¡ç«¯å®šä¹‰ï¼Œæ¥æ”¶åˆ°rpcè¯·æ±‚åä¼šè°ƒç”¨bizåŒ…å¤„ç†é€»è¾‘
|   |-- rpcclient       # æœ‰çŠ¶æ€çš„rpcå®¢æˆ·ç«¯ï¼Œå› ä¸ºrpcçš„clientéƒ½æ²¡æœ‰å…¬ç½‘ipï¼Œå› æ­¤åœ¨rpc clientå¯åŠ¨æ—¶ä¼šè°ƒç”¨masterçš„streamé•¿è¿æ¥rpcï¼Œå»ºç«‹è¿æ¥åMasterå’ŒClienté€šè¿‡è¿™ä¸ªåŒ…é€šä¿¡
|   `-- server          # frpçš„æœåŠ¡ç«¯ï¼Œå³frpsï¼Œå¯ä»¥æ§åˆ¶frpsçš„å„ç§é…ç½®/å¼€å§‹ä¸åœæ­¢
|-- tunnel              # tunnelæ¨¡å—ï¼Œç”¨äºç®¡ç†tunnelï¼Œä¹Ÿå°±æ˜¯ç®¡ç†frpcå’ŒfrpsæœåŠ¡
|-- utils
|-- watcher             # å®šæ—¶è¿è¡Œçš„ä»»åŠ¡ï¼Œæ¯”å¦‚æ¯30ç§’æ›´æ–°ä¸€æ¬¡é…ç½®æ–‡ä»¶
`-- www
    |-- api
    |-- components # è¿™é‡Œé¢æœ‰ä¸€ä¸ªapitestç»„ä»¶ç”¨äºæµ‹è¯•
    |   `-- ui
    |-- lib
    |   `-- pb
    |-- pages
    |-- public
    |-- store
    |-- styles
    `-- types

```

### è°ƒè¯•å¯åŠ¨æ–¹å¼ï¼š

- master: `go run cmd/*.go master`
> client å’Œ server çš„å…·ä½“å‚æ•°è¯·å¤åˆ¶ master webui ä¸­çš„å†…å®¹
- client: `go run cmd/*.go client -i <clientID> -s <clientSecret>`
- server: `go run cmd/*.go server -i <serverID> -s <serverSecret>`

é¡¹ç›®é…ç½®æ–‡ä»¶ä¼šé»˜è®¤è¯»å–å½“å‰æ–‡ä»¶å¤¹ä¸‹çš„.envæ–‡ä»¶ï¼Œé¡¹ç›®å†…ç½®äº†æ ·ä¾‹é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥æŒ‰ç…§è‡ªå·±çš„éœ€æ±‚è¿›è¡Œä¿®æ”¹

è¯¦ç»†æ¶æ„è°ƒç”¨å›¾

![structure](/images/frp-panel/callvis.svg)

## é¡¹ç›®ä½¿ç”¨è¯´æ˜
frp-panelå¯é€‰dockerå’Œç›´æ¥è¿è¡Œæ¨¡å¼éƒ¨ç½²ï¼Œç›´æ¥éƒ¨ç½²è¯·åˆ°releaseä¸‹è½½æ–‡ä»¶ï¼š[release](https://github.com/VaalaCat/frp-panel/releases)

å¯åŠ¨è¿‡åé»˜è®¤è®¿é—®åœ°å€ä¸º http://IP:9000

### docker   

æ³¨æ„âš ï¸ï¼šclient å’Œ server çš„å¯åŠ¨æŒ‡ä»¤å¯èƒ½ä¼šéšç€é¡¹ç›®æ›´æ–°è€Œæ”¹å˜ï¼Œè™½ç„¶åœ¨é¡¹ç›®è¿­ä»£æ—¶ä¼šæ³¨æ„å‰åå…¼å®¹ï¼Œä½†ä»éš¾ä»¥å®Œå…¨é€‚é…ï¼Œå› æ­¤ client å’Œ server çš„å¯åŠ¨æŒ‡ä»¤ä»¥ master ç”Ÿæˆä¸ºå‡†

- master   
   
```bash
docker run -d -p 9000:9000 \
	-p 9001:9001 \
	-v /opt/frp-panel:/data \
	-e APP_GLOBAL_SECRET=your_secret \ # Masterçš„secretæ³¨æ„ä¸è¦æ³„æ¼ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„æ˜¯é€šè¿‡Masterç”Ÿæˆçš„
	-e MASTER_RPC_HOST=0.0.0.0 \
	vaalacat/frp-panel

```
- client   
   
```bash
docker run -d -p your_port:your_port \
	vaalacat/frp-panel client -s xxx -i xxx # åœ¨master WebUIå¤åˆ¶çš„å‚æ•°
```
- server   
   
```bash
docker run -d -p your_port:your_port \
	-p æœåŠ¡å™¨å¼€æ”¾ç«¯å£70011:æœåŠ¡å™¨å¼€æ”¾ç«¯å£7001 \
	-p æœåŠ¡å™¨å¼€æ”¾ç«¯å£8000-8100:æœåŠ¡å™¨å¼€æ”¾ç«¯å£8000-8100 \
	vaalacat/frp-panel server -s xxx -i xxx # åœ¨master WebUIå¤åˆ¶çš„å‚æ•°
```

### ç›´æ¥è¿è¡Œ(Linux)
- master   
   
```
APP_GLOBAL_SECRET=your_secret MASTER_RPC_HOST=0.0.0.0 frp-panel master
```
- client   
   
```
frp-panel client -s xxx -i xxx # åœ¨master WebUIå¤åˆ¶çš„å‚æ•°
```
- server
   
```
frp-panel server -s xxx -i xxx # åœ¨master WebUIå¤åˆ¶çš„å‚æ•°
```
### ç›´æ¥è¿è¡Œ(Windows)
åœ¨ä¸‹è½½çš„å¯æ‰§è¡Œæ–‡ä»¶åŒåæ–‡ä»¶å¤¹ä¸‹åˆ›å»ºä¸€ä¸ª `.env` æ–‡ä»¶(æ³¨æ„ä¸è¦æœ‰åç¼€å)ï¼Œç„¶åè¾“å…¥ä»¥ä¸‹å†…å®¹ä¿å­˜åè¿è¡Œå¯¹åº”å‘½ä»¤ï¼Œæ³¨æ„ï¼Œclientå’Œserverçš„å¯¹åº”å‚æ•°éœ€è¦åœ¨webé¡µé¢å¤åˆ¶

- master: `frp-panel-amd64.exe master`
```
APP_GLOBAL_SECRET=your_secret
MASTER_RPC_HOST=IP
DB_DSN=data.db
```

client å’Œ server è¦ä½¿ç”¨åœ¨ master WebUIå¤åˆ¶çš„å‚æ•°

- client: `frp-panel-amd64.exe client -s xxx -i xxx`

- server: `frp-panel-amd64.exe server -s xxx -i xxx`

### é…ç½®è¯´æ˜
[settings.go](https://github.com/VaalaCat/frp-panel/blob/main/conf/settings.go) æ–‡ä»¶
è¿™é‡Œæœ‰è¯¦ç»†çš„é…ç½®å‚æ•°è§£é‡Šï¼Œéœ€è¦è¿›ä¸€æ­¥ä¿®æ”¹é…ç½®è¯·å‚è€ƒè¯¥æ–‡ä»¶

### ä¸€äº›å›¾ç‰‡

![](/images/frp-panel/platform_info.png)
![](/images/frp-panel/login.png)
![](/images/frp-panel/register.png)
![](/images/frp-panel/clients_menu.png)
![](/images/frp-panel/server_menu.png)
![](/images/frp-panel/create_client.png)
![](/images/frp-panel/create_server.png)
![](/images/frp-panel/edit_client.png)
![](/images/frp-panel/edit_client_adv.png)
![](/images/frp-panel/edit_server.png)
![](/images/frp-panel/edit_server_adv.png)

## æœ€å

å¼€å‘è¿™ä¸ªé¡¹ç›®èŠ±äº†ä¸€æ•´ä¸ªå‘¨æœ«ï¼Œå®åœ¨æ˜¯æœ‰ç‚¹çƒ§æ—¶é—´ï¼Œä¸è¿‡ç›®å‰è¿˜æœ‰å¾ˆå¤šåŠŸèƒ½ï¼Œä¾‹å¦‚å¤šç”¨æˆ·ç®¡ç†ç­‰è¿˜æ²¡æœ‰å®Œå–„ï¼Œåé¢çœ‹é¡¹ç›®æœ‰æ²¡æœ‰äººç”¨å†æ…¢æ…¢æå§ï½]]></description><link>https://vaala.cat/posts/frp-panel-doc</link><guid isPermaLink="true">https://vaala.cat/posts/frp-panel-doc</guid><pubDate>Sun, 14 Jan 2024 13:57:19 GMT</pubDate></item><item><title><![CDATA[Vorkerå¼€å‘ç¬”è®°-è‡ªå»ºçš„äº‘å‡½æ•°å¹³å°]]></title><description><![CDATA[
é¡¹ç›®åœ°å€ï¼šhttps://github.com/VaalaCat/vorker

## å¼•è¨€

åšå®¢çœ‹èµ·æ¥æœ‰ä¸€å¹´æ²¡æ›´æ–°å•¦ï¼ŒåŠ å…¥è·³ä¸åŠ¨å…¬å¸è¿‡åçœŸçš„è·³ä¸åŠ¨äº†QwQã€‚æœ€è¿‘ç¢ç£¨ç€è¿˜æ˜¯è¯¥å†™ç‚¹ä»€ä¹ˆå…å¾—è®©å¤§å®¶ä»¥ä¸ºæˆ‘èµ›åšå¤±è¸ªï¼Œè¿™æ¬¡çš„é¡¹ç›®æˆ‘ç»™å®ƒå–åä¸ºVokerã€‚å…¶åŸºäºCloudflareå…¬å¸å¼€æºçš„[Workerd](https://github.com/cloudflare/workerd)ï¼Œè¿™ä¸ªWorkerdå°±æ˜¯CFçŸ¥åäº§å“[Cloudflare Worker](https://workers.cloudflare.com/)çš„å¼•æ“ã€‚ä½†CFä»…å¼€æºäº†å¼•æ“ï¼Œå¦å¤–çš„èƒ½åŠ›å¦‚è¿è¡Œç¼–æ’ã€KVå­˜å‚¨ã€æ§åˆ¶é¢æ¿ã€ç‰ˆæœ¬æ§åˆ¶ã€æ—¥å¿—ç»Ÿè®¡æ”¶é›†ã€ç”¨æˆ·æƒé™ç­‰åŠŸèƒ½å¹¶æ²¡æœ‰å…¬å¼€ï¼Œæ‰€ä»¥éœ€è¦è‡ªå·±å®Œå–„è¿™æ–¹é¢çš„èƒ½åŠ›ã€‚

ä»£ç å’Œä½¿ç”¨è¯´æ˜å‚è€ƒGithubï¼š[Vorker](https://github.com/VaalaCat/vorker)

è¿™æ¬¡è¦åšçš„å°±æ˜¯Cloudflare Workerçš„è‡ªæ‰˜ç®¡(Self Hosting)ç‰ˆæœ¬ï¼Œä»£ç æ‰§è¡Œèƒ½åŠ›ç”±CFå¼€æºworkerdç»„ä»¶æä¾›ï¼Œå…¶ä½™èƒ½åŠ›è‡ªè¡Œå¼€å‘å®Œæˆ

> ä¹‹æ‰€ä»¥å«Vokerï¼Œå› ä¸ºåšå‡ºæ¥çš„ä¸œè¥¿ç›¸æ¯”Workerä¸å®Œå–„ï¼Œæ‰€ä»¥æŠŠWç ä¸€åŠå°±å˜æˆVäº†ï¼Œ~~åŒæ—¶åšçš„æ—¶å€™äººå¿«æ²¡äº†ï¼Œæ‰€ä»¥å°‘äº†ä¸ªrï¼ˆqqqq~~ä»¥å‰å«vokerï¼Œç°åœ¨æ‹‰äº†ä¸€ä¸ªsemså’Œæˆ‘ä¸€èµ·ï¼Œäººè¿˜æ˜¯åœ¨çš„

## éœ€æ±‚ä»‹ç»

æ­¤æ¬¡çš„éœ€æ±‚æ˜¯å®Œæˆä¸€ä¸ªè‡ªæ‰˜ç®¡ç‰ˆæœ¬çš„Workerï¼Œä¸»è¦åŸå› æ˜¯ï¼š

1. CFçš„workeråŸŸåè¢«å¢™ï¼Œè™½ç„¶å¯ä»¥ç”¨è‡ªå·±çš„åŸŸåï¼Œä½†æ€»ä½“æ¥è¯´å›½å†…ä½¿ç”¨ä½“éªŒå¹¶ä¸å¥½
2. Free Planæœ‰é™é¢ï¼Œè™½ç„¶æˆ‘ç”¨ä¸å®Œï¼Œä½†æ˜¯çœ‹ç€è¿˜æ˜¯ä¸çˆ½ï¼Œæ¯•ç«Ÿè‡ªå·±æœ‰æœºå™¨å¯ä»¥ä¸é™é¢çš„å‘¢
3. å¯å®šåˆ¶èƒ½åŠ›ç¼ºå¤±ï¼ŒCFæ¯•ç«Ÿæ˜¯CFï¼Œä¸ªäººç”¨æˆ·çš„ä¸€äº›featureè¿˜æ˜¯è€ƒè™‘ä¸å¤ªå®Œå–„ï¼Œç”¨ç€æœ‰ç‚¹æ†‹å±ˆï¼Œè‡ªå·±å†™å°±èƒ½å¾ˆè½»æ¾çš„å’ŒGitä»“åº“é…åˆä¸ŠCI/CD
4. æˆ‘è‡ªå·±å¼€æ–°é¡¹ç›®çš„æ—¶å€™ä¸ç”¨å†™ä¸€å¤§å †çš„ç¯å¢ƒé…ç½®è„šæœ¬å’ŒCICDé…ç½®ï¼Œæå¤§æå‡äº†æˆ‘å¼€å‘æ•ˆç‡å’Œä½“éªŒï¼Œå¯¹äºä¸€äº›å°é¡¹ç›®ï¼Œæ— éœ€å†é…ç½®åå‘ä»£ç†ã€è·¯ç”±è§„åˆ™ã€è¿è¡Œçš„èŠ‚ç‚¹ä¿¡æ¯ã€SSLã€ç‹¬ç«‹æ•°æ®åº“è¡¨ç­‰ï¼ŒåŒæ—¶Debugä¹Ÿæ–¹ä¾¿å¾—å¤šï¼Œä¸ç”¨åœ¨ç¼–è¯‘ã€ä¸Šçº¿ç­‰ç­‰ç­‰

## æ˜ç¡®ç›®æ ‡

å¯¹äºä»¥ä¸Šéœ€æ±‚ï¼Œéœ€è¦è¾¾åˆ°çš„ä¸€äº›ç›®æ ‡å¦‚ä¸‹

1. éœ€è¦ä¸€ä¸ªæ§åˆ¶é¢çš„APIï¼Œèƒ½å¤Ÿè½»æ¾æ§åˆ¶æ¯å¥—ä»£ç çš„éƒ¨ç½²æƒ…å†µ
2. éœ€è¦åœ¨æ§åˆ¶é¢åšåå‘ä»£ç†ï¼Œå°†Workerdçš„æ¯ä¸€ä¸ªworkeræ˜ å°„åˆ°å¯¹åº”çš„åŸŸå
3. éœ€è¦ä¸€ä¸ªWebUIï¼Œæ–¹ä¾¿éšæ—¶æ›´æ–°ä»£ç ï¼ˆæ‰‹æœºç­‰
4. éœ€è¦HA ï¼ˆHigh Availabilityï¼‰éƒ¨ç½²ï¼Œä¸ç„¶ä¸€å°æœºå™¨åäº†æ‰€æœ‰ä»£ç éƒ½å¯„äº†
5. éœ€è¦æ”¯æŒå¤–éƒ¨åå‘ä»£ç†ï¼Œæ¯•ç«Ÿè‡ªå·±å†™çš„è‚¯å®šæ²¡æœ‰Traefik Nginxç­‰èƒ½åŠ›å¼º

## æ¶æ„è®¾è®¡

å¯¹äºä»¥ä¸Šç›®æ ‡ï¼Œè®¾è®¡å¦‚ä¸‹æ¶æ„ï¼š

![](/images/vorker/vorkerarch.svg)

## å®ç°

### åç«¯

å‰ç«¯é‡‡ç”¨Next.js/React/TailwindCSS/semi.desginï¼Œåç«¯Gin/Golang/Workerdã€‚

æœ€å¼€å§‹è¿˜åœ¨æ€è€ƒå¦‚ä½•å»æ§åˆ¶workerdæƒ³äº†å¾ˆé•¿æ—¶é—´ï¼ŒæŸä¸€å¤©çœ‹åˆ°Giteaé‡Œæ“ä½œgitæ˜¯ç›´æ¥cmd.runï¼Œæˆ‘ç›´æ¥å°±æ˜¯éœ‡æƒŠğŸ¤¯ï¼Œæ‰€ä»¥æˆ‘ä¹Ÿç›´æ¥å¼€æŠ„ğŸ˜ï¼Œæ‰€ä»¥workerçš„å¯åŠ¨å‚æ•°æ˜¯åœ¨Vorkeré‡Œæ‹¼èµ·æ¥çš„ã€‚

Workerdè¿è¡Œé…ç½®æ–‡ä»¶åŸºäº[capnp](https://capnproto.org/)ï¼Œè¿™ä¸ªIDLè¶…çº§å¿«ï¼Œå› ä¸ºä»–çš„ç»“æ„å®Œå…¨å’Œå†…å­˜å¸ƒå±€ä¸€è‡´ã€‚ä»–æœ‰ä¸€ä¸ª[Goå®ç°](https://github.com/capnproto/go-capnp)ï¼Œæœ¬æ¥æ‰“ç®—æ˜¯ç”¨è¿™ä¸ªåº“æŒ‰ç…§[Workerdçš„Schema](https://github.com/cloudflare/workerd/blob/main/src/workerd/server/workerd.capnp)å»ç”ŸæˆWorkerdçš„é…ç½®æ–‡ä»¶ï¼Œä½†æ˜¯çœ‹äº†ä¸€çœ¼å‘ç°Workerdçš„é…ç½®å¹¶æ²¡æœ‰å›ºå®šä¸‹æ¥ï¼Œæ‰€ä»¥æš‚æ—¶å…ˆå†™ä¸ªç®€å•çš„templateç”Ÿæˆé…ç½®æ–‡ä»¶ã€‚

å¯¹äºapiéƒ¨åˆ†æ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œå°±æ˜¯CRUDï¼Œè¦æ³¨æ„ä¸€ç‚¹æ˜¯Vorkerå°†Workerdçš„æ¯ä¸€ä¸ªWorkeræ‰€æœ‰ä¿¡æ¯éƒ½å­˜å‚¨åœ¨æ•°æ®åº“ä¸­ï¼Œç„¶åé€šè¿‡æ•°æ®åº“é‡Œçš„ä¿¡æ¯ç”Ÿæˆé…ç½®æ–‡ä»¶ç»™Workerdä½¿ç”¨ã€‚è¿™ä¸ªè¿‡ç¨‹ä¸­å¯èƒ½ä¼šå‡ºç°ä¸ä¸€è‡´ï¼ŒVorkerè®¾è®¡ä¸Šæ˜¯ä»¥æ•°æ®åº“ä¸ºå”¯ä¸€å¯ä¿¡æ•°æ®æºï¼Œå¯¹æ–‡ä»¶åªæœ‰å†™å…¥æ“ä½œï¼Œæ²¡æœ‰è¯»å–ï¼Œå› æ­¤å®šæ—¶è°ƒç”¨æ¥å£åˆ·æ–°æ–‡ä»¶å³å¯ã€‚

Workerdçš„å®šä¹‰ç”¨protobufï¼Œå®šä¹‰å¦‚ä¸‹

```
syntax = "proto3";
package defs;
option go_package = "../entities";

message Worker {
    string UID = 1; // Unique id of the worker
    string ExternalPath = 2; // External path of the worker, default is '/'
    string HostName = 3; // the workerd runner host name, default is 'localhost'
    string NodeName = 4; // for future HA feature, default is 'default'
    int32 Port = 5; // worker's port, platfrom will obtain free port while init worker
    string Entry = 6; // worker's entry file, default is 'entry.js'
    bytes Code = 7; // worker's code
    string Name = 8; // worker's name, also use at worker routing, must be unique, default is UID
}

// one WorkerList for one workerd instance
message WorkerList { 
    string ConfName = 1; // the name of the workerd instance
    repeated Worker Workers = 2;
    string NodeName = 3; // workerd runner host name, for HA
}
```

è·¯ç”±éƒ¨åˆ†åç»­éœ€è¦æ”¯æŒå¤–éƒ¨åå‘ä»£ç†ï¼Œåœ¨Traefikä¸­æ³¨å†Œè·¯ç”±å®ç°æ›´å¤šåŠŸèƒ½ã€‚ä¹Ÿéœ€è¦æ”¯æŒå†…éƒ¨åå‘ä»£ç†ï¼Œå®ç°å¦‚ä¸‹

```go
package proxy

import (
    "fmt"
    "net/http/httputil"
    "net/url"
    "strings"
    "voker/entities"
    "voker/models"

    "github.com/gin-gonic/gin"
    "github.com/sirupsen/logrus"
)

func init() {
    proxy := entities.GetProxy()
    workerRecords, err := models.AdminGetAllWorkers()
    if err != nil {
        logrus.Errorf("failed to get all workers, err: %v", err)
    }
    workerList := &entities.WorkerList{
        Workers: models.Trans2Entities(workerRecords),
    }
    proxy.InitProxyMap(workerList)
}

func Endpoint(c *gin.Context) {
    host := c.Request.Host
    name := strings.Split(host, ".")[0]
    port := entities.GetProxy().GetProxyPort(name)
    if port == 0 {
        c.JSON(404, gin.H{"code": 1, "error": "not found"})
        return
    }

    remote, err := url.Parse(fmt.Sprintf("http://localhost:%v", port))
    if err != nil {
        logrus.Panic(err)
    }

    c.Request.URL.Path = c.Copy().Param("name")
    proxy := httputil.NewSingleHostReverseProxy(remote)
    proxy.ServeHTTP(c.Writer, c.Request)
}
```

åœ¨å¯åŠ¨æ—¶å°±å°†è·¯ç”±æ•°æ®å†™åˆ°å†…å­˜é‡Œã€‚

### å‰ç«¯

å‰ç«¯ç”±@semsæ¨èä½¿ç”¨äº†semidesignï¼Œæ˜¯å­—èŠ‚æ–°å¼€æºçš„ç»„ä»¶åº“ï¼Œä¸å¾—ä¸è¯´ç¡®å®å¥½çœ‹ï¼Œè¿˜èƒ½ç”¨è®¾è®¡ç¨¿å…ˆå‡ºä¸€ä¸ªä»£ç åˆç¨¿ï¼Œå±äºæ˜¯åç«¯ç¦éŸ³ã€‚

æ“äº†å››ä¸ªé¡µé¢ï¼Œä½¿ç”¨å¸¸è§çš„ä¾§è¾¹æ +header+å†…å®¹å¸ƒå±€

* adminï¼Œä¸»è¦ç”¨äºworkeråˆ—è¡¨ã€ç”¨æˆ·è®¾ç½®ç­‰
* registerï¼Œç”¨æˆ·æ³¨å†Œ
* loginï¼Œç”¨æˆ·ç™»å½•
* editorï¼Œç¼–è¾‘ä»£ç ã€è®¾ç½®worker

ä»£ç ç¼–è¾‘å™¨ç”¨äº†vscodeåŒæ¬¾çš„monacoï¼Œå¼„ä¸Šäº†jsçš„ä»£ç è¡¥å…¨ï¼Œå†™èµ·æ¥æ„Ÿè§‰è¿˜æ˜¯ä¸é”™çš„ã€‚

## è¿è¡Œ

1. é¦–å…ˆè¦ä¸‹è½½Workerdçš„binary

2. docker
   
   ```bash
   docker run -dit --name=vorker \
       -e DB_PATH=/path/to/workerd/db.sqlite \
       -e WORKERD_DIR=/path/to/workerd \
       -e WORKERD_BIN_PATH=/bin/workerd \
       -e DB_TYPE=sqlite \
       -e WORKER_LIMIT=10000 \
       -e WORKER_PORT=8080 \
       -e API_PORT=8888 \
       -e LISTEN_ADDR=0.0.0.0 \
       -e WORKER_DOMAIN_SUFFIX=example.com \ # concat with worker name and scheme
       -e SCHEME=http \ # external scheme
       -e ENABLE_REGISTER=false \
       -e COOKIE_NAME=authorization \
       -e COOKIE_AGE=21600 \
       -e COOKIE_DOMAIN=localhost # change it to your domain \
       -e JWT_SECRET=xxxxxxx \
       -e JWT_EXPIRETIME=6 \
       -p 8080:8080 \
       -p 8888:8888 \
       -v $PWD/workerd:/path/to/workerd \
       -v $PWD/workerd-linux-64:/bin/workerd \
       vaalacat/vorker:latest
   ```

3. è®¿é—®`http://localhost:8888`è¿›å…¥æ§åˆ¶å°ï¼Œåœ¨headeré‡Œçš„Hostå¸¦ä¸Šworkerçš„åå­—å³å¯

### è¿è¡Œæˆªå›¾

ç®¡ç†ç•Œé¢

![](/images/vorker/vorkeradmin.png)

Workerç¼–è¾‘ç•Œé¢

![](/images/vorker/vorkeredit.png)

Workerè¿è¡Œç•Œé¢

![](/images/vorker/vorkerexec.png)

## æ€»ç»“

å¿™æ¯•è®¾å¿™äº†ä¸€é˜µï¼Œåœ¨è¿™ä¸ªé¡¹ç›®ä¸Šå¹¶æ²¡æœ‰æŠ•å…¥å¾ˆå¤šçš„æ—¶é—´ï¼Œè¯•ç”¨äº†æœ€æ–°çš„ç”¨äºç”Ÿäº§çš„å‰ç«¯æŠ€æœ¯æ ˆï¼Œè‡³ä»Šè¿˜æœ‰HAã€Logã€Metricsã€å¤–éƒ¨åå‘ä»£ç†ç­‰æœªå®Œå…¨å®Œæˆï¼Œä½†æ˜¯è¿™ä¸œè¥¿åœ¨æœªå®Œæˆçš„çŠ¶æ€å°±å¾ˆå¥½ç”¨äº†ï¼Œçœ‹èµ·æ¥æœªæ¥çš„Serverless+WASMè¿˜ä¼šå¤§æ”¾å¼‚å½©ã€‚é¡ºä¾¿åœ¨è¿™æ®µæ—¶é—´è¿˜çœ‹äº†[lagon](https://github.com/lagonapp/lagon)ã€[Windmill](https://github.com/windmill-labs/windmill)ã€[laf](https://github.com/labring/laf)ç­‰serverless functionå¹³å°ï¼Œä¼¼ä¹å¯¹Serverlessæœ‰äº†ä»€ä¹ˆå¥‡å¦™çš„æ„Ÿè§‰ğŸ˜³ï¼Œå¸Œæœ›ä»¥åVorkerä¹Ÿèƒ½å’ŒçŸ¥åå¼€æºäº§å“ä¸€æ ·å‘å±•ä¸‹å»ï½ï½ï½

Vorkerå·²ç»æˆä¸ºäº†Vaalaâ˜ï¸çš„APIå±‚çš„é‡è¦éƒ¨åˆ†ï¼Œåç»­æˆ‘ä¹Ÿä¼šé™†ç»­å†™ä¸€äº›å…³äºå¦‚ä½•ä»è£¸é‡‘å±æœºå™¨æ„å»ºä¸€ä¸ªä¼ä¸šçº§çš„äº‘å¹³å°çš„æ–‡ç« ï¼Œä¾‹å¦‚ç”¨æˆ–è€…ä¸ç”¨K8Sçš„ç»Ÿä¸€ç½‘å…³ã€SCMã€é…ç½®ä¸­å¿ƒã€å®¹å™¨è°ƒåº¦ã€ServiceMeshç­‰ï¼Œå°½è¯·æœŸå¾…ï¼

## å‚è€ƒ

* https://github.com/hisorange/opwork
* https://gobyexample.com/writing-files
* https://colobu.com/2020/12/27/go-with-os-exec/#%E5%B7%A5%E4%BD%9C%E8%B7%AF%E5%BE%84
* https://ijayer.github.io/post/tech/code/golang/20171010-go-template/#%E9%81%8D%E5%8E%86slice-1
* https://github.com/cloudflare/workerd
* https://github.com/gin-gonic/gin/issues/1143
]]></description><link>https://vaala.cat/posts/Vorkerå¼€å‘ç¬”è®°-è‡ªå»ºçš„äº‘å‡½æ•°å¹³å°</link><guid isPermaLink="true">https://vaala.cat/posts/Vorkerå¼€å‘ç¬”è®°-è‡ªå»ºçš„äº‘å‡½æ•°å¹³å°</guid><pubDate>Sat, 03 Jun 2023 22:58:48 GMT</pubDate></item><item><title><![CDATA[å¼‚åœ°å¤šäººåœ¨çº¿ç”µå½±é™¢]]></title><description><![CDATA[
## å¼•è¨€

æœ€è¿‘ä¸€æ®µæ—¶é—´å’Œnpyå¼‚åœ°ï¼Œç»å¸¸å°±ä¼šæœ‰ä¸€äº›ä¸€èµ·çœ‹è§†é¢‘çš„éœ€æ±‚ï¼Œç„¶é¹…å¸‚é¢ä¸Šè§†é¢‘å…±äº«çš„äº§å“è¦ä¹ˆæ˜¯å› ä¸ºç‰ˆæƒçš„åŸå› èµ„æºä¸è¶³ï¼Œè¦ä¹ˆæ˜¯å› ä¸ºäº§å“å®šä½æ²¡æœ‰åŠæ³•é¡¾åŠåˆ°è¿™ç§å°ä¼—å¸‚åœºéœ€æ±‚ã€‚

ä½œä¸ºä¸€ä¸ªå¼€å‘ï¼Œé‡åˆ°è¿™ç§é—®é¢˜å½“ç„¶æ˜¯å†³å®šè¦è‡ªå·±æ•²ä¸€ä¸ªå‡ºæ¥å’¯ã€‚

## æ¼”ç¤º

  æ¼”ç¤ºç«™ç‚¹ï¼š[https://movie.vaala.cat/](https://movie.vaala.cat/) ä¸ä¿è¯å¯ç”¨æ€§ï¼Œéœ€è¦çš„åŒå­¦è¯·è‡ªè¡Œæ­å»ºã€‚
  æµ‹è¯•ç”¨è§†é¢‘åœ°å€ï¼š[https://media.w3.org/2010/05/sintel/trailer.mp4](https://media.w3.org/2010/05/sintel/trailer.mp4)

 ![ç”µè„‘å’Œç”µè„‘](https://minio.vaala.cloud/vaalacloud/tmp/mac-and-mac.gif)

 ![ç”µè„‘å’Œæ‰‹æœº](https://minio.vaala.cloud/vaalacloud/tmp/mac-and-phone.gif)

## äº§å“è°ƒç ”

åœ¨å‡†å¤‡è‡ªå·±åŠ¨æ‰‹ä¹‹å‰ï¼Œé¦–å…ˆè¦åˆ†æå¸‚é¢ä¸Šå·²æœ‰çš„æ–¹æ¡ˆæœ‰å“ªäº›ï¼Œéœ€è¦å¸å–ç»éªŒå’Œåˆ›æ„ä½œä¸ºè‡ªå·±é¡¹ç›®çš„featureã€‚

åœ¨çŸ¥ä¹å’Œv2 reddit ä»¥åŠæ²¹ç®¡ä¸Šè°ƒç ”åå‘ç°ï¼Œå¼‚åœ°æ‹åœ¨çº¿è§†é¢‘åŒæ­¥è¿™ç§éœ€æ±‚ä¸€èˆ¬æœ‰å¦‚ä¸‹å‡ ç§è§£å†³æ–¹æ¡ˆï¼š

* æ‰“ä¸ªç”µè¯å–Š321ï¼Œæœ€ç®€å•æœ€ç›´æ¥çš„æ–¹æ¡ˆï¼Œä¸è¿‡é‡åˆ°è§†é¢‘å¡é¡¿æˆ–è€…æƒ³è¦æš‚åœå’Œåˆ†äº«ç²¾å½©é•œå¤´å°±æœ‰äº›éº»çƒ¦äº†


* å„ç§**å›½å¤–äº§å“**ï¼Œä¾‹å¦‚[syncTube](https://sync-tube.de/)ï¼Œ[twoseven](https://twoseven.xyz)ç­‰ï¼Œè¿™ç±»äº§å“èƒ½å¤ŸåŒæ­¥çš„æ˜¯Netflixæˆ–YouTubeä¸Šçš„æµåª’ä½“ï¼Œåœ¨å›½å†…å‡ ä¹æ²¡æœ‰å—ä¼—ï¼Œå¯¹æˆ‘æ¥è¯´ä¹Ÿæ˜¯æ¯«æ— ç”¨å¤„ã€‚
* å„ç§**å›½å†…äº§å“**ï¼Œä¾‹å¦‚BiliBiliä¸€èµ·çœ‹ï¼Œå¾®å…‰ç­‰äº§å“ï¼Œè¿™ç±»äº§å“ä¹Ÿå¤§éƒ½å› ä¸ºç‰ˆæƒå’Œäº§å“å®šä½åŸå› ï¼Œå°†è§†é¢‘æºé™åˆ¶åœ¨ç«™å†…ï¼Œæœ‰äº›æœ¬åœ°çš„ç”µå½±æˆ–å…¶å®ƒå°ç«™æ‰¾åˆ°çš„èµ„æºå¹¶ä¸èƒ½åŒæ­¥ã€‚
* ç°æœ‰**å›½å†…å¼€æºé¡¹ç›®**ï¼Œå„ä½å¤§ä½¬å¼€å‘çš„[Coplay](https://github.com/Justineo/coplay)ï¼Œ[SyncSofa](https://github.com/LouisYLWang/Sync-Sofa)ï¼Œå‰è€…è®¸ä¹…æœªç»´æŠ¤çœ‹èµ·æ¥æ˜¯ä¸å¯ç”¨çš„çŠ¶æ€ï¼ˆä½œè€…æ²¡å¼‚åœ°äº†ä¼¼ä¹å°±ä¸ç»´æŠ¤äº†å²‚å¯ä¿®ï¼‰ï¼Œåè€…æ˜¯ä½œä¸ºæµè§ˆå™¨æ’ä»¶è¿è¡Œï¼Œéš¾ä»¥åœ¨æ‰‹æœºä¸Šå®ç°åŠŸèƒ½ï¼ˆå¹¶ä¸”è¿™ä¸ªä½œè€…ä¼¼ä¹ä¹Ÿæ˜¯ç»“æŸå¼‚åœ°äº†å²‚å¯ä¿®ï¼‰å¹¶ä¸”äºŒè€…å¹³å°æ‰€é™ï¼Œä¹Ÿåªèƒ½è§‚çœ‹ç‰¹å®šå¹³å°ç­‰å†…å®¹ã€‚
* ç°æœ‰**å›½å¤–å¼€æºé¡¹ç›®**ï¼Œ[SyncPlay](https://syncplay.pl/) ï¼Œäº§å“ä¾æ‰˜äºVLCï¼Œä¹Ÿåªèƒ½åœ¨ç”µè„‘ä¸Šè¿è¡Œï¼Œéš¾ä»¥ç§»æ¤åˆ°æ‰‹æœºä¸Šã€‚
* å¯¹ç°æœ‰äº§å“çš„é­”æ”¹åˆ©ç”¨ï¼Œä¾‹å¦‚æœ‰äº›åŒå­¦ç”¨TeamViewerï¼Œè…¾è®¯ä¼šè®®ï¼ŒZoomç­‰è§†é¢‘ä¼šè®®å’Œè¿œç¨‹åä½œäº§å“æ¥å®ç°ä¸€èµ·è§‚çœ‹ï¼Œå°è¯•è¿‡åå‘ç°å› ä¸ºå›½å†…ç½‘ç»œç¯å¢ƒé—®é¢˜ï¼Œä¸Šè¡Œå¸¦å®½ä¸è¶³ï¼Œå¾ˆéš¾è¾¾åˆ°ç†æƒ³çš„æ•ˆæœã€‚
* é¢å¤–åˆ†ä¸€ä¸ªç±»ï¼šğŸiOSåœ¨15ä¸­å…¬å¸ƒäº†Universal Controlå’ŒSharePlayï¼Œå…¶ç†å¿µéå¸¸ç¬¦åˆéœ€æ±‚ï¼Œä½†ç°åœ¨å¹¶ä¸èƒ½çœ‹å‡ºå®ƒçš„æ¸¸æˆï¼Œè®¾å¤‡ä¹Ÿæ˜¯é™å®šåœ¨äº†è‹¹æœç”Ÿæ€å†…ï¼Œå¹¶ä¸”ä¹Ÿé™å®šäº†èµ„æºæºå¤´ï¼Œä¹Ÿå¸Œæœ›åº“å…‹èƒ½æŠŠè¿™ä¸ªäº§å“å‘æ‰¬å…‰å¤§å§ã€‚

æ‰€ä»¥ä»å·²æœ‰çš„äº§å“å¯ä»¥çœ‹å‡ºï¼Œæˆ‘çš„éœ€æ±‚æ˜¯ï¼š

* æ“ä½œç®€å•ï¼Œæ— éœ€ç™»é™†æ³¨å†Œï¼Œç‚¹å‡»å³ç”¨ï¼Œæé«˜npyçš„ä½¿ç”¨ä½“éªŒï¼Œäº§å“åŠ›å¼ºã€‚
* å¯ä»¥ç›´æ¥è½½å…¥äº’è”ç½‘æµåª’ä½“èµ„æºï¼Œèµ„æºä¸°å¯Œï¼Œè½½å…¥ç®€å•ï¼Œè·¨å¹³å°ï¼Œé€Ÿåº¦å¿«ä½“éªŒè‰¯å¥½ã€‚
* è·¨å¹³å°ï¼Œæ— è®ºnpyç”¨çš„æ˜¯ä»€ä¹ˆè®¾å¤‡ï¼Œä¸ç”¨å®‰è£…appå’Œæ’ä»¶ï¼Œå¯ä»¥æ— æ„Ÿæ¥å…¥ï¼Œè¿›åº¦æ¡æ‹–åˆ°å“ªå°±æ˜¯å“ªã€‚

## æŠ€æœ¯é€‰å‹

ä»ä¸Šé¢çš„éœ€æ±‚æ¥çœ‹ï¼Œæˆ‘æœ€å¼€å§‹æƒ³åˆ°çš„æ˜¯åšä¸€ä¸ªç›´æ’­æ¨æµæ§åˆ¶æœåŠ¡å™¨ï¼Œç”±èµ„æºæœåŠ¡å™¨å°†è§†é¢‘æµé€šè¿‡hlsæˆ–æ˜¯rtmpåè®®ä¼ é€åˆ°æµè§ˆå™¨ç›´æ¥æ’­æ”¾ï¼Œè·¨å¹³å°ï¼Œæ“ä½œç®€å•ï¼ŒæŠ€æœ¯æˆç†Ÿã€‚ä½†æ˜¯å®é™…æµ‹è¯•åå‘ç°è¿™ç§äº§å“æ²¡æœ‰é«˜è´¨é‡CDNå’ŒOSSæ”¯æ’‘éš¾ä»¥è¾¾åˆ°å¥½çš„ä½“éªŒï¼Œå»¶è¿Ÿå·¨å¤§ä¸”ä¸å¯é ï¼Œä½“éªŒéå¸¸ä¸å¥½ã€‚

é‡æ–°æ€è€ƒåæˆ‘é€‰æ‹©ä½¿ç”¨WebæŠ€æœ¯æ ˆï¼Œåšä¸€ä¸ªPWAï¼Œä¸€ä¸ªé“¾æ¥ç‚¹å¼€å°±èƒ½ç”¨ï¼Œèµ„æºé“¾æ¥ç²˜è´´è¿›å»å°±å¯ä»¥å¼€å§‹ã€‚å¹¶ä¸”WebæŠ€æœ¯æ ˆä¸­æœ‰WebRTCå’ŒWebSocketè¿™ç§é•¿é“¾æ¥å’Œæ•°æ®å¯¹ç­‰å…±äº«æŠ€æœ¯ï¼Œéå¸¸ç¬¦åˆæˆ‘ä»¬çš„éœ€æ±‚ã€‚

åŸºäºä¸ªäººæƒ…å†µï¼Œæˆ‘é€‰æ‹©çš„æŠ€æœ¯æ ˆä¸º

å‰ç«¯ï¼š

* ä½¿ç”¨VideoJSåŠ è½½ç¬¬ä¸‰æ–¹è§†é¢‘ï¼ŒAPIä¸°å¯Œï¼Œæœ‰äº‹ä»¶é©±åŠ¨å¯ä»¥å®ç°è¿œç«¯è§¦å‘æœ¬åœ°å‡½æ•°æ‰§è¡Œã€‚å¯ä»¥åŠ è½½mp4å’Œwebmä»¥åŠoggç¼–ç çš„ç¬¬ä¸‰æ–¹æµåª’ä½“ã€‚
* ä½¿ç”¨WebSocketä½œä¸ºå‰åç«¯ä¸šåŠ¡æ•°æ®äº¤æ¢åè®®ï¼Œé•¿è¿æ¥ç¨³å®šå¯é ï¼Œäº‹ä»¶é©±åŠ¨ï¼Œå®¹æ˜“å®ç°å¤šäººæ•°æ®åŒæ­¥ï¼ˆä½†ç›®å‰çœ‹æ¥æœ‰æ•°æ®å†²çªï¼ŒåæœŸå‡†å¤‡æ¢ç”¨CRDTæ•°æ®ç»“æ„ï¼‰ã€‚
* ä½¿ç”¨Vueæ„å»ºPWAï¼Œå‰åç«¯åˆ†ç¦»ï¼Œå¿«é€Ÿæ›´æ¢æœåŠ¡ç«¯é™ä½å»¶è¿Ÿæå‡ä½“éªŒã€‚
* Vuetifyï¼šMaterial Designï¼ŒåŠ¨ç”»ä¸°å¯Œï¼Œç”¨æˆ·ä½“éªŒå¥½ã€‚

åç«¯ï¼š

* Golangï¼šå¤§é“è‡³ç®€ã€‚
* Gin/Socketioï¼šç°æˆçš„ï¼Œå¥½ç”¨ã€‚

å¯ä»¥å‘ç°æ´»éƒ½ç”¨åœ¨å‰ç«¯äº†ï¼ˆæ¯•ç«Ÿåç«¯æ˜¯ç»™æˆ‘è‡ªå·±çœ‹ï¼Œå‰ç«¯æ˜¯è¦ç»™npyçš„ï¼Œæ‰“ç®—åšä¸€ä¸ªæ— çŠ¶æ€æœåŠ¡ï¼Œè½»é‡ï¼Œæ‰€ä»¥å°±ä¸ç”¨æ•°æ®åº“äº†ï¼Œå¯åŠ¨ä¸€æ¬¡ç”¨ä¸€æ¬¡ã€‚

## é€»è¾‘è®¾è®¡

å¯¹npyæ¥è¯´ï¼Œæƒ³çš„æ˜¯éšæ—¶å¯ä»¥æš‚åœï¼Œéšæ—¶å¯ä»¥æ‹–è¿›åº¦æ¡ï¼Œè€Œä¸”ç”±äºç½‘ç»œç¯å¢ƒï¼Œå¥¹ç½‘ç»œç»å¸¸å¡ï¼Œæ‰€ä»¥è¦åšè‡ªåŠ¨åŒæ­¥å’Œè‡ªåŠ¨é‡è¿ï¼Œç”¨äº‹ä»¶é©±åŠ¨çš„é€»è¾‘æˆ‘ä»¬å¾ˆå¥½å°±èƒ½è®¾è®¡å‡ºåŸå‹ï¼Œæˆ‘ä»¬è®¾è®¡ä»¥ä¸‹äº‹ä»¶å¹¶å®šä¹‰äº‹ä»¶çš„è¡Œä¸ºï¼š

* `getUsers`ï¼šå®¢æˆ·ç«¯æ¯æ¬¡å‘èµ·è¯¥è¯·æ±‚ï¼ŒæœåŠ¡å™¨ä¾¿å›å¤`allUsers` äº‹ä»¶å¹¶é™„ä¸Šæ‰€æœ‰ç”¨æˆ·ã€‚
* `allUsers`ï¼šå®¢æˆ·ç«¯æ¥æ”¶åˆ°è¯¥äº‹ä»¶ï¼Œéœ€è¦æ›´æ–°æœ¬åœ°æ˜¾ç¤ºçš„ç”¨æˆ·åˆ—è¡¨ã€‚
* `Null`ï¼šå®¢æˆ·ç«¯å‘èµ·`getUsers` è¯·æ±‚ï¼Œå¦‚æœè¯¥æˆ¿é—´æ²¡æœ‰ç”¨æˆ·ï¼Œåˆ™è¿”å›`Null` ï¼Œå‰ç«¯åˆ‡æ¢åˆ°æˆ¿é—´åˆ›å»ºæ¨¡å¼ã€‚
* `time`ï¼šå®¢æˆ·ç«¯å‘èµ·è¯¥è¯·æ±‚ï¼ŒæœåŠ¡ç«¯æ”¶åˆ°æ—¶é—´åå°†æœåŠ¡ç«¯ä¿å­˜çš„è¯¥å®¢æˆ·ç«¯æ—¶é—´è¿›åº¦è®°å½•ï¼Œå¹¶æŸ¥æ‰¾å½“å‰æˆ¿é—´æ‰€æœ‰å®¢æˆ·ç«¯çš„æ—¶é—´è¿›åº¦ï¼Œæ‰¾å‡ºæœ€å¤§å’Œæœ€å°å€¼ï¼Œä½¿ç”¨`sync` äº‹ä»¶å°†ä¸¤ä¸ªæ—¶é—´å¹¿æ’­åˆ°è¯¥æˆ¿é—´ã€‚
* `sync`ï¼šå®¢æˆ·ç«¯æ”¶åˆ°è¯¥äº‹ä»¶ï¼Œéœ€è¦è‡ªè¡Œé€‰æ‹©æ›´æ–°åˆ°æœ€å°è¿˜æ˜¯æœ€å¤§æ—¶é—´ï¼Œå¹¶ä¸”ä¸ºäº†é˜²æ­¢ç½‘ç»œæ³¢åŠ¨é€ æˆçš„å°å»¶è¿Ÿï¼Œåªæœ‰åœ¨å·®è·å¤§äºä¸€å®šå€¼æ—¶æ‰é€‰æ‹©è¿›è¡Œæ›´æ–°ï¼Œè¿™é‡Œæˆ‘é€‰æ‹©åªå‘å‰æ›´æ–°ã€‚
* `setTime`ï¼šå®¢æˆ·ç«¯å‘é€è¯¥è¯·æ±‚ï¼Œå®¢æˆ·ç«¯åŒæ—¶æ¥æ”¶è¯¥äº‹ä»¶ï¼Œå½“è¿›åº¦æ¡è¢«æ‹–åŠ¨ï¼Œ`VideoJS` çš„`timeupdate` ä¼šè¶…è¿‡250æ¯«ç§’ï¼Œæ¯å½“è¶…è¿‡1ç§’å°±å‘é€è¯¥è¯·æ±‚åˆ°æœåŠ¡ç«¯ï¼Œå¹¶é™„ä¸Šæ–°çš„æ—¶é—´ï¼ŒæœåŠ¡ç«¯å¯¹è¯¥è¯·æ±‚è¿›è¡Œå¹¿æ’­ï¼Œè®©æˆ¿é—´å†…æ‰€æœ‰å®¢æˆ·ç«¯éƒ½è®¾å®šåˆ°è¯¥æ—¶é—´ï¼Œ
* `getTime`ï¼šå®¢æˆ·ç«¯å‘é€è¯¥è¯·æ±‚ï¼Œå®¢æˆ·ç«¯åŒæ—¶æ¥æ”¶è¯¥äº‹ä»¶ï¼Œå‘é€æ—¶ä¼šç”±æœåŠ¡ç«¯è¿›è¡Œå¹¿æ’­ï¼Œæ”¶åˆ°è¯¥è¯·æ±‚çš„æ‰€æœ‰å®¢æˆ·ç«¯ä¼šå›å¤`time` äº‹ä»¶ï¼Œè§¦å‘æœåŠ¡ç«¯å¹¿æ’­çš„`sync`ï¼Œä»è€Œå®ç°æˆ¿é—´è¿›åº¦åŒæ­¥ã€‚

çœ‹èµ·æ¥ç•¥æœ‰æ··ä¹±ï¼Œæˆ‘ç”šè‡³ä¸çŸ¥é“èƒ½ä¸èƒ½è·‘èµ·æ¥ï¼ˆæœ€åç¡®å®æ˜¯è·‘èµ·æ¥äº†ç”šè‡³è·‘çš„ä¸é”™ã€‚

ä¸è¿‡è¿™åªæ˜¯ä¸€ä¸ªåŸå‹ï¼ŒåæœŸæ‰“ç®—ä½¿ç”¨CRDTè¿›è¡Œé‡æ„ã€‚

## ä»£ç å®ç°

è¿™é‡Œä¸å¯¹ä»£ç åšè¯¦ç»†ä»‹ç»ï¼Œæ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥ç›´æ¥æŸ¥çœ‹ä»“åº“ï¼Œå‰ç«¯å°±å‡ ç™¾è¡Œï¼Œåç«¯ä¹Ÿå¾ˆçŸ­ï¼Œåªæœ‰ä¸¤ç™¾å¤šè¡Œã€‚

## ä½¿ç”¨å¸®åŠ©

å¤§å®¶æœ€å…³å¿ƒçš„ä¹Ÿè®¸æ˜¯è¿™ä¸ªå§ï¼Œå› ä¸ºæ˜¯ä¸€ä¸ªWebé¡¹ç›®ï¼Œæ‰€ä»¥éœ€è¦ä¸€å°æœåŠ¡å™¨ï¼Œè¿™æ˜¯è‚¯å®šçš„å§ï¼Œå¹¶ä¸”èµ„æºçš„æ¥æºæ˜¯ç¬¬ä¸‰æ–¹æµåª’ä½“ï¼Œæ‰€ä»¥æµç•…ç¨‹åº¦å¹¶ä¸å–å†³äºæœåŠ¡å™¨çš„å¸¦å®½ï¼ŒæœåŠ¡å™¨åªç”¨æ¥åšè¿›åº¦æ¡æ•°æ®çš„åŒæ­¥ï¼Œå¯ä»¥è¯´è´Ÿè½½éå¸¸çš„ä½ï¼Œ10Kbç½‘ç»œéƒ½ä¸ä¼šæœ‰é—®é¢˜ï¼Œä¹Ÿå¯ä»¥å®ç°æ¯«ç§’çº§çš„åŒæ­¥ã€‚ä¸ºäº†æ–¹ä¾¿éƒ¨ç½²ï¼Œæˆ‘å°†é¡¹ç›®ç¼–è¯‘åˆ°äº†Releaseï¼Œéœ€è¦çš„åŒå­¦å¯ä»¥è‡ªè¡Œä¸‹è½½ï¼Œï¼ˆè¿™é‡Œå¯ä»¥å¼€å¼€è„‘æ´ä½¿ç”¨æ ‘è“æ´¾æˆ–è€…è½¯è·¯ç”±åšDDNSæˆ–è€…å†…ç½‘ç©¿é€è¿è¡Œèµ·æ¥ï¼Œå¦‚æœå®åœ¨å¤ªæ‡’ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ç»™å‡ºçš„æµ‹è¯•url

éƒ¨ç½²æ–¹å¼æœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯ä½¿ç”¨Dockerï¼Œå¦ä¸€ç§æ˜¯æ‰‹åŠ¨éƒ¨ç½²ï¼Œå»ºè®®ä½¿ç”¨Dockeréƒ¨ç½²

### Dockeré¢„ç¼–è¯‘é•œåƒ

```bash
docker run -d -p 9999:9999 -e PORT=9999 -e ALLOW_ORIGIN=http://localhost:9999 --name=test vaalacat/movie-sync
```

ä¸€å…±æœ‰ä¸¤ä¸ªç¯å¢ƒå˜é‡ï¼Œ`PORT` æ˜¯æœåŠ¡ç«¯å£ï¼Œ`ALLOW_ORIGIN` æ˜¯æµè§ˆå™¨ä¸­è®¿é—®çš„é“¾æ¥(ç”±äºåå‘ä»£ç†ï¼Œå¯èƒ½å’Œç«¯å£ä¸ä¸€è‡´ï¼Œå¦‚æœä¸ç†è§£ï¼Œé‚£å°±ç›´æ¥ç”¨`http://ip:ç«¯å£`)ã€‚

### æ‰‹åŠ¨éƒ¨ç½²

é¦–å…ˆæˆ‘ä»¬éœ€è¦åˆ†åˆ«ä¸‹è½½å‰ç«¯å’Œåç«¯æ–‡ä»¶ï¼Œ

* å‰ç«¯ï¼š[https://github.com/VaalaCat/movie-sync](https://github.com/VaalaCat/movie-sync)
* åç«¯ï¼š[https://github.com/VaalaCat/movie-sync-server](https://github.com/VaalaCat/movie-sync-server)

ä¸‹è½½å®Œæˆååœ¨æœåŠ¡ç«¯åˆ›å»ºæ–‡ä»¶å¤¹ï¼Œç»“æ„ä¸ºï¼š

```
ProjectDir
â”œâ”€â”€ asset # ä¸‹è½½å¥½çš„å‰ç«¯æ–‡ä»¶æ”¾åœ¨è¿™é‡Œå—
â”‚Â Â  â”œâ”€â”€ css
â”‚Â Â  â”œâ”€â”€ favicon.ico
â”‚Â Â  â”œâ”€â”€ fonts
â”‚Â Â  â”œâ”€â”€ index.html
â”‚Â Â  â””â”€â”€ js
â””â”€â”€ movie-sync-server # åç«¯æ–‡ä»¶æ”¾åœ¨è¿™é‡Œ
    â”œâ”€â”€ .env # è¯¥æ–‡ä»¶éœ€è¦æ‰‹åŠ¨åˆ›å»º
    â””â”€â”€ movie-sync-server
```

ç„¶åæˆ‘ä»¬ç¼–è¾‘åç«¯æ–‡ä»¶å¤¹ä¸­çš„`.env` æ–‡ä»¶ï¼Œå†…å®¹ä¸ºï¼š

```
PORT=8000
ALLOW_ORIGIN=http://localhost:8000
```

è¿™é‡Œçš„ç«¯å£å°±æ˜¯ç¨‹åºå°†ç›‘å¬çš„ç«¯å£ï¼Œåé¢çš„`ALLOW_ORIGIN`è¦æ”¹ä¸º**å®¢æˆ·ç«¯æµè§ˆå™¨ä¸­è®¿é—®æ—¶æ˜¾ç¤ºçš„åœ°å€**ï¼Œä¸ç”¨æ·»åŠ åé¢çš„è·¯å¾„ï¼Œå› ä¸ºæœ‰äº›æ—¶å€™ä¼šç»è¿‡Nginxä¹‹ç±»çš„åå‘ä»£ç†ï¼Œæ‰€ä»¥é“¾æ¥å¯èƒ½ä¼šå˜æˆå…¶ä»–æ ·å­ã€‚ä¿®æ”¹å®Œæˆåä¿å­˜æ–‡ä»¶ï¼Œç„¶åå°±å¯ä»¥ç›´æ¥è¿è¡Œäº†ï¼Œåˆ‡æ¢åˆ°åç«¯æ–‡ä»¶å¤¹ï¼š

```bash
cd ProjectDir/movie-sync-server
chmod +x movie-sync-server && ./movie-sync-server
```

å¦‚æœä½ çœ‹åˆ°äº†è¿™æ ·çš„ä¸œè¥¿ï¼Œè¯´æ˜å·²ç»æˆåŠŸè¿è¡Œ

```
[GIN-debug] [WARNING] Running in "debug" mode. Switch to "release" mode in production.
 - using env:   export GIN_MODE=release
 - using code:  gin.SetMode(gin.ReleaseMode)

[GIN-debug] GET    /socket.io/*any           --> github.com/gin-gonic/gin.WrapH.func1 (2 handlers)
[GIN-debug] POST   /socket.io/*any           --> github.com/gin-gonic/gin.WrapH.func1 (2 handlers)
[GIN-debug] GET    /                         --> main.main.func12 (2 handlers)
[GIN-debug] GET    /movie                    --> github.com/gin-gonic/gin.(*RouterGroup).StaticFile.func1 (2 handlers)
[GIN-debug] HEAD   /movie                    --> github.com/gin-gonic/gin.(*RouterGroup).StaticFile.func1 (2 handlers)
[GIN-debug] GET    /movie/login              --> github.com/gin-gonic/gin.(*RouterGroup).StaticFile.func1 (2 handlers)
[GIN-debug] HEAD   /movie/login              --> github.com/gin-gonic/gin.(*RouterGroup).StaticFile.func1 (2 handlers)
[GIN-debug] GET    /movie/css/*filepath      --> github.com/gin-gonic/gin.(*RouterGroup).createStaticHandler.func1 (2 handlers)
[GIN-debug] HEAD   /movie/css/*filepath      --> github.com/gin-gonic/gin.(*RouterGroup).createStaticHandler.func1 (2 handlers)
[GIN-debug] GET    /movie/js/*filepath       --> github.com/gin-gonic/gin.(*RouterGroup).createStaticHandler.func1 (2 handlers)
[GIN-debug] HEAD   /movie/js/*filepath       --> github.com/gin-gonic/gin.(*RouterGroup).createStaticHandler.func1 (2 handlers)
[GIN-debug] GET    /movie/room/*any          --> main.main.func13 (2 handlers)
[GIN-debug] [WARNING] You trusted all proxies, this is NOT safe. We recommend you to set a value.
Please check https://pkg.go.dev/github.com/gin-gonic/gin#readme-don-t-trust-all-proxies for details.
[GIN-debug] Listening and serving HTTP on :8000
```

ç°åœ¨è®¿é—®é“¾æ¥`http://localhost:8000` å³å¯å¼€å§‹ä½¿ç”¨]]></description><link>https://vaala.cat/posts/å¼‚åœ°å¤šäººåœ¨çº¿ç”µå½±é™¢</link><guid isPermaLink="true">https://vaala.cat/posts/å¼‚åœ°å¤šäººåœ¨çº¿ç”µå½±é™¢</guid><pubDate>Sun, 17 Apr 2022 17:30:52 GMT</pubDate></item><item><title><![CDATA[åœ¨Alfredä¸­ä¸æ»‘çš„æœç´¢ç¾¤æ™–NASä¸­çš„æ–‡ä»¶]]></title><description><![CDATA[
## å¼•è¨€

é¦–å…ˆç»™å‡ºä»“åº“åœ°å€

* [synology-alfred](https://github.com/VaalaCat/synology-alfred)

åœ¨ä½¿ç”¨äº†ä¸€æ®µæ—¶é—´çš„ MacOS Spotlight æœç´¢è¿‡åè¢«å…¶ä¸æ»‘çš„ä½“éªŒä¿˜è·ï¼Œå¹¶ä¸”ä½œä¸ºä¸€ä¸ªå¤šå¹´çš„ç¾¤æ™– Synology NAS ç”¨æˆ·ï¼Œå…¶å†…ç½®çš„ Universal Search åŠŸèƒ½æ›´æ˜¯åŠå…¶å¼ºå¤§ï¼Œè¿™ä¸ªåŠŸèƒ½ä½¿ç”¨ ElasticSearch æä¾›æœç´¢æœåŠ¡ï¼Œä½¿ç”¨ Apache Tika è¿›è¡Œæ•°æ®æå–ï¼Œå¯ä»¥å¯¹ NAS ä¸­çš„æ‰€æœ‰æ–‡ä»¶å†…å®¹**æ³¨æ„æ˜¯å†…å®¹**è¿›è¡Œæ£€ç´¢ï¼ŒåŠŸèƒ½æ˜¯éå¸¸çš„å¼ºå¤§ã€‚

æ‰€ä»¥æˆ‘èŒç”Ÿäº†å°† Universal Search æ¬åˆ°ç”µè„‘ä¸Šçš„æƒ³æ³•ï¼Œç»è¿‡è°ƒç ”å‘ç°éå¸¸çš„å›°éš¾~~å…¶å®æ˜¯æˆ‘å¤ªèœ~~ï¼Œå°†è¿™ä¹ˆé‡å‹çš„æœåŠ¡è¿è¡Œåœ¨ç¬”è®°æœ¬ç”µè„‘ä¸Šå¸¸é©»æ˜¯ä¸ç°å®çš„ï¼Œç»è¿‡ä¸€ç•ªæŸ¥æ‰¾å‘ç°äº†å¾ˆå¤šèµ„æ–™ï¼Œæœ€åå†³å®šä½¿ç”¨ Alfred ä¸ NAS è¿›è¡Œäº¤äº’ä»è€Œå¿«é€Ÿæ£€ç´¢æ–‡ä»¶ã€‚

## ä¸»è¦æµç¨‹

ç”±äºä»¥å‰æ²¡æœ‰æ¥è§¦è¿‡ Workflow å¼€å‘ï¼Œæ‰€ä»¥è¿™æ¬¡æ˜¯è·Ÿç€å®˜æ–¹çš„ Example èµ°äº†ä¸€éï¼Œç»“æœå‘ç°å®˜æ–¹çš„ workflow-python ç«Ÿç„¶ä¸æ”¯æŒ Python3ï¼ˆå®˜æ–¹æ–‡æ¡£è¯´é©¬ä¸Šå°±è¦å¼€å‘æ–°ç‰ˆæœ¬ Workflowï¼‰ï¼Œå¹¶ä¸”æˆ‘æ‰¾åˆ°çš„ Synology API åªæ”¯æŒ Python3 ï¼Œçœ‹èµ·æ¥æ˜¯æˆ‘å’Œ Python äº”è¡Œä¸åˆ ğŸ˜‡ğŸ˜‡ğŸ˜‡

åœ¨ä¸€ç•ªè°·æ­Œåæ‰¾åˆ°äº†ç¬¬ä¸‰æ–¹å¼€å‘è€…ç»´æŠ¤çš„æ”¯æŒ Python3 çš„ç‰ˆæœ¬ï¼ŒæˆåŠŸçš„è·‘èµ·æ¥äº†ï½ï½

### å…¨å±€æœç´¢API

æ‰¾åˆ°çš„ API ä¸­å¹¶æ²¡æœ‰å®ç°å…¨å±€æœç´¢çš„ APIï¼Œå¼€å§‹ä»¥ä¸ºæ˜¯ FileStation ä¸­çš„æœç´¢ğŸ”ï¼Œå°è¯•äº†ä¸€ç•ªå‘ç°æ²¡æœ‰ä½œç”¨ğŸ˜ƒã€‚

ä½œä¸ºä¸€ä¸ªå¼€æºçš„å…±äº§ä¸»ä¹‰è€…ï¼Œåœ¨åŸå§‹ä»“åº“ä¸­å®ç°äº†è®¤è¯æµç¨‹ï¼Œé‚£æˆ‘ä»¬ç›´æ¥ç³Šä¸€ä¸ªå°±è¡Œï¼Œé¦–å…ˆæˆ‘ä»¬è¿›è¡Œä¸€ä¸ªåŒ…çš„æŠ“ï¼Œçœ‹çœ‹æœç´¢æ—¶è°ƒç”¨çš„åˆ°åº•æ˜¯å“ªä¸ªAPI

 ![](https://img.vaala.cloud/images/2022/01/29/sourcebb830e8d0bc52e37.jpg
)

å‘ç° API åç§°æ˜¯ `SYNO.Finder.FileIndexing.Search`ç„¶åæŠ„ä¸€ä¸ªç™»é™†æµç¨‹

```python
def __init__(self, ip_address, port, username, password, secure=False, cert_verify=False, dsm_version=7, debug=True, otp_code=None):
	self.session = auth.Authentication(ip_address, port, username, password, secure, cert_verify, dsm_version, debug, otp_code)
	self.session.login('Finder')
	self.session.get_api_list('Finder')
	self.request_data = self.session.request_data
	self.finder_list = self.session.app_api_list
	self._sid = self.session.sid
	self.base_url = self.session.base_url
	if debug is True:
		print('You are now logged in!')
```

å¯ä»¥åœ¨ `finder_list` ä¸­çœ‹åˆ°æ‰€æœ‰çš„ APIï¼Œå¯ä»¥å‘ç°å¯¹æˆ‘ä»¬æœ‰ç”¨çš„å°±ä¸€ä¸ª `SYNO.Finder.FileIndexing.Search` ï¼Œç„¶åæŠŠå‰é¢æŠ“åˆ°çš„åŒ…è¿›è¡Œä¸€ä¸ªæŠ„

```javascript
def search(self, keyword):
	api_name = 'SYNO.Finder.FileIndexing.Search'
	info=self.finder_list[api_name]
	api_path = info['path']

	req_param={
		"query_serial":1,
		"indice":'[]',
		"keyword":keyword,
		"orig_keyword":keyword,
		"criteria_list":'[]',
		"from":0,
		"size":10,
		"fields":'["SYNOMDAcquisitionMake","SYNOMDAcquisitionModel","SYNOMDAlbum","SYNOMDAperture","SYNOMDAudioBitRate","SYNOMDAudioTrackNumber","SYNOMDAuthors","SYNOMDCodecs","SYNOMDContentCreationDate","SYNOMDContentModificationDate","SYNOMDCreator","SYNOMDDurationSecond","SYNOMDExposureTimeString","SYNOMDExtension","SYNOMDFSCreationDate","SYNOMDFSName","SYNOMDFSSize","SYNOMDISOSpeed","SYNOMDLastUsedDate","SYNOMDMediaTypes","SYNOMDMusicalGenre","SYNOMDOwnerUserID","SYNOMDOwnerUserName","SYNOMDRecordingYear","SYNOMDResolutionHeightDPI","SYNOMDResolutionWidthDPI","SYNOMDTitle","SYNOMDVideoBitRate","SYNOMDIsEncrypted"]',
		"file_type":"",
		"search_weight_list":'[{"field":"SYNOMDWildcard","weight":1},{"field":"SYNOMDTextContent","weight":1},{"field":"SYNOMDSearchFileName","weight":8.5,"trailing_wildcard":"true"}]',
		"sorter_field":"relevance",
		"sorter_direction":"asc",
		"sorter_use_nature_sort":"false",
		"sorter_show_directory_first":"true",
		"api":"SYNO.Finder.FileIndexing.Search",
		"method":"search",
		"version":1
	}
	
	return self.request_data(api_name, api_path, req_param)
```

è¿™æ ·æˆ‘ä»¬çš„æœç´¢åŠŸèƒ½å°±æ˜¯å®Œæˆäº†ï¼Œæ¥ä¸‹æ¥å°±æ˜¯æŠŠè¾“å‡ºä¸¢åˆ° Alfred ä¸­ã€‚

### Workflowä¸‹æ‹‰èœå•

ä½†ä¼¼ä¹è¿™ä½å¼€å‘è€…ç»´æŠ¤çš„åŒ… `workflow.add_item` ä¸èµ·ä½œç”¨ï¼Ÿé‚£å°±æ¢ä¸ªæ–¹æ³•ï¼Œè™½ç„¶åœ¨ add åå¹¶æ²¡æœ‰å‡ºç°æ–°çš„å†…å®¹ï¼Œä½† Alfred ä¼šæ¥å—ç¬¦åˆè§„èŒƒçš„ xml æˆ– json æ ¼å¼çš„è¾“å‡ºä½œä¸ºä¸‹æ‹‰èœå•çš„é€‰é¡¹ã€‚

```python
for item in res:
		t=""
		if item['SYNOMDIsDir'] != 'y':
			t="/"+item["SYNOMDFSName"]
		result = {
			"title": item["SYNOMDFSName"],
			"subtitle": item["SYNOMDSharePath"],
			"arg": item["SYNOMDSharePath"].replace(t,""),
			"autocomplete": "",
			"icon": {
				"path": "./icon.png"
			}
		}
		dat.append(result)
	response = json.dumps({
		"items": dat
	})
	sys.stdout.write(response)
```

è¿™æ ·å°±å¯ä»¥å°†æ ‡å‡†è¾“å‡ºä½œä¸ºä¸‹æ‹‰èœå•äº†ï¼Œæœ€åçœ‹çœ‹æ•ˆæœ

 ![](https://img.vaala.cloud/images/2022/01/29/source6694c0fb5b17946b.jpg
)

å¯ä»¥çœ‹åˆ°3ï¼Œ4ï¼Œ5æ–‡ä»¶åå¹¶æ²¡æœ‰å‡ºç°ä¿¡æ¯è®ºï¼Œä½†å·²ç»åŒ¹é…åˆ°æ–‡ä»¶å†…å®¹äº†ï¼Œç„¶åæœ€ç»ˆæƒ³å®ç°çš„æ•ˆæœæ˜¯æŒ‰ä¸‹å›è½¦æ‰“å¼€å¯¹åº”æ–‡ä»¶ï¼Œä¸è¿‡è¿™é‡Œä¸å¤ªæ¸…æ¥šè¯¥ä½¿ç”¨ webAPI ä¸‹è½½æ–‡ä»¶å®ç°è¿˜æ˜¯ç›´æ¥åœ¨æŒ‚è½½åˆ°æœ¬åœ°çš„ç½‘ç»œç£ç›˜ä¸­æ‰“å¼€ï¼Œå°±æš‚æ—¶ä½¿ç”¨å›è½¦å¤åˆ¶ NAS ä¸­çš„æ–‡ä»¶è·¯å¾„ï¼Œé¡ºä¾¿æ‰“å¼€ FileStationï¼Œç›´æ¥ç²˜è´´è·¯å¾„å°±èƒ½è®¿é—®åˆ°æ–‡ä»¶äº†ï¼Œä¸ºäº†é˜²æ­¢è¯¯ä¸‹è½½ï¼Œå¦‚æœæœç´¢åˆ°çš„è·¯å¾„æ˜¯ä¸€ä¸ªæ–‡ä»¶çš„è¯ï¼Œè¿˜è¦åˆ é™¤æ‰æœ€åçš„æ–‡ä»¶åï¼Œä»¥å… FileStation è®¿é—®å‡ºé”™

## å‚è€ƒ

* [synology-api](https://github.com/N4S4/synology-api)
* [alfred-workflow-py3](https://github.com/NorthIsUp/alfred-workflow-py3)
* [Synology Universal Search CLI](https://www.kaper.com/software/synology-universal-search-cli/)
* [python download file from Synology FileStation API](https://stackoverflow.com/questions/62696185/python-download-file-from-synology-filestation-api)


]]></description><link>https://vaala.cat/posts/åœ¨Alfredä¸­ä¸æ»‘çš„æœç´¢ç¾¤æ™–NASä¸­çš„æ–‡ä»¶</link><guid isPermaLink="true">https://vaala.cat/posts/åœ¨Alfredä¸­ä¸æ»‘çš„æœç´¢ç¾¤æ™–NASä¸­çš„æ–‡ä»¶</guid><pubDate>Sat, 29 Jan 2022 17:56:49 GMT</pubDate></item><item><title><![CDATA[ä¿®å¤ MacOS TimeMachine çš„åŒæ­¥é”™è¯¯]]></title><description><![CDATA[
## å¼•è¨€

ä½œä¸ºä¸€ä¸ªæ–°çš„ç™½ğŸç”¨æˆ·ï¼Œå¯¹äº TimeMachine å±äºåˆçˆ±åˆæ¨ï¼Œå…¶å®˜æ–¹æŒ‡å®šçš„å¤‡ä»½ç›®æ ‡ AirPort Time Capsule å®åœ¨æ˜¯è¿‡äºé«˜è´µï¼Œæ‰€ä»¥æˆ‘é€‰æ‹©ä½¿ç”¨ä¸€ä¸ªæä¾› AFP æœåŠ¡çš„ NAS ä½œä¸ºå¤‡ä»½ç›®æ ‡ç£ç›˜ ï¼ˆSMB åè®®æ®è¯´ä¼šå‡ºç°ç¥ç§˜æ‰ç›˜é—®é¢˜ï¼‰

åœ¨å†…ç½‘ä¸­å¿«ä¹çš„ä½¿ç”¨å‡ å¤©åå‡ºäº†è¶Ÿé—¨ï¼Œæƒ³ç€ä½¿ç”¨ Wireguard è¿å›å†…ç½‘è·¯ç”±æ®µæ¥ç€å¤‡ä»½ã€‚ç†æƒ³éå¸¸çš„ä¸°æ»¡ï¼Œå®è·µå´å‡ºäº†é—®é¢˜ï¼Œåœ¨æŸä¸€æ¬¡å¤‡ä»½æ—¶æ„å¤–æ–­äº†ç½‘ï¼Œå›åˆ°å†…ç½‘ä¸­æŠ¥äº†å¦‚ä¸‹é”™è¯¯

```
æ— æ³•è®¿é—®å¤‡ä»½ç£ç›˜æ˜ åƒâ€œVaalaçš„MacBook Pro.sparsebundleâ€ï¼ˆé”™è¯¯35ï¼‰ã€‚
```

åœ¨ Apple è®ºå›å’Œäº’è”ç½‘ä¸­æ‰¾åˆ°çš„éƒ½æ˜¯è®©æˆ‘æ¸…é™¤å¤‡ä»½é‡æ¥ï¼Œå°±åƒä¸‹é¢è¿™æ ·

> [https://discussionschinese.apple.com/thread/86190](https://discussionschinese.apple.com/thread/86190)

ä½†å¤‡ä»½ä¸ä¹…æ˜¯ä¸ºäº†é˜²æ­¢å‡ºé”™ï¼Ÿå†æ¥æ¸…ç†å‡ºé”™çš„å¤‡ä»½ä¹Ÿå¤ªæœ¬æœ«å€’ç½®äº†ï¼Œåˆ†æé—®é¢˜å‘ç”Ÿçš„æƒ…å†µåæˆ‘é€‰æ‹©é™ä½å¤‡ä»½é¢‘ç‡ï¼Œä½¿ç”¨ TimeMachineEditor é˜»æ­¢æ—¥é—´å¤‡ä»½ï¼Œå¹¶ä¸”å¤‡ä»½åªèƒ½åœ¨ Mac ä¸æ´»è·ƒæ—¶è¿›è¡Œã€‚ä¸å‡ºæ„å¤–ï¼Œå†æ¬¡è‹Ÿæ´»å‡ å¤©ååˆå‡ºç°äº†ç›¸åŒé”™è¯¯ï¼ŒåŸå› ç«Ÿç„¶æ˜¯ MacOS åœ¨ä¼‘çœ æ—¶ä¼šè‡ªåŠ¨æ–­å¼€ç½‘ç»œè¿æ¥å¯¼è‡´å¤‡ä»½å¤±è´¥ğŸ˜…ğŸ˜…ğŸ˜…ğŸ˜…ï¼Œåœ¨ç»è¿‡ä¸¤æ¬¡æ¸…ç©ºå¤‡ä»½åï¼ŒæŠ½äº†ä¸€ç‚¹æ—¶é—´æŸ¥æ‰¾ç›¸å…³èµ„æ–™ï¼Œå¾—åˆ°äº†æœ€ç»ˆçš„è§£å†³æ–¹æ¡ˆ

## æ­¥éª¤

1. é¦–å…ˆå…³é—­æ‰ TimeMachine ä¸­çš„è‡ªåŠ¨å¤‡ä»½ï¼Œå…¶å®ƒä¸ TimeMachine ç›¸å…³çš„ç¨‹åºä¾‹å¦‚ TimeMachineEditor ä¹Ÿå°½é‡ç»ˆæ­¢ï¼Œåœ¨ç»ˆæ­¢åå°½é‡é‡å¯ä¸€æ¬¡ä¿è¯æ²¡æœ‰è¿›ç¨‹å ç”¨ç›¸å…³èµ„æºã€‚ 

2. æ‰¾åˆ°å¤‡ä»½ç£ç›˜ä¸­çš„ `sparsebundle` æ–‡ä»¶ï¼Œå°†ä¸‹é¢å‘½ä»¤çš„è·¯å¾„æ›¿æ¢æ‰ã€‚

```bash
hdiutil attach -nomount /path/to/sparsebundleFile
```

3. å¾—åˆ°å¤‡ä»½ç£ç›˜åç§°ï¼Œä¼šæœ‰å¾ˆå¤šä¸ªç£ç›˜ï¼Œæ‰¾åˆ°æ ¼å¼ä¸º `/dev/diskNs2` çš„ç£ç›˜ï¼Œ`N` ä¸ºæ•°å­—ï¼Œ`s2` ä¸ºç¬¬äºŒåˆ†åŒºï¼Œå¤‡æ³¨ä¸º `Apple_APFS`ï¼Œæˆ‘è¿™é‡Œæ˜¯ `/dev/disk4s2`ï¼Œæ¥ä¸‹æ¥å¯¹è¯¥åˆ†åŒºçš„å¤‡ä»½è¿›è¡Œæ£€æŸ¥ã€‚

```bash
# è¦æ³¨æ„è¿™é‡Œçš„ç£ç›˜å‰é¢åŠ äº†ä¸€ä¸ªrä»£è¡¨rawåŸå§‹ä¸ç¼“å­˜è®¾å¤‡
fsck_hfs -p /dev/rdisk4s2 
```

4. å¦‚æœå‘½ä»¤å‡ºç°é”™è¯¯ï¼Œå°†å‘½ä»¤ä¸­çš„ p å‚æ•°æ›¿æ¢ä¸º f å†è¯•ä¸€æ¬¡ï¼Œå¦‚æœé”™è¯¯æ— æ³•ä¿®å¤ï¼Œè¿˜æ˜¯è€ƒè™‘æ ¼å¼åŒ–é‡æ¥å§

> å¯¹äºé”™è¯¯æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ `diskutil mount diskNs2` æŒ‚è½½é•œåƒå¹¶åœ¨ Finder ä¸­æ£€æŸ¥ã€‚

5. ç„¶åæˆ‘ä»¬ detatch å¤‡ä»½åŒº

```bash
# è¿™é‡Œæ²¡æœ‰æŒ‡å®šç¬¬äºŒåˆ†åŒº
hdiutil detach diskN
```

6. ç¡®å®šæ²¡æœ‰æŠ¥é”™ç„¶ååœ¨ Finder ä¸­æ‰¾åˆ° `sparsebundle` æ–‡ä»¶ï¼Œç„¶ååœ¨æ–‡ä»¶ä¸Šå³é”®å•å‡»ï¼Œç‚¹å‡»æŸ¥çœ‹åŒ…å†…å®¹ï¼Œæ‰¾åˆ°åä¸º `com.apple.TimeMachine.MachineID.plist` çš„æ–‡ä»¶ï¼Œä½¿ç”¨ Xcode æ‰“å¼€ç¼–è¾‘ ï¼ˆä¿è¯xmlæ–‡ä»¶æ ¼å¼ä¸ä¼šå‡ºé”™ï¼‰ï¼Œæ‰¾åˆ° `VerificationState` å°†å€¼ä¿®æ”¹ä¸º 1

7. å¦‚æœå­˜åœ¨é”® `RecoveryBackupDeclinedDate` åˆ™å°†å…¶é”®å’Œå€¼éƒ½åˆ é™¤

8. ä¿å­˜ä¿®æ”¹ï¼Œåœ¨ TimeMachine è®¾ç½®ä¸­ç§»é™¤ç£ç›˜ï¼Œç„¶åå†å°†ç£ç›˜åŠ å…¥å¤‡ä»½ç›®æ ‡ï¼Œç‚¹å‡»ç«‹å³å¤‡ä»½å³å¯

## å‚è€ƒ

- [Inheriting Time Machine Backup: Invalid Target](https://apple.stackexchange.com/questions/375894/inheriting-time-machine-backup-invalid-target)

> MacOS ç¡®å®ä¸é”™ï¼Œä¸è¿‡é‡Œé¢åƒäº†ğŸ’©çš„è®¾å®šèƒ½ä¸èƒ½æ”¹æ”¹å•ŠğŸ˜…]]></description><link>https://vaala.cat/posts/ä¿®å¤-MacOS-TimeMachine-çš„åŒæ­¥é”™è¯¯</link><guid isPermaLink="true">https://vaala.cat/posts/ä¿®å¤-MacOS-TimeMachine-çš„åŒæ­¥é”™è¯¯</guid><pubDate>Sun, 23 Jan 2022 20:24:11 GMT</pubDate></item><item><title><![CDATA[Mysqlçš„UTF8ä¸UTF8mb4]]></title><description><![CDATA[
ç”±äºæŸä¸ªç¥ç§˜é¡¹ç›®çš„éœ€è¦ï¼Œå‡ºç°äº†ä¸€ä¸ªå¯¼å…¥ä¸Šäº¿æ¡ utf8 æ•°æ®åˆ° mysql 5.7 ä¸­çš„éœ€æ±‚ï¼Œåœ¨å®é™…ä½¿ç”¨çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘å‘ç° node åœ¨å‘æ•°æ®åº“ä¸­å†™å…¥ä¸­æ–‡æ•°æ®æ—¶ä¼šå‡ºç°ç±»ä¼¼ä¸‹é¢çš„æŠ¥é”™
```
failed: Error: Incorrect string value: '\\xC4\\x83ri' for column 'name' at row 1
```
äºæ˜¯æˆ‘çŒœæµ‹æ˜¯å­—ç¬¦ç¼–ç çš„é—®é¢˜ï¼Œäºæ˜¯å°±å°†ç¼–ç å…¨éƒ½æ”¹æˆäº† utf8ï¼Œä½†å°è¯•è¿‡åè¿˜æ˜¯å­˜åœ¨è¿™ä¸ªæŠ¥é”™ï¼Œé‚ä¸Š stackoverflow å­¦ä¹ äº†ä»¥ä¸‹å‰äººçš„ç»éªŒï¼Œå‘ç°äº†ä¸€ç¯‡æ–‡ç«  [How to support full Unicode in MySQL databases Â· Mathias Bynens](https://mathiasbynens.be/notes/mysql-utf8mb4#utf8-to-utf8mb4) è¿™é‡Œè¯¦ç»†è®²è§£äº† mysql ä¸­ utf8 ç¼–ç çš„é—®é¢˜ï¼Œå¹¶ä¸”æŒ‡å‡º mysql ä¸­æ¨èä¸€ç›´ä½¿ç”¨å®Œæ•´çš„ utf8mb4 ç¼–ç ï¼Œè¿™é‡Œå¯¹æ–‡ç« åšäº†ä¸€ä¸ªç¿»è¯‘

## ä¿®æ”¹åº“ã€è¡¨ã€åˆ—

- æ•°æ®åº“å
```
ALTER DATABASE åº“ CHARACTER SET = utf8mb4 COLLATE = utf8mb4_unicode_ci;
```
- è¡¨å
```
ALTER TABLE è¡¨ CONVERT TO CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
```
- åˆ—å
```
ALTER TABLE è¡¨ CHANGE åˆ—1 åˆ—2 VARCHAR(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
```

## ä¿®æ”¹é…ç½®æ–‡ä»¶

```
[client]  
default-character-set = utf8mb4  
  
[mysql]  
default-character-set = utf8mb4  
  
[mysqld]  
character-set-server = utf8mb4  
collation-server = utf8mb4_unicode_ci
```
ç„¶åé‡å¯æœåŠ¡
```
sudo service mysql restart
```

## æ£€æŸ¥æ›´æ”¹ç»“æœ

æœ€ç»ˆçš„ä¿®æ”¹ç»“æœåº”è¯¥å¦‚ä¸‹æ‰€ç¤ºï¼Œæ³¨æ„å…¶ä¸­åªæœ‰ç³»ç»Ÿç¼–ç è¿˜æ˜¯ utf8
```
mysql> SHOW VARIABLES WHERE Variable_name LIKE 'character_set_%' OR Variable_name LIKE 'collation%';
+--------------------------+--------------------+
| Variable_name            | Value              |
+--------------------------+--------------------+
| character_set_client     | utf8mb4            |
| character_set_connection | utf8mb4            |
| character_set_database   | utf8mb4            |
| character_set_filesystem | binary             |
| character_set_results    | utf8mb4            |
| character_set_server     | utf8mb4            |
| character_set_system     | utf8               |
| collation_connection     | utf8mb4_unicode_ci |
| collation_database       | utf8mb4_unicode_ci |
| collation_server         | utf8mb4_unicode_ci |
+--------------------------+--------------------+
10 rows in set (0.00 sec)
```
## æ€è€ƒ

ç”±äº mysql å¹¶æ²¡æœ‰å¯¹ utf8mb4 ç¼–ç è¿›è¡Œå¤§åŠ›æ¨èä½¿ç”¨ï¼Œå¯¼è‡´ç°åœ¨å¾ˆå¤šçš„é¡¹ç›®è¿˜åœ¨ä½¿ç”¨ä¸å®Œæ•´çš„ utf8 ç¼–ç ï¼Œè¿™é‡Œæˆ‘å°±è”æƒ³åˆ°äº† mysql ä¸­ GBK ç¼–ç å­˜åœ¨çš„å®½å­—èŠ‚æ³¨å…¥

> å®½å­—èŠ‚æ³¨å…¥ï¼šå› ä¸ºå­—ç¬¦é›†ä¸åŒ èº²è¿‡ SQL æ³¨å…¥è¿‡æ»¤å‡½æ•° `addslashes()` ä½¿ `addslashes` è¿‡æ»¤çš„<span style={{ color: 'red' }}>å•å¼•å·ã€åŒå¼•å·ã€åæ–œæ ã€NULL</span>å¯ä»¥åˆ©ç”¨ï¼Œä»è€Œç»•è¿‡SQLæ³¨å…¥é˜²æŠ¤è¾¾æˆSQLæ³¨å…¥

ä¹Ÿæ˜¯å› ä¸ºå­—ç¬¦é›†ä¸ç»Ÿä¸€é€ æˆçš„é€ƒé€¸ï¼Œè¿™é‡Œçš„ utf8 è™½ç„¶æˆ‘è¿˜æ²¡æœ‰çœ‹åˆ°ç›¸å…³çš„æ–‡ç« å¯¹å…¶è¿›è¡Œåˆ©ç”¨ï¼Œä¸è¿‡è¿™é‡Œæ˜¾ç„¶æ˜¯å­˜åœ¨å®‰å…¨é£é™©çš„ï¼Œç‰¹åˆ«æ˜¯å¯¹äºä¸­æ–‡ç«™ç‚¹ï¼Œè‡ªæˆ‘æ„Ÿè§‰å®¹æ˜“é€ æˆäºŒæ¬¡æ³¨å…¥ï¼Œæ‰€ä»¥è¦æ³¨æ„ä»¥åä½¿ç”¨ mysql çš„æ—¶å€™ä¸€å®šè¦è§„é¿ utf8 ç¼–ç ï¼Œå…¨éƒ¨æ¢æˆ utf8mb4ï¼Œä¹Ÿä¸å·®é‚£ä¸€å­—èŠ‚çš„ç©ºé—´ã€‚

## å‚è€ƒ

- [How to support full Unicode in MySQL databases Â· Mathias Bynens](https://mathiasbynens.be/notes/mysql-utf8mb4#utf8-to-utf8mb4)
- [Mysql encoding error](https://stackoverflow.com/questions/30951226/mysql-encoding-error)
- [Mysql-å­—ç¬¦é›†æ¼æ´åˆ†æ](https://lalajun.github.io/2018/05/11/mysql-%E5%AD%97%E7%AC%A6%E9%9B%86%E6%BC%8F%E6%B4%9E/#%E5%AE%BD%E5%AD%97%E8%8A%82%E6%B3%A8%E5%85%A5)
- [Mysqlå­—ç¬¦ç¼–ç åˆ©ç”¨æŠ€å·§](https://www.leavesongs.com/PENETRATION/mysql-charset-trick.html)
]]></description><link>https://vaala.cat/posts/Mysqlçš„å­—ç¬¦ç¼–ç çš„å¤§å‘</link><guid isPermaLink="true">https://vaala.cat/posts/Mysqlçš„å­—ç¬¦ç¼–ç çš„å¤§å‘</guid><pubDate>Wed, 28 Apr 2021 12:44:38 GMT</pubDate></item><item><title><![CDATA[HDUACM OJ è‡ªåŠ¨ AC æœº]]></title><description><![CDATA[
## èƒŒæ™¯

å› ä¸ºå­¦æ ¡æ”¿ç­–é—®é¢˜ï¼Œå¤§äºŒæ‰å­¦ä¹  C è¯­è¨€è¯¾ç¨‹ï¼Œè€å¸ˆè¦æ±‚æˆ‘ä»¬åˆ·æ»¡ HDUOJ 60 é“é¢˜ç›®ï¼Œå½“ç„¶åƒæˆ‘è¿™ç§å·²ç» OI é€€å½¹çš„é€‰æ‰‹å¿…ç„¶ä¸æƒ³å†ç¢°ç®—æ³•ï¼Œäºæ˜¯æ‰¾ vy è¦äº†ä¸€ç™¾å¤šé“ AC ä»£ç ï¼Œå†™äº†ä¸ªçˆ¬è™«äº¤äº†ä¸Šå»ã€‚æŠ“åŒ…çœ‹äº†ä¸‹ HDU çš„æäº¤é€»è¾‘ï¼Œå‘ç°å®Œå…¨æ²¡æœ‰å¯¹çˆ¬è™«åšé™åˆ¶ï¼Œç›´æ¥ç”¨ postman ç”Ÿæˆçš„ä»£ç å¸¦ä¸Š session å°±èƒ½æ­£å¸¸å·¥ä½œ

## ä»£ç 
```python
import os
import urllib
import base64
import requests
import time

path = "C:\\Users\\hahahahaha\\Documents\\Code\\hdu_auto_ac1\\srccode"  # ACä»£ç æ–‡ä»¶å¤¹ç›®å½•
files = os.listdir(path)

codepath = []

src = {}

for root, dirs, files in os.walk(path):
    for file in files:
        if os.path.join(root, file).find("cpp") != -1:
            codepath.append(os.path.join(root, file))

for i in codepath:
    f = open(i, mode='r', encoding='UTF-8')
    code = f.read()
    p = os.path.split(i)
    p1 = os.path.split(p[0])
    code = urllib.parse.quote(code)
    code = bytes(code, encoding="utf8")
    code = base64.b64encode(code)
    src[p1[1]] = str(code, encoding="utf-8")

url = "http://acm.hdu.edu.cn/submit.php?action=submit"

headers = {
    'accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9',
    'accept-encoding': 'gzip, deflate',
    'accept-language': 'zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6',
    'cache-control': 'max-age=0',
    'content-type': 'application/x-www-form-urlencoded',
    'cookie': 'PHPSESSID=xxxxxxxxxxxxxxxx; exesubmitlang=0',
    'host': 'acm.hdu.edu.cn',
    'origin': 'http://acm.hdu.edu.cn',
    'proxy-connection': 'keep-alive',
    'referer': 'http://acm.hdu.edu.cn/submit.php?action=submit',
    'upgrade-insecure-requests': '1',
    'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.88 Safari/537.36 Edg/87.0.664.66'
}

for k in src:
    payload = "check=0&_usercode=" + \
        urllib.parse.quote(src[k])+"&problemid="+k+"&language=0"

    response = requests.request("POST", url, headers=headers, data=payload)
    time.sleep(10)
```
è¦æ³¨æ„çš„æ˜¯ OJ çš„æäº¤ç¼–ç æ˜¯å…ˆè¿›è¡Œä¸€æ¬¡ urlencodeï¼Œå† base64 ç„¶åå† urlencodeï¼Œç›´æ¥å¸¦ä¸Šæ•°æ® post ä¸Šå»å°±æˆåŠŸäº†

## é¡¹ç›®åœ°å€

[https://github.com/VaalaCat/hdu-auto-ac](https://github.com/VaalaCat/hdu-auto-ac)]]></description><link>https://vaala.cat/posts/HDUACM-OJ-è‡ªåŠ¨-AC-æœº</link><guid isPermaLink="true">https://vaala.cat/posts/HDUACM-OJ-è‡ªåŠ¨-AC-æœº</guid><pubDate>Wed, 30 Dec 2020 14:13:59 GMT</pubDate></item><item><title><![CDATA[ä¿¡æ¯è®ºå¤ä¹ æ€ç»´å¯¼å›¾]]></title><description><![CDATA[
æœ‰åˆ°äº†æ¯å¹´æ‡’ç‹—çš„æœ«æ—¥ï¼Œä¸¢ä¸ªå›¾ä¸Šæ¥
![](/images/blog/%E4%BF%A1%E6%81%AF%E8%AE%BA.svg)
]]></description><link>https://vaala.cat/posts/ä¿¡æ¯è®ºå¤ä¹ æ€ç»´å¯¼å›¾</link><guid isPermaLink="true">https://vaala.cat/posts/ä¿¡æ¯è®ºå¤ä¹ æ€ç»´å¯¼å›¾</guid><pubDate>Sun, 22 Nov 2020 18:34:10 GMT</pubDate></item><item><title><![CDATA[é™åˆ¶intelå¤„ç†å™¨ç¿é¢‘æå‡è½»è–„æœ¬ä½¿ç”¨ä½“éªŒ]]></title><description><![CDATA[
surface book 2 å·²ç»æœå½¹ä¸¤å¹´å¤šäº†ï¼Œè‡ªä»å‰å‡ ä¸ªæœˆé…ç½®å¥½äº†æœåŠ¡å™¨åå°±å¤§é‡ä½¿ç”¨äº†äº‘æœåŠ¡è¿ç§»äº†è®¡ç®—æœåŠ¡å’Œæ•°æ®ï¼Œå¤§å¤§å‡å°‘äº†å•ç»ˆç«¯çš„è´Ÿè½½å’Œé‡è¦æ€§ï¼Œäºæ˜¯è¶ç€è¿™ä¸ªæœºä¼šé‡è£…äº†ç³»ç»Ÿï¼Œæƒ³ç€æŠŠæœ¬åœ°çš„ç¯å¢ƒå…¨éƒ¨ä½¿ç”¨è™šæ‹ŸåŒ–éƒ¨ç½²ï¼Œå…å¾—é‚®ç®±ä¹‹å‰ä¸€æ ·å°†ç¯å¢ƒæ•´çš„ä¹±ä¸ƒå…«ç³Ÿã€‚  
ä½†æ˜¯è®©æˆ‘æ²¡æƒ³åˆ°çš„æ˜¯é‡è£…è¿‡åé¼ æ ‡æ‹–åŠ¨çª—å£ç§»åŠ¨ç«Ÿç„¶è¿˜æ˜¯ä¼šå‡ºç°ä¹‹å‰ä¸€æ ·çš„å¡é¡¿ï¼Œä½†æ˜¯ç©æ¸¸æˆåˆä¸ä¼šå¡é¡¿ï¼Œè®©æˆ‘æ„Ÿè§‰åˆ°å¾ˆæ˜¯å¥‡æ€ªã€‚æ‰“å¼€äº†nå¤šç›‘æ§è½¯ä»¶ï¼Œå‘ç°åœ¨é«˜é€Ÿç§»åŠ¨é¼ æ ‡çš„æ—¶å€™ä¼šå‡ºç° cpu é¢‘ç‡æ€¥å‰§å¢åŠ çš„æƒ…å†µï¼Œäºæ˜¯å°è¯•ä½¿ç”¨ç”µæºé…ç½®é™åˆ¶æœ€é«˜é¢‘ç‡ï¼Œåæ­£ä¹Ÿæ²¡æ³•ä¸€ç›´è·‘æ»¡é¢‘ç‡ï¼š
```
powercfg -SETDCVALUEINDEX SCHEME_BALANCED SUB_PROCESSOR PROCFREQMAX 3800
powercfg -SETACVALUEINDEX SCHEME_BALANCED SUB_PROCESSOR PROCFREQMAX 3800
```
ç„¶åé‡å¯ç”Ÿæ•ˆï¼Œé‡å¯è¿‡åå‘ç°å¾ˆå¤šå°é—®é¢˜éƒ½å¾—åˆ°äº†è§£å†³ï¼Œé¼ æ ‡æ‹–åŠ¨ä¹Ÿæ˜¯ä¸èˆ¬é¡ºæ»‘ï¼Œèˆ’æœ]]></description><link>https://vaala.cat/posts/é™åˆ¶intelå¤„ç†å™¨ç¿é¢‘æå‡è½»è–„æœ¬ä½¿ç”¨ä½“éªŒ</link><guid isPermaLink="true">https://vaala.cat/posts/é™åˆ¶intelå¤„ç†å™¨ç¿é¢‘æå‡è½»è–„æœ¬ä½¿ç”¨ä½“éªŒ</guid><pubDate>Mon, 28 Sep 2020 09:35:18 GMT</pubDate></item><item><title><![CDATA[ctfdä½¿ç”¨ctfd-whaleåŠ¨æ€é¶æœºæ’ä»¶æ­å»ºé¶åœºæŒ‡å—]]></title><description><![CDATA[
# å¼•è¨€

ç”±äºä¹‹å‰çš„æ–‡ç« ä½¿ç”¨çš„æ˜¯èµµå¸ˆå‚…çš„ä»“åº“ï¼Œé‡Œé¢çš„ ctfd ç‰ˆæœ¬ä¸èƒ½ä¿æŒå®˜ç½‘æœ€æ–°ï¼Œå¾ˆå¤šå¸ˆå‚…éƒ½æåˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œäºæ˜¯é‡æ–°éƒ¨ç½²äº†ä¸€ä¸‹ ctfd å¹¶åšä¸€ä¸‹è®°å½•
é¦–å…ˆè¦æ³¨æ„çš„æ˜¯ç³»ç»Ÿç‰ˆæœ¬ï¼Œç»è¿‡ä¼—å¤šå¸ˆå‚…çš„åé¦ˆå‘ç° Ubuntu 20 ä¼šå‡ºç°ä¸å¯é¢„æµ‹çš„ bugï¼Œè¯·å°½é‡ä½¿ç”¨ Ubuntu 18 éƒ¨ç½²
è¯¥æ–‡ç« å†å²ç‰ˆæœ¬ï¼š[github](https://raw.githubusercontent.com/VaalaCat/vaalacat.github.io/9837ec2c6c09af3a504d2537db304788cccbf006/2020/09/21/ctfd%E4%BD%BF%E7%94%A8ctfd-whale%E5%8A%A8%E6%80%81%E9%9D%B6%E6%9C%BA%E6%8F%92%E4%BB%B6%E6%90%AD%E5%BB%BA%E9%9D%B6%E5%9C%BA%E6%8C%87%E5%8D%97/index.html)

# éƒ¨ç½²

è¿™é‡Œæˆ‘ä½¿ç”¨ [frankli0324](https://github.com/frankli0324/ctfd-whale) å¸ˆå‚… fork åä¿®æ”¹çš„èµµå¸ˆå‚… ctfd whale çš„ç‰ˆæœ¬è¿›è¡Œæ­å»ºï¼Œå¹¶å¯¹é…ç½®æ–‡ä»¶å’Œé¡¹ç›®æ–‡ä»¶è¿›è¡Œäº†ä¸€äº›å®šåˆ¶åæ‰“åŒ…åˆ°äº†æˆ‘è‡ªå·±çš„ä»“åº“æ–¹ä¾¿éƒ¨ç½²

- [VaalaCat/ctfd_whale](https://github.com/Un1kTeam/ctfd-whale)
- [VaalaCat/CTFd](https://github.com/Un1kTeam/CTFd)

## å‡†å¤‡

### å®‰è£…ç¯å¢ƒ

ç”±äºåŠ¨æ€é¶æœºæ˜¯ä½¿ç”¨ `docker` å®ç°çš„ï¼Œæ‰€ä»¥é¦–å…ˆè¦å‡†å¤‡å®‰è£…ä¸€ä¸‹ `docker`
```
curl -fsSL https://get.docker.com | bash -s docker --mirror Aliyun 
```
ç„¶åè¿˜è¦å‡†å¤‡ `docker-compose`
```
sudo pip3 install docker-compose -i https://pypi.tuna.tsinghua.edu.cn/simple
```

### é…ç½®ç¯å¢ƒ

ç”±äºæ’ä»¶ä½¿ç”¨çš„æ˜¯é›†ç¾¤çš„æ¨¡å¼ï¼Œæ‰€ä»¥è¿™é‡Œè¦åˆ›å»ºä¸€ä¸ªå•ä¸ªæœåŠ¡å™¨çš„é›†ç¾¤
```
docker swarm init
```
ç„¶åå°†è¿™ä¸ªæœåŠ¡å™¨åŠ å…¥é›†ç¾¤
```
docker node update --label-add='name=linux-1' $(docker node ls -q)
```
æœ€åè¦å‡†å¤‡çš„æ˜¯ç»™ `docker` æ›´æ¢é•œåƒæºï¼Œè¿™é‡Œæ¨èå°† daocloud å’Œ aliyun çš„æºéƒ½æ·»åŠ è¿›å»ï¼Œä¸ç„¶ä¼šå¾ˆé¾Ÿé€Ÿï¼Œä¿®æ”¹æ–‡ä»¶ `/etc/docker/daemon.json`ï¼Œä¸¤ä¸ªé•œåƒéƒ½éœ€è¦è‡ªå·±å–ç”³è¯·ä¸€ä¸‹ï¼Œæ”¹å®Œåç±»ä¼¼ä¸‹é¢è¿™æ ·
```
{
    "registry-mirrors": ["https://233666.mirror.aliyuncs.com","http://233666.m.daocloud.io"]
}
```
ä¹Ÿå¯ä»¥ç»™ docker è®¾ç½®é•œåƒæºä»£ç†
```
sudo mkdir -p /etc/systemd/system/docker.service.d
sudo nano /etc/systemd/system/docker.service.d/http-proxy.conf
```
ç„¶åæ·»åŠ å†…å®¹ï¼Œè¿™é‡Œæ˜¯æˆ‘è‡ªå·±çš„ä»£ç†
```
[Service]
Environment="HTTP_PROXY=http://127.0.0.1:7890"
Environment="HTTPS_PROXY=http://127.0.0.1:7890"
```
é‡å¯ç”Ÿæ•ˆ
```
sudo systemctl daemon-reload
sudo systemctl restart docker
```

## å®‰è£…

### ä¸‹è½½

é¦–å…ˆä½¿ç”¨æˆ‘ä»“åº“ä¸­çš„ `ctfd`ï¼Œå·²ç»åšå¥½äº†é•œåƒæ¢æºç­‰å·¥ä½œã€‚
```
git clone https://github.com/Un1kTeam/CTFd --depth=1
```

### é…ç½®

```
cd CTFd
nano conf/frp/frps.ini # token ä¸€å®šè¦éšæœº
nano conf/frp/frpc.ini # token ä¸€å®šè¦éšæœº
```
è¿™é‡Œç»™å‡º `frp` ä¸¤ä¸ªé…ç½®æ–‡ä»¶çš„å†…å®¹ä¾›å‚è€ƒï¼Œå¤§è‡´å°±æ˜¯åªéœ€è¦ä¿®æ”¹ token

- `frps.ini`
```
[common]
bind_port = 7000
vhost_http_port = 9123
token = your_token
subdomain_host = node.vaala.ink
```

- `frpc.ini`
```
[common]
token = your_token
server_addr = 172.1.0.3
server_port = 7000
admin_addr = 172.1.0.4
admin_port = 7400
```
ç„¶åå®‰è£…æ’ä»¶å¹¶å¯åŠ¨
```
git submodule update --init
docker-compose up -d
```
ä¸å‡ºæ„å¤–å°±åº”è¯¥æˆåŠŸäº†ï¼Œä½¿ç”¨
```
docker ps -a
```
æŸ¥çœ‹æ˜¯å¦æœ‰æ²¡æœ‰æ­£ç¡®å¯åŠ¨çš„é•œåƒ

### å¹³å°è®¾ç½®

æµè§ˆå™¨è®¿é—® 9124 ç«¯å£è¿›å…¥å¹³å°ï¼Œå®Œæˆå¹³å°åŸºæœ¬é…ç½®ï¼Œç„¶åè¿›å…¥åå°ï¼Œå³ä¸Šè§’çš„æ’ä»¶ä¸­è¿›å…¥ `Whale` è®¾ç½®ï¼Œå…¶ä¸­ï¼Œå·¦ä¾§ Docker èœå•æ å¦‚æœæ²¡æœ‰ç‰¹æ®Šéœ€æ±‚æ— éœ€æ›´æ”¹ï¼Œåªéœ€æ›´æ”¹å·¦ä¾§ Frp èœå•æ ä¸­çš„å†…å®¹

| é¡¹                    | å†…å®¹                                                                       |
| --------------------- | ------------------------------------------------------------------------- |
| Http Domain Suffix    | `node.vaala.ink` è¿™é‡Œå¡«å†™ä½¿ç”¨httpæ–¹å¼è®¿é—®é¶æœºçš„æ³›è§£æåŸŸå                         |
| Http Port             | `9123`          è¿™é‡Œå¡«å†™frpsä¸­çš„vhost_http_portï¼Œè¯¥ç«¯å£ä¸ºhttpæ–¹å¼é¶æœºè®¿é—®çš„ç«¯å£   |
| Direct IP Address     | `chive.vaala.cloud` è¿™é‡Œå¡«å†™æœåŠ¡å™¨ipï¼Œç”¨äºæ˜¾ç¤ºDirectæ–¹å¼è®¿é—®çš„é¢˜ç›®çš„IP             |
| Direct Minimum Port   | `9125`          è¿™é‡Œå¡«å†™ç”¨äºåŠ¨æ€é¶æœºDirectæ–¹å¼çš„å¼€å§‹ç«¯å£                         |
| Direct Maximum Port   | `9129`          è¿™é‡Œå¡«å†™ç»“æŸç«¯å£                                              |

æœ€åç‚¹ä¸€ä¸‹æ›´æ–°å°±å¯ä»¥ä¿å­˜é…ç½®äº†ï¼Œå¡«å†™å®Œæˆåæ–°å»ºé¢˜ç›®æµ‹è¯•æ˜¯å¦æˆåŠŸï¼ŒæŒ‰ä¸‹è¡¨æ–°å»ºé¢˜ç›®ï¼Œè¡¨ä¸­æ²¡æœ‰æåˆ°çš„ä¿æŒé»˜è®¤å°±å¥½

| é¡¹                    | å†…å®¹                |
| --------------------- | ------------------- |
| Choose Challenge Type | `Dynamic docker`    |
| Name                  | `test`              |
| Category              | `test`              |
| Docker Image          | `vaalacat/push_f12` |
| Frp Redirect Type     | `Direct` æˆ–è€… `Http` |
| Frp Redirect Port     | `80`                |
| Initial Value         | `1`                 |
| Decay Limit           | `1`                 |
| Minimum Value         | `1`                 |
| Score Type            | `dynamic score`     |

æ–°å»ºé¢˜ç›®è¿‡åç‚¹å‡»å¯åŠ¨ï¼Œç„¶åç­‰å¾…é¶æœºåˆ›å»ºï¼Œå¯ä»¥åœ¨æœåŠ¡å™¨ä¸­ `docker ps -a` æŸ¥çœ‹æ˜¯å¦å¯åŠ¨ï¼Œè‹¥å¯åŠ¨æˆåŠŸåˆ™æ­å»ºå®Œæˆ

## æ€»ç»“

æˆ‘çš„ä»“åº“ä¸­æ‰€ä½¿ç”¨çš„ç«¯å£ä¸€å…±æœ‰ä¸‰ç±»ï¼Œéœ€è¦ä¿®æ”¹å¹³å°ä¿¡æ¯è¯·æŒ‰ç…§ä»¥ä¸‹æ–‡ä»¶ä½ç½®ä¿®æ”¹

- 9123:	
	é»˜è®¤ http æ¨¡å¼é¶æœºè®¿é—®ç«¯å£ï¼Œéœ€è¦ä¿®æ”¹ `frps.ini`ã€åå°ä¸­çš„ `Http Port`ã€`docker-compose.yml`
- 9124:	
	é»˜è®¤ä¸º ctfd ç«¯å£ï¼Œéœ€è¦ä¿®æ”¹ `docker-compose.yml`
- 9125-9129:
	åŠ¨æ€é¶æœº Direct æ¨¡å¼ç«¯å£ï¼Œéœ€è¦ä¿®æ”¹ `docker-compose.yml`ã€åå°ä¸­çš„ç«¯å£èŒƒå›´

å®Œæˆä»¥ä¸Šæ–‡ä»¶çš„ä¿®æ”¹å³å¯å®Œæˆå¯¹å¹³å°ç”¨åˆ°ç«¯å£çš„ä¿®æ”¹

# å‚è€ƒ

- [ctfd_whale](https://github.com/frankli0324/ctfd-whale)
- [CTFd-Whale æ¨èéƒ¨ç½²å®è·µ](https://www.zhaoj.in/read-6333.html)]]></description><link>https://vaala.cat/posts/ctfdä½¿ç”¨ctfd-whaleåŠ¨æ€é¶æœºæ’ä»¶æ­å»ºé¶åœºæŒ‡å—</link><guid isPermaLink="true">https://vaala.cat/posts/ctfdä½¿ç”¨ctfd-whaleåŠ¨æ€é¶æœºæ’ä»¶æ­å»ºé¶åœºæŒ‡å—</guid><pubDate>Mon, 21 Sep 2020 14:57:19 GMT</pubDate></item><item><title><![CDATA[åœ¨WSL1ä¸­å¿«ä¹çš„ä½¿ç”¨docker]]></title><description><![CDATA[
å‘bå¾®è½¯æ­»æ´»ä¸ç»™æˆ‘çš„ surface book2 æ¨é€ win10 2004 ç‰ˆï¼Œè€Œ wsl1 ä¸æ”¯æŒ docker å®ˆæŠ¤è¿›ç¨‹ï¼Œä½†æ˜¯ pwntools åªèƒ½åœ¨ linux ä¸‹å®‰è£…ï¼Œæ¯æ¬¡å¼€ä¸ªè™šæ‹Ÿæœºéº»çƒ¦çš„ä¸€pã€‚æŸå¤©åœ¨ä½¿ç”¨ vscode for wsl æ—¶å‘ç°dockeræ’ä»¶å¯ä»¥å®‰è£…ï¼Œäºæ˜¯å°±è£…èµ·æ¥ç©äº†ä¸€ä¸‹ï¼Œå‘ç°å®‰è£…è¿‡åæ˜¯æ²¡æ³•æ­£å¸¸ä½¿ç”¨çš„ã€‚æ‰“å¼€ docker for windows è®¾ç½®å¼€æ”¾ deamon ç«¯å£å¹¶ä¸”åœ¨ wsl ç¯å¢ƒå˜é‡ä¸­è®¾ç½®
```
export DOCKER_HOST=tcp://127.0.0.1:2375
```
æˆ‘å‘ç° vscode ä¸­å¯ä»¥æ­£å¸¸æ˜¾ç¤º docker for windows çš„å®¹å™¨äº†ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡åœ¨ wsl ä¸­å®‰è£… docker-cli æ¥å®ç°ä½¿ç”¨ docker è¿™ä¸ªéœ€æ±‚ã€‚é¦–å…ˆè¦å®‰è£… docker-cli
```
sudo apt-get install docker.io
```
æ­£å½“æˆ‘é«˜å…´å®‰è£…æˆåŠŸæ—¶ï¼Œè¾“å…¥ `docker` å‘ç°äº†è¾“å‡º
```
The command 'docker' could not be found in this WSL 1 distro.
We recommend to convert this distro to WSL 2 and activate
the WSL integration in Docker Desktop settings.

See https://docs.docker.com/docker-for-windows/wsl/ for details.
```
çœ‹æ¥æ˜¯å·¨ç¡¬æäº†ä¸€ä¸ªä¹Ÿå«dockerçš„ä¸œè¥¿æ¥æé†’æˆ‘ï¼Œé‚£å°±éœ€è¦æŠŠå®ƒåˆ é™¤
```
whereis docker
```
å¯ä»¥å‘ç°æœ‰ä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶
```
/mnt/c/Program Files/Docker/Docker/resources/bin/docker
```
è¿™ä¸ªæ–‡ä»¶å°±æ˜¯ç½ªé­ç¥¸é¦–ï¼Œéœ€è¦åˆ é™¤å®ƒï¼Œä»¥é˜²ä¸‡ä¸€ï¼ŒæŠŠè¿™ä¸ªæ–‡ä»¶é‡å‘½åã€‚ç„¶åå°±å¯ä»¥å¿«ä¹çš„åœ¨ wsl1 ä¸­è¿è¡Œdockeräº†]]></description><link>https://vaala.cat/posts/åœ¨WSL1ä¸­å¿«ä¹çš„ä½¿ç”¨docker</link><guid isPermaLink="true">https://vaala.cat/posts/åœ¨WSL1ä¸­å¿«ä¹çš„ä½¿ç”¨docker</guid><pubDate>Mon, 31 Aug 2020 10:05:01 GMT</pubDate></item><item><title><![CDATA[ShareX é…ç½® Ubuntu Pastebin å’Œé˜¿é‡Œäº‘ oss åˆ†äº«]]></title><description><![CDATA[
ç”¨äº† sharex è¿‡åæ„Ÿè§‰ç»™åˆ«äººåˆ†äº«å›¾ç‰‡å’Œä»£ç æ–‡ä»¶çš„ä½“éªŒå¥½äº†ä¸å°‘ï¼Œä½†æ˜¯ sharex å¹¶æ²¡æœ‰æä¾› Ubuntu Pastebin è¿™ä¸ªçŸ¥åä»£ç åˆ†äº«å¹³å°è®©æˆ‘å¾ˆéš¾å—ï¼Œé˜¿é‡Œäº‘ oss ä¹Ÿå°šæœªæ”¯æŒï¼Œè€Œä¸”åœ¨ç½‘ä¸Šä¹Ÿæ²¡æœ‰æ‰¾åˆ°ç›¸å…³çš„èµ„æ–™ï¼Œä¹‹å‰çš„è§£å†³æ–¹æ¡ˆæ˜¯ä½¿ç”¨è‡ªå»ºçš„ hastebin ä»¥åŠ nextcloudï¼Œè™½ç„¶ä½“éªŒä¸é”™ä¸è¿‡æ¯•ç«Ÿæ˜¯è‡ªå»ºçš„ï¼Œæ²¡æœ‰é«˜æ€§èƒ½é«˜å¸¦å®½çš„æœåŠ¡å™¨ä½“éªŒè¿˜æ˜¯ä¼šå¤§æ‰“æŠ˜æ‰£ï¼Œäºæ˜¯åªå¥½è‡ªå·±è§£å†³ç„¶åè®°å½•ä¸€ä¸‹äº†ã€‚

## Ubuntu Pastebin

è¿™ä¸ªä»£ç åˆ†äº«å¹³å°çš„æ ¼å¼è¿˜æ˜¯å¾ˆç®€å•çš„ï¼Œå¤§æ¦‚ç»™å‡ºè¡¨æ ¼

- è¯·æ±‚

| æ–¹æ³• | URL                      | è¯·æ±‚ä½“           |
| ---- | ------------------------ | ---------------- |
| POST | https://paste.ubuntu.com | Form URL encoded |

| åç§°    | å€¼          |
| ------- | ---------- |
| poster  | VaalaCat   |
| syntax  | text       |
| content | \$input\$  |

- å“åº”

```
$responseurl$
```

## Aliyun OSS

~~æ­£åœ¨æµ‹è¯•~~gugugugugugu]]></description><link>https://vaala.cat/posts/ShareX-é…ç½®Ubuntu-Pastebin-åˆ†äº«</link><guid isPermaLink="true">https://vaala.cat/posts/ShareX-é…ç½®Ubuntu-Pastebin-åˆ†äº«</guid><pubDate>Tue, 25 Aug 2020 08:30:40 GMT</pubDate></item><item><title><![CDATA[åšå®¢æ¬è¿]]></title><description><![CDATA[
## hahaha
ç»ˆäºè½¬æˆ˜hexoäº†ï¼Œä¸å¾—ä¸è¯´github pagesçœŸçš„è‰¯å¿ƒï¼Œè‡ªå¸¦cdnè¿˜ä¸è¦é’±ï¼Œä¸è¿‡ä»¥å‰çš„è¯„è®ºæ˜¯æ²¡æ³•å¯¼å‡ºäº†ï¼Œhexoè¿™ä¸ªç›´æ¥æŠŠmdæ‹–è¿›æ¥å°±èƒ½å½“åšå®¢ç®€ç›´æ–¹ä¾¿ï¼Œé¡ºä¾¿å«–äº†é˜¿é‡Œäº‘çš„ossåšå›¾åºŠå’ŒåŠ é€Ÿé™æ€èµ„æºï¼Œå°±ç®—æ˜¯github pagesåŠ é€Ÿè¿‡åè®¿é—®ä½“éªŒä¹Ÿæ˜¯å¯ä»¥æ¥å—çš„ï¼Œä»Šååº”è¯¥ä¸ä¼šå†æ¬è¿åšå®¢äº†ï¼Œä»¥å‰çš„è¯„è®ºä¹Ÿåªèƒ½å°±è¿™ä¹ˆç®—äº†ï¼Œç›¸ä¿¡ä¹‹ååšå®¢ä¼šæ›´é«˜äº§æŠŠhahahahahah]]></description><link>https://vaala.cat/posts/newblog</link><guid isPermaLink="true">https://vaala.cat/posts/newblog</guid><pubDate>Sun, 23 Aug 2020 15:23:33 GMT</pubDate></item><item><title><![CDATA[OBS Virtual CamæŒ‡åŒ—]]></title><description><![CDATA[
obsæ˜¯ä¸€ä¸ªé€šå¸¸ç”¨ä½œç›´æ’­æ¢è„¸è½¯ä»¶ï¼ˆğŸ˜Šï¼Œç”¨é€”å°±æ˜¯å°†æœ¬åœ°çš„åª’ä½“èµ„æºè™šæ‹Ÿä¸ºæ‘„åƒå¤´è¾“å‡ºï¼Œå¯ä»¥èµ·åˆ°æ›´æ”¹è§†é¢‘æµçš„ä½œç”¨ã€‚

é¦–å…ˆè¦å®‰è£…è½¯ä»¶ï¼Œæœ‰ä¸¤ä¸ªæ–‡ä»¶ï¼Œä¸€ä¸ªæ˜¯ä¸»ç¨‹åºï¼Œä¸€ä¸ªæ˜¯æ’ä»¶ã€‚

ç”±äºç½‘ç»œç¯å¢ƒé—®é¢˜ï¼Œæˆ‘å°†è½¯ä»¶ä½¿ç”¨äº†cdnè¿›è¡ŒåŠ é€Ÿï¼š[ä¸‹è½½ç‚¹æˆ‘](https://wws.lanzous.com/b01bh2tmd) å¯†ç ï¼š5qb8

å®‰è£…ä¸€è·¯é»˜è®¤å°±å¥½]]></description><link>https://vaala.cat/posts/obs-virtual-camæŒ‡åŒ—</link><guid isPermaLink="true">https://vaala.cat/posts/obs-virtual-camæŒ‡åŒ—</guid><pubDate>Wed, 10 Jun 2020 18:14:33 GMT</pubDate></item><item><title><![CDATA[ä¸ºIdracé…ç½®é‚®ç®±è­¦æŠ¥]]></title><description><![CDATA[
## æƒ³æ³•

ç”±äºæœ‰äº†ä¸¤ä¸ªå…¬ç½‘IPï¼Œé‚æ¡äº†ä¸€å°æ´‹åƒåœ¾æœåŠ¡å™¨ä»¥å……åˆ†åˆ©ç”¨èµ„æºï¼ˆå…¶å®å°±æ˜¯æƒ³ç©æœåŠ¡å™¨ï¼‰ã€‚ç”±äºä¸¤ä¸ªIPä¸€ä¸ªæ˜¯ç§»åŠ¨300Mï¼Œä¸€ä¸ªæ˜¯ç”µä¿¡çš„100Mï¼Œäºæ˜¯å°±æŠŠå¸¦å®½è¾ƒå¤§çš„ç§»åŠ¨ä¸“çº¿ç›´æ¥ä»ç½‘å…³è·¯ç”±æ’ä¸Šäº†æœåŠ¡å™¨ï¼Œå¦ä¸€ä¸ªåˆ™ç”¨äºdellçš„idracä»¥ç®¡ç†æœåŠ¡å™¨ï¼Œä»¥å®ç°æœåŠ¡å™¨åœ¨å´©æ‰çš„æƒ…å†µä¸‹è¿˜èƒ½è¿œç¨‹æ“ä½œã€‚(ç°å·²æ›´æ–°ä¸ºåŒç§»åŠ¨IPï¼Œéƒ½æ¥å…¥è·¯ç”±å™¨ï¼Œç”±è·¯ç”±å™¨æ‰¿æ‹…ç«¯å£è½¬å‘çš„å·¥ä½œã€‚

## å®ç°

æœåŠ¡å™¨æœ¬èº«çš„ç½‘ç»œé…ç½®ä¸€å¸†é£é¡ºï¼Œç…§ç€Proxmox veç»™çš„æ–‡æ¡£è½»æ¾å°±é…ç½®å¥½äº†ç°å·²æ›´æ–°ä¸ºesxiï¼ˆä¸å¾—ä¸åæ§½ä¸‹ç§»åŠ¨çš„å¢™ä¸­å¢™ï¼Œç½‘ç»œè´¨é‡å®åœ¨å¤ªå·®ï¼Œåœ¨GitHubä¸‹ä¸ªé¡¹ç›®éƒ½èƒ½ä¸‹å‡ºæ¥ä¸€ä¸ªç¼“å­˜çš„è€ç‰ˆæœ¬ã€‚å€’æ˜¯Dellçš„Idracçš„é‚®ç®±é…ç½®æ˜¯ä¸ªå·¨å‘ã€‚

ä¼—æ‰€å‘¨çŸ¥æœåŠ¡å™¨éƒ½ä¼šæœ‰IPMIçš„é…ç½®ï¼Œæ–¹ä¾¿ç½‘ç®¡ç®¡ç†ã€‚ä½†æ˜¯æˆ‘è¿™ä¹Ÿä¸æ˜¯ä¸“ä¸šæœºæˆ¿ï¼Œæ²¡æœ‰äºº24å°æ—¶ç›‘æ§ï¼ˆç°åœ¨æœ‰äº†ï¼‰ï¼Œäºæ˜¯æ‰“ç®—éƒ¨ç½²ä¸€ä¸ªé‚®ç®±æŠ¥è­¦ã€‚ä¸€ç•ªæŸ¥æ‰¾èµ„æ–™åå‘ç°idracé‡Œé¢æ˜¯æœ‰è¿™ä¸ªç›¸å…³çš„è®¾ç½®ï¼Œä½†æ˜¯ä½¿ç”¨ç½‘æ˜“çš„é‚®ç®±ä¸€ç›´éƒ½æ²¡æœ‰é…ç½®æˆåŠŸï¼Œæ¢äº†è…¾è®¯ï¼Œgmailä¹Ÿéƒ½ä¸è¡Œã€‚

æŸ¥æ‰¾èµ„æ–™ååœ¨å®˜æ–¹è®ºå›ä¸­å‘ç°ä¸€ä¸ªå¤§å‘ï¼Œè¯´æ˜¯è¦å°†idracä¸­çš„ç½‘ç»œè®¾ç½®é‡Œé¢ï¼Œå¦‚å›¾é…ç½®ï¼š

![](/images/upload/2020-05/image-1.png)

dnsä¸­çš„åç§°è¦ä»¥é‚®ç®±åç§°ä¸ºå‡†ï¼ˆè¿™å°±è¦æ±‚è¦è®¾ç½®å¥½dnsæœåŠ¡å™¨ï¼Œè€Œidracé»˜è®¤æ˜¯ä¸é…ç½®çš„ï¼Œç„¶ååœ¨é‚®ç®±è®¾ç½®é‡Œé¢å¦‚å›¾è®¾ç½®

![](/images/upload/2020-05/image-2.png)

ç„¶åæ˜¯è­¦æŠ¥é‚®ç®±å¡«ä¸Šå°±è¡Œï¼Œå¡«å†™å¥½ä»¥åå¯ä»¥æµ‹è¯•ä¸‹æ˜¯å¦è®¾ç½®æˆåŠŸ

![](/images/upload/2020-05/image-3.png)

åœ¨å®˜ç½‘æ–‡æ¡£æ‰¾ä¸€ä¸ªè­¦æŠ¥ç­‰çº§é«˜çš„idå¡«ä¸Šå»ç‚¹å‘é€å°±å¯ä»¥äº†]]></description><link>https://vaala.cat/posts/ä¸ºidracé…ç½®é‚®ç®±è­¦æŠ¥</link><guid isPermaLink="true">https://vaala.cat/posts/ä¸ºidracé…ç½®é‚®ç®±è­¦æŠ¥</guid><pubDate>Tue, 05 May 2020 20:11:23 GMT</pubDate></item><item><title><![CDATA[å·¥ç§‘æ•°å­¦åˆ†ææ•™æ]]></title><description><![CDATA[
[å¤§å­¦å·¥ç§‘æ•°å­¦åˆ†æä¸Š](images/upload/2020-02/å¤§å­¦æ•°å­¦å·¥ç§‘æ•°å­¦åˆ†æä¸Šç¬¬5ç‰ˆ13858731.pdf)

[å¤§å­¦å·¥ç§‘æ•°å­¦åˆ†æä¸‹](images/upload/2020-02/14097849_å¤§å­¦æ•°å­¦å·¥ç§‘æ•°å­¦åˆ†æç¬¬5ç‰ˆä¸‹_p232.pdf)]]></description><link>https://vaala.cat/posts/themathbook</link><guid isPermaLink="true">https://vaala.cat/posts/themathbook</guid><pubDate>Mon, 17 Feb 2020 10:26:26 GMT</pubDate></item><item><title><![CDATA[Robomasteræ ¡èµ›æ™ºèƒ½å°è½¦OpenCVè§†è§‰ä¸ç¥ç»ç½‘ç»œç¯å¢ƒæ­å»º]]></title><description><![CDATA[
æœ¬é¡¹ç›®çš„æ‰€æœ‰ä»£ç å‡ä¸Šä¼ è‡³GitHubï¼Œé¡¹ç›®åœ°å€ï¼š[https://github.com/VaalaCat/AI\_raspberry\_car](https://github.com/VaalaCat/AI_raspberry_car)

## ä¸€ã€ç®€ä»‹

ç”±äºä½œæ­»é€‰æ‹©äº†æ‘„åƒå¤´æ¥åšè¿™ä¸ªé¡¹ç›®ï¼Œé‚£æ˜¾è€Œæ˜“è§çš„éœ€è¦ç”¨åˆ°opencvæ¥å¤„ç†è¿™ä¸ªå›¾åƒã€‚ï¼ˆå…¶å®ä¹‹å‰æ˜¯ç”¨picameraåº“ï¼Œä¸è¿‡ç°åœ¨opencvä¹Ÿä¸ç”¨ç¼–è¯‘äº†ï¼Œè¿˜æ˜¯é€‰opencvå§ï¼‰

é¦–å…ˆè¦ä»‹ç»ä¸€ä¸‹æˆ‘çš„è®¾å¤‡ï¼š

![](/images/upload/2019-12/img_20191228_1547382525920447325202399-1024x768.jpg)

*   æ ‘è“æ´¾4ï¼ˆä¿ºçš„pi3çœ‹æ ·å­æ˜¯ä¸­é“å´©æ®‚äº†ï¼‰
*   picameraæ¨¡å—

å°å°çš„åæ§½ä¸€ä¸‹pi4çš„å‘çƒ­é‡ï¼Œç®€ç›´æ¯”810ç«é¾™è¿˜å¼ºï¼Œæ²¡ä¸ªå¼ºç‚¹çš„æ•£çƒ­æ ¹æœ¬è·‘ä¸æ»¡ã€‚

## äºŒã€ç¯å¢ƒæ­å»º

### 1ã€opencvç¯å¢ƒ

æ—¢ç„¶è¯´æ˜¯è¦ç”¨åˆ°opencvï¼Œé‚£å°±ä¸å¾—ä¸æåˆ°opencvçš„å®‰è£…ã€‚æ—©åœ¨ä¸€å¹´å‰æˆ‘å°±å¦„å›¾åœ¨æˆ‘çš„pi3ä¸Šå®‰è£…python3çš„opencvï¼Œç»“æœçœ‹åˆ°ç½‘ä¸Šä¸€å¤§å †çš„python2ç›´æ¥pipå®‰è£…çš„æ–¹æ³•ï¼Œåˆæƒ³åˆ°python3ç¼–è¯‘çš„é¾Ÿé€Ÿï¼Œè¿˜å®¹æ˜“å‡ºé”™ï¼Œå¿ƒéƒ½å‡‰äº†åŠæˆªã€‚ä¸è¿‡ä»Šå¹´å†æ¬¡ç¿»èµ„æ–™çš„æ—¶å€™ï¼Œæ‰¾åˆ°äº†pip3å®‰è£…opencvçš„æ–¹æ³•ï¼Œå¹¶ä¸”åœ¨æˆ‘çš„pi3ï¼Œpi4ï¼Œpi zero wä¸Šï¼Œbusterç³»ç»Ÿï¼Œæ— ä¸€å¤±è´¥ã€‚

å®‰è£…opencvæ­¥éª¤å¤§è‡´å¦‚ä¸‹ï¼š

1.  å¯åŠ¨æ ‘è“æ´¾é¦–å…ˆè¦æ¢æºï¼Œå¦åˆ™ä¸‹è½½å¯èƒ½ä¼šå¤±è´¥æ•°æ¬¡ä¸”ç›¸å½“é¾Ÿé€Ÿï¼Œè¯¦è§tunaæºï¼š[æ ‘è“æ´¾æ¢æº](https://mirror.tuna.tsinghua.edu.cn/help/raspbian/)
2.  å®‰è£…ä¾èµ–é¡¹ï¼ˆç”±äºæˆ‘ä¹Ÿä¸çŸ¥é“è¦ç”¨åˆ°äº›å•¥ä¾èµ–ï¼Œå°±çè£…äº†å‡ ä¸ªï¼‰`sudo apt-get install libhdf5-dev libhdf5-serial-dev libqtgui4 libqtwebkit4 libqt4-test python3-pyqt5 libatlas-base-dev libjasper-dev`
3.  å®‰è£…opencvï¼ˆè¿™é‡Œå»ºè®®å¤§å®¶å®‰è£…opencv3è€Œä¸æ˜¯é»˜è®¤çš„opencv4ï¼Œæ¯æ¬¡æˆ‘å®‰è£…opencv4å®Œæˆåéƒ½ä¼šé‡åˆ°ä¸å¯é¢„æ–™çš„é”™è¯¯ï¼‰`sudo pip3 install --no-cache-dir opencv-contrib-python==3.4.3.18` ï¼ˆç”±äºç½‘ç»œåŸå› ï¼Œä¸‹è½½å¯èƒ½è¾ƒæ…¢ï¼Œè¿™é‡Œæˆ‘å°†whlåŒ…ä¸Šä¼ åˆ°äº†æˆ‘çš„æœåŠ¡å™¨ä»¥ä¾›å¿«é€Ÿä¸‹è½½å®‰è£…ï¼š[opencv3](images/upload/2019-12/opencv_contrib_python-3.4.3.18-cp37-cp37m-linux_armv7l.whl)

å®‰è£…å®Œæˆåï¼Œè¾“å…¥`python3` ç„¶å`import cv2` å¦‚æœæ²¡æœ‰å‡ºé”™åˆ™è¯´æ˜å®‰è£…æˆåŠŸã€‚

å®‰è£…ä¸­çš„é—®é¢˜è¯¦è§ï¼š[Opencvçš„å®‰è£…](https://zhuanlan.zhihu.com/p/92184435)

### 2ã€tfç¥ç»ç½‘ç»œç¯å¢ƒ

åœ¨å®‰è£…å®Œæˆåï¼Œå½“ç„¶è¦å‡†å¤‡è¯†åˆ«è·¯çº¿äº†ï¼Œç„¶è€Œï¼Œè·¯çº¿è¯†åˆ«ç®€ç›´æ˜¯å¤ªå›°éš¾äº†ï¼Œæ‰€ä»¥å¯¹äºå²”è·¯å£åˆ†ç±»ï¼Œæˆ‘é€‰æ‹©äº†ç”¨tensorflowæ­å»ºä¸€ä¸ªç®€å•çš„åˆ†ç±»å™¨æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæ¯•ç«Ÿï¼Œèƒ½è®©ç”µè„‘ç´¯çš„å°±ä¸èƒ½è®©è‡ªå·±ç´¯ç€äº†æ˜¯å§ã€‚

è¿™é‡Œå› ä¸ºtf2æ–°å¢äº†kerasï¼Œå¼€å‘å’Œè°ƒè¯•æ•ˆç‡è¾ƒé«˜ï¼Œæ‰€ä»¥é€‰æ‹©é€»è¾‘ç®€æ´çš„tf2ä½œä¸ºå¼€å‘ç¯å¢ƒã€‚

å®‰è£…tensorflow 2æ­¥éª¤å¤§è‡´å¦‚ä¸‹ï¼ˆæˆ‘å½“ç„¶æ˜¯é€‰æ‹©ä¸ŠGitHubç™½å«–ï¼Œäº¤å‰ç¼–è¯‘ç®€ç›´éš¾é¡¶ã€‚ä»…pi3ï¼Œ4ï¼Œç›´æ¥ä¸Šå‘½ä»¤å§ï¼‰ï¼š

```
sudo pip3 install --upgrade setuptools
sudo apt-get install -y libhdf5-dev libc-ares-dev libeigen3-dev
sudo pip3 install keras_applications==1.0.8 --no-deps
sudo pip3 install keras_preprocessing==1.1.0 --no-deps
sudo pip3 install h5py==2.9.0
sudo apt-get install -y openmpi-bin libopenmpi-dev
sudo apt-get install -y libatlas-base-dev
pip3 install -U --user six wheel mock
wget images/upload/2020-01/Tensorflow-bin-master/tensorflow-2.1.0-cp37-cp37m-linux_armv7l.whl
sudo pip3 uninstall tensorflow
sudo -H pip3 install tensorflow-2.1.0-cp37-cp37m-linux_armv7l.whl
```

tfå®‰è£…çš„å…¶ä»–é—®é¢˜è¯¦è§ï¼š[Tensorflow-Biné¢„ç¼–è¯‘åŒ…](https://github.com/PINTO0309/Tensorflow-bin)ï¼Œ[TFå®˜ç½‘å¸®åŠ©](https://www.tensorflow.org/install/source_rpi)

å®‰è£…å®Œæˆåè¿›å…¥python3ä½¿ç”¨importæ£€æŸ¥æ˜¯å¦å¯ä»¥æˆåŠŸå¼•ç”¨ã€‚

ä»¥ä¸Šæ­¥éª¤é¡ºåˆ©æ‰§è¡Œå®Œï¼Œå°±å¯ä»¥å¼€å§‹æˆ‘ä»¬çš„å¼€å‘äº†ï¼Œ~~è¯¦è§ä¸‹ä¸€ç¯‡æ–‡ç« ~~å’•å’•å’•å’•å’•å’•å’•ã€‚]]></description><link>https://vaala.cat/posts/robomaster-opencv-and-tensorflow-car-environment-preparation</link><guid isPermaLink="true">https://vaala.cat/posts/robomaster-opencv-and-tensorflow-car-environment-preparation</guid><pubDate>Tue, 10 Dec 2019 22:55:35 GMT</pubDate></item><item><title><![CDATA[åœ¨æ ‘è“æ´¾3bä¸Šæ¥æ”¶xbox one è“ç‰™æ‰‹æŸ„æ•°æ®]]></title><description><![CDATA[
â€”â€”æ™ºèƒ½å°è½¦

å› ä¸ºæ ¡èµ›è¦æ±‚è¦åˆ¶ä½œä¸€ä¸ªæ™ºèƒ½å°è½¦ï¼Œå¾—æœ‰é¥æ§åŠŸèƒ½ï¼Œç»¼åˆæƒè¡¡äº†å„ç§é¥æ§æ–¹å¼ï¼Œå¦‚webç«¯ï¼Œappï¼Œå‘ç°æŒç»­æ€§å’Œæ“ä½œç»´åº¦å¾ˆå°‘ï¼Œäºæ˜¯é€‰æ‹©äº†æˆ‘çš„xboxè“ç‰™æ‰‹æŸ„ï¼ˆåœ¨æŸ¥èµ„æ–™çš„æ—¶å€™è¿˜å‘ç°æ ‘è“æ´¾å°†GPIOçš„ä¸²å£åˆ†é…ç»™äº†è“ç‰™ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸èƒ½å…¬ç”¨GPIOä¸²å£å’Œè“ç‰™ï¼Œäºæ˜¯é€‰æ‹©äº†ä½¿ç”¨usbçº¿è¿æ¥arduinoï¼‰

* * *

åœ¨Googleä½¿ç”¨ä¸­æ–‡å…³é”®è¯æœç´¢äº†næ¬¡æ²¡æœ‰å‘ç°ä»€ä¹ˆæœ‰ç”¨çš„æ•°æ®ï¼Œäºæ˜¯ä½¿ç”¨è‹±æ–‡å…³é”®è¯æ£€ç´¢åˆ°äº†å¤§é‡å¯ç”¨æ•°æ®ï¼ˆè¿˜æ˜¯å¥½å¥½å­¦è‹±æ–‡å§ï¼‰ï¼Œåœ¨GitHubä¸Šä¹Ÿæ‰¾åˆ°äº†ä¸å°‘è½®å­å¯ä»¥ç›´æ¥ç”¨çš„

éœ€è¦æ³¨æ„çš„æ˜¯æ ‘è“æ´¾ç›´æ¥è¿æ¥è“ç‰™æ˜¯ä¸å¯è¡Œçš„ï¼Œä¼šæç¤ºæ— å¯ç”¨æœåŠ¡ï¼Œåœ¨æŸ¥åˆ°çš„èµ„æ–™çœ‹æ¥ï¼Œéœ€è¦è¿™æ ·æ“ä½œ[https://github.com/erviveksoni/xbox-raspberrypi-rover](https://github.com/erviveksoni/xbox-raspberrypi-rover)è¿˜æœ‰è¿™ä¸ª[https://github.com/atar-axis/xpadneo/tree/master/docs](https://github.com/atar-axis/xpadneo/tree/master/docs)

æŒ‰xpadneoçš„readmeè¿æ¥æˆåŠŸåæ‰‹æŸ„ä¼šéœ‡åŠ¨æç¤º

è¿æ¥æˆåŠŸåå°±åœ¨Pythonä¸­å¯ä»¥ä½¿ç”¨pygameåŒ…é‡Œé¢çš„joysitckè¯»å–æ‰‹æŸ„æ•°æ®äº†ï¼ˆæœ‰ç‚¹å¥‡æ€ªçš„å°±æ˜¯é‚£ä¸ªğŸ®çš„æ–¹å‘æŒ‰é”®æ²¡æœ‰è¢«è¯»å–åˆ°QAQï¼‰

è¿˜è¦åæ§½ä¸€ä¸‹æ‰‹æŸ„çš„æ•°æ®ï¼Œè¿™ä¸ªæé™å€¼æœ‰ç‚¹ä¸å¯¹åŠ²å•Šï¼Œæ‘‡æ†å‘å·¦æé™æ˜¯-1ï¼Œå‘å³å´åªæœ‰0.998xxxxxxï¼Œæ›´å¥‡æ€ªçš„æ˜¯å¥½å‡ ä¸ªè½´çš„æé™å€¼éƒ½æ˜¯ä¸€æ ·çš„ï¼Œä¸çŸ¥é“å·¨ç¡¬æ˜¯æ€ä¹ˆæƒ³çš„

è¿™é‡Œè¿˜è´´å‡ ä¸ªå¼€å‘ä¸­é‡åˆ°çš„å°å‘ï¼Œç”±äºä¸Šä½æœºæ ‘è“æ´¾æ¥æ”¶é¥æ§æ•°æ®ç„¶åé€šè¿‡USBä¸²å£ä¼ ç»™ä¸‹ä½æœºArduinoï¼Œåœ¨å¼€å‘è¿‡ç¨‹ä¸­æœ‰ä¸‰ä¸ªé—®é¢˜

ä¸€ä¸ªæ˜¯æˆ‘åœ¨Arduino IDEå‘æ•°æ®æ˜¯å®Œå…¨æ²¡æœ‰é—®é¢˜çš„ï¼Œç”¨pyserialç»™Arduinoå‘æ•°æ®å´å‡ºç°äº†ä¸è¯†åˆ«çš„æƒ…å†µï¼Œå¤šæ¬¡è¯•éªŒåå‘ç°è¿™æ˜¯å› ä¸ºpyserialå‘é€é€Ÿåº¦è¿‡å¿«ï¼Œå‘é€çš„å¤šä¸ªå­—ç¬¦ä¸²è¢«å½“æˆä¸€ä¸ªä¸²å¤„ç†ï¼Œè§£å†³æ–¹æ³•æ˜¯åŠ ä¸€ä¸ªå‘é€å»¶æ—¶

å¦ä¸€ä¸ªå°±æ˜¯å‘é€æ•°æ®çš„ç¼–ç é—®é¢˜ï¼ŒPythonä¸­ä¸€èˆ¬æ˜¯utf8ç¼–ç ï¼Œè€ŒArduinoå´æ˜¯ASCIIï¼Œæ‰€ä»¥å‘é€çš„ç±»å‹åº”è¯¥æ˜¯ASCIIçš„bytesæ•°æ®

è¿˜æœ‰ä¸€ä¸ªæ˜¯æˆ‘åœ¨æœ€åé¥æ§çš„æ—¶å€™å‘ç°ï¼Œæ¯å½“é¥æ§æ­£å¸¸æ“ä½œä¸€æ®µæ—¶é—´ï¼Œéƒ½ä¼šå‡ºç°å¡é¡¿ï¼ŒåŸå› æ˜¯serialçš„printé€Ÿåº¦å¤ªæ…¢ï¼Œå¤§é‡æ•°æ®å¡åœ¨ç¼“å­˜å¯¼è‡´Arduinoè¿è¡Œæ…¢ï¼Œåˆ æ‰serial.printå³å¯

æœ‰æ—¶é—´ä¼ ä¸€æ³¢æ•´è½¦å›¾ç‰‡å­ï¼ˆé¥æ§æ‰‹æ„ŸçœŸå¿ƒä¸é”™]]></description><link>https://vaala.cat/posts/åœ¨æ ‘è“æ´¾3bä¸Šæ¥æ”¶xbox-one-è“ç‰™æ‰‹æŸ„æ•°æ®</link><guid isPermaLink="true">https://vaala.cat/posts/åœ¨æ ‘è“æ´¾3bä¸Šæ¥æ”¶xbox-one-è“ç‰™æ‰‹æŸ„æ•°æ®</guid><pubDate>Thu, 07 Nov 2019 14:03:09 GMT</pubDate></item><item><title><![CDATA[Surface book 2 ç»´ä¿®æ‚è®°]]></title><description><![CDATA[
ç”¨äº†ä¸€å¹´çš„SB2å–äº†æ¯æ°´ï¼Œè‡ªå·±ç”¨å¹é£å¤„ç†åå¹¶æ— åµç”¨ï¼Œå½“å¤©æ™šä¸Šé£æ‰‡å…³æœºåç»§ç»­è½¬åŠ¨ï¼Œæ‰˜äººæ‹¿ç»™å”®åï¼Œå”®åè¡¨ç¤ºäººä¸ºæŸåå¹¶ä¸æƒ³ç»´ä¿®ã€‚ æ‰¾åˆ°ç¬¬ä¸‰æ–¹ç»´ä¿®ï¼ŒèŠ±äº†3kå¤§æ´‹è¿‡æ›´æ¢äº†ä¸»æ¿å’Œé”®ç›˜ï¼ˆé”®ç›˜ä¼¼ä¹å¹¶æœªæ›´æ¢ï¼Œé‚£ä¸ªè¢«æˆ‘ç”¨å¹é£æœºçƒ­é£å¹å˜å½¢çš„é”®å¸½è¿˜åœ¨é‚£é‡Œã€‚ã€‚ã€‚ï¼‰ è¿™é‡Œè¦åæ§½ä¸€ä¸‹ç¬¬ä¸‰æ–¹ç»´ä¿®çš„ä¸“ä¸šç¨‹åº¦ï¼Œç«Ÿç„¶ç”¨åŒé¢èƒ¶ç²˜è´´Dé¢é¢æ¿ï¼Ÿï¼Ÿï¼Ÿ å¹¶ä¸”ç•™ä¸‹äº†åé—ç—‡ï¼šé”®ç›˜éƒ¨åˆ†å……ç”µåªèƒ½å……åˆ°65%ï¼Œè€Œä¸”å‡ºç°äº†åˆ†ç¦»åé”®ç›˜èƒŒå…‰ç¯ä»ç„¶äº®èµ·ï¼ˆä»¥å‰å¹¶ä¸ä¼šï¼‰ï¼Œæ—¢ç„¶ç¬¬ä¸‰æ–¹å·²ç»å¤„ç†å®Œè¿›æ°´ï¼Œæˆ‘å°±æ‰“ç®—å»å¾®è½¯å®˜æ–¹å”®åç¢°ç¢°è¿æ°”ã€‚ åœ¨[å¾®è½¯å”®åé¡µé¢](https://support.microsoft.com/zh-cn/devices/)ä¸‹ç»´ä¿®è®¢å•ï¼Œç»´ä¿®ç±»å‹é€‰æ‹©ï¼šç¡¬ä»¶é—®é¢˜-åº•åº§è¿æ¥é—®é¢˜ ![](/images/upload/2019-07/Screenshot_20190709-074420.jpg) ![](/images/upload/2019-07/Screenshot_20190709-074524.jpg) ä¸‹å•åå¾®è½¯å‘æ¥ä¸€å°é‚®ä»¶ï¼Œè¡¨ç¤ºFedExä¼šæ¥æ”¶ä»¶ ![](/images/upload/2019-07/Screenshot_20190709-074710.jpg) ç„¶è€Œæˆ‘è¿™ç§ä¸‰çº¿å°åŸå¹¶æ— FedExç½‘ç‚¹ï¼Œä¸è¿‡è¿‡äº†ä¸¤å¤©ï¼Œæœ‰ä¸ªéå¸¸ä¸“ä¸šçš„FedExå®¢æœæ‰“ç”µè¯å’Œæˆ‘ç¡®è®¤å–ä»¶æ—¶é—´ï¼Œæˆ‘å‘ç°æ˜¯å¦å¤–ä¸€ä¸ªå•¥æ²¡å¬è¿‡çš„å¿«é€’å…¬å¸ï¼ŒæŒ‰å•å·æŸ¥è¯¢å¾—çŸ¥ï¼Œè¿™ä¸ªå¿«é€’å…¬å¸æ˜¯å°†æœºå™¨è¿é€åˆ°FedExç½‘ç‚¹ï¼Œå†ç”±FedExé€è‡³å¾®è½¯ã€‚ ![](/images/upload/2019-07/Screenshot_20190709-075045.jpg) åˆè¿‡äº†nå¤©æ”¶åˆ°äº†å¦ä¸€å°é‚®ä»¶ ![](/images/upload/2019-07/Screenshot_20190709-075140.jpg) ä¸€å¤©ååˆæ”¶åˆ°å¦ä¸€å°é‚®ä»¶ æ­¤æ—¶æŸ¥çœ‹å”®åé¡µé¢ ![](/images/upload/2019-07/Screenshot_20190709-075258.jpg) å‘ç°å·²ç»å‘è´§ï¼Œé‚®ä»¶ä¼¼ä¹å­˜åœ¨æ•°æ®å»¶è¿Ÿï¼Œæ—¶é—´ä¼šæ™šä¸Šä¸€å¤©ï¼Œå¯èƒ½æ˜¯æˆ‘ç”¨äº†VPNå¯¼è‡´æ˜¯ç¾å›½æ—¶é—´ã€‚

* * *

2019.07.18 æ”¶åˆ°ç¬”è®°æœ¬6å¤©ï¼Œä¸å¾—ä¸è¯´å®˜æ–¹ç»´ä¿®çš„æ•ˆæœä¸é”™ï¼Œä¸è¿‡æŠŠæˆ‘æœºå™¨Dé¢æ–°å¢äº†å‡ æ¡åˆ’ç—•ï¼Œè¿˜æŠŠæˆ‘è†œå…¨éƒ¨æ’•æ‰WTFï¼Œä¸è¿‡ä¹Ÿæ— ä¼¤å¤§é›…ï¼Œæ¯•ç«Ÿæ²¡ç»™é’±æ˜¯æŠŠï¼Œå†ä¹°å¼ è´´ä¸Šå°±å¥½äº†]]></description><link>https://vaala.cat/posts/surface-book-2-ç»´ä¿®æ‚è®°</link><guid isPermaLink="true">https://vaala.cat/posts/surface-book-2-ç»´ä¿®æ‚è®°</guid><pubDate>Tue, 09 Jul 2019 07:41:33 GMT</pubDate></item><item><title><![CDATA[è„‘æ´ï¼šæ¯æ—¥çŸ¥ä¹]]></title><description><![CDATA[
æ¯å¤©åœ¨æ•™å®¤æ— èŠå•Šï¼Œåªæœ‰é€›é€›çŸ¥ä¹æ‰æœ‰è¶£ã€‚ åˆä¸èƒ½æ˜ç›®å¼ èƒ†çš„å¼€æ‰‹æœºï¼Œé‚æ‰“ç®—åšä¸€ä¸ªæ‰“å°çŸ¥ä¹æ–‡ç« çš„å°å·¥å…· å®ƒéœ€è¦ä»¥ä¸‹åŠŸèƒ½ï¼š

1.  æ¥å—å‘é€çš„çŸ¥ä¹é“¾æ¥
2.  ä¿å­˜é“¾æ¥å¯¹åº”æ ‡é¢˜ï¼Œç­”æ¡ˆçš„æ–‡å­—å’Œä½œè€…
3.  è‡ªåŠ¨æ’ç‰ˆ
4.  pdfæˆ–ç›´æ¥æ‰“å°è¾“å‡º

å‘å·²æŒ–ï¼Œå¾…å¡«]]></description><link>https://vaala.cat/posts/è„‘æ´ï¼šæ¯æ—¥çŸ¥ä¹</link><guid isPermaLink="true">https://vaala.cat/posts/è„‘æ´ï¼šæ¯æ—¥çŸ¥ä¹</guid><pubDate>Wed, 08 May 2019 01:19:27 GMT</pubDate></item><item><title><![CDATA[æ–°è„‘æ´ï¼šNFC+WiFi direct]]></title><description><![CDATA[
çœ‹äº†åä¸ºæœ€è¿‘å¹å¾—å¾ˆå‰å®³çš„Huawei share3.0ï¼ˆå°±æ˜¯æ‰‹æœºä¸€ç¢°ç”µè„‘å°±è‡ªåŠ¨ä¼ æ–‡ä»¶é‚£ä¸ªï¼‰ï¼Œæ„Ÿè§‰æ˜¯éå¸¸çš„æ–¹ä¾¿ï¼Œç„¶è€Œæˆ‘å¹¶ä¸æƒ³ç”¨åä¸ºçš„æ‰‹æœºï¼ˆå…¶å®æ˜¯æˆ‘æ²¡é’±ï¼‰ æœ¬æ¥å·²ç»æ”¾å¼ƒè¿™ä¸œè¥¿ï¼Œä½†æ˜¯çœ‹åˆ°è¯´åªè¦æ˜¯åä¸ºç¬”è®°æœ¬ï¼Œä¸ç®¡æ˜¯æ–°æ¬¾è¿˜æ˜¯æ—§æ¬¾ï¼Œæ‹¿åˆ°ä¸“å–åº—å°±èƒ½å‡çº§è¿™ç©æ„å„¿ï¼Œæˆ‘å°±å¯»æ€æ—§æ¬¾çš„ç¬”è®°æœ¬ä¹Ÿæ²¡NFCè¿™ç©æ„å„¿å•Šï¼Œæ€ä¹ˆå®ç°ä¸€ç¢°ä¼ çš„ã€‚ æŸ¥è¯¢ç›¸å…³èµ„æ–™åå‘ç°è¿™ä¸œè¥¿å°±æ˜¯ä¸ªNFC tagè´´åœ¨ç”µè„‘ä¸Šã€‚ã€‚ã€‚ã€‚ ä¸å¾—ä¸è¯´çš„ç¡®å¾ˆæœºæ™º ![](/images/upload/2019-04/s6dd94b82-26ea-4d53-a0c3-42ec3ff533833266178627231986992.jpg) åˆ†æåæˆ‘è®¤ä¸ºè¿™ä¸ªä¸œè¥¿æ˜¯é€šè¿‡æ‰‹æœºåˆ·NFCè¿ä¸Šç”µè„‘çƒ­ç‚¹ç„¶åä¼ è¾“æ–‡ä»¶ï¼Œä½†æ˜¯çœ‹åˆ°è§†é¢‘æ¼”ç¤ºé‡Œé¢ä¼ æ–‡ä»¶å¹¶æ²¡æœ‰å½±å“åˆ°è¿æ¥ï¼Œåˆæ‰¾äº†ä¸€å¤§å †èµ„æ–™åå‘ç°è¿˜æœ‰ä¸ªWiFi directè¿™ç©æ„å„¿ï¼Œå¯ä»¥å®ç°è®¾å¤‡ç«¯åˆ°ç«¯çš„è¿æ¥ï¼Œé€Ÿåº¦è¿˜æ¯”è¾ƒå¿« è¿™æ ·çš„è¯è½¯ä»¶çš„æ¶æ„å°±å·²ç»æˆå‹äº†ï¼š ï¼ˆå¾…æ›´æ–°ï¼‰]]></description><link>https://vaala.cat/posts/æ–°è„‘æ´ï¼šnfcwifi-direct</link><guid isPermaLink="true">https://vaala.cat/posts/æ–°è„‘æ´ï¼šnfcwifi-direct</guid><pubDate>Wed, 08 May 2019 01:15:34 GMT</pubDate></item><item><title><![CDATA[åœ¨windows10ä¸‹è½¬æ¢mbrç£ç›˜ä¸ºgptçš„å¤§å‘]]></title><description><![CDATA[
ä»Šå¤©æƒ³è¯•è¯•1809çš„äº‘å‰ªè´´æ¿åŠŸèƒ½ï¼Œç»“æœå‘ç°å°å¼ç”µè„‘è¿˜å¤„äº1803ï¼Œé‚åŠ å…¥é¢„è§ˆè®¡åˆ’ï¼Œä¸‹è½½å‡çº§åŒ…åå‘ç°ç«Ÿç„¶ä¸æ”¯æŒmbræ ¼å¼ç£ç›˜ï¼Œæ‰¾äº†ä¸€å¤§å †èµ„æ–™åå‘ç°å·¨ç¡¬åœ¨è‡ªå®¶1703åå°±è‡ªå¸¦äº†mbr2gpt.exeã€‚
```
mbr2gpt /validate /allowfullos
mbr2gpt /convert /disk:0 /allowfullos
```
éªŒè¯å¹¶è½¬æ¢ç£ç›˜ï¼Œç¬¬ä¸€æ¬¡ç«Ÿç„¶å¤±è´¥äº†ï¼Œæˆ‘å†å°è¯•ä¸€æ¬¡åå‘ç°è½¬æ¢æˆåŠŸï¼Œå°±é‡å¯ç”µè„‘ï¼Œç»“æœå°±å‡ºç°äº†ä¸‹é¢è¿™ç§æƒ…å†µ

![](/images/upload/2019-03/WIN_20190324_14_40_05_Pro-1024x576.jpg)

>   
> 0xC000000Eæˆ–STATUS\_NO\_SUCH\_DEVICEè¡¨ç¤ºç¡¬ä»¶æ•…éšœæˆ–é©±åŠ¨å™¨é…ç½®ä¸æ­£ç¡®ã€‚ æ£€æŸ¥ç”µç¼†å¹¶ä½¿ç”¨é©±åŠ¨å™¨åˆ¶é€ å•†æä¾›çš„è¯Šæ–­å®ç”¨ç¨‹åºæ£€æŸ¥é©±åŠ¨å™¨ã€‚ å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯è¾ƒæ—§çš„PATAï¼ˆIDEï¼‰é©±åŠ¨å™¨ï¼Œåˆ™æ­¤çŠ¶æ€ä»£ç å¯èƒ½è¡¨ç¤ºä¸»/ä»å±é©±åŠ¨å™¨é…ç½®ä¸æ­£ç¡®ã€‚  
> å¯¼è‡´è¿™äº›é”™è¯¯çš„åŸå› å¯èƒ½æ˜¯winload.exeæ–‡ä»¶æ— æ³•è®¿é—®æˆ–æŸåï¼Œæˆ–è€…æ— æ³•æ‰¾åˆ°æ“ä½œç³»ç»Ÿçš„å¼•å¯¼ä½ç½®ã€‚
> 
> å°è¯•ä½¿ç”¨ä¸‹åˆ—æ–¹æ³•ä¿®å¤ä½ çš„è®¾å¤‡  
> \--é‡å»ºBCDã€‚  
> \--ä½¿ç”¨è‡ªåŠ¨ä¿®å¤å·¥å…·ã€‚  
> \--æ£€æŸ¥ç‰©ç†è®¾å¤‡è¿æ¥ã€‚  
> \--é‡ç½®BIOS / UEFIé…ç½®ã€‚  
> \--å°†æ‚¨çš„ç£ç›˜æ ‡è®°ä¸ºåœ¨çº¿ã€‚
> 
> å¾®è½¯å®˜æ–¹å›å¤  

åˆæ­¥åˆ¤æ–­ä¸ºå¼•å¯¼æ–‡ä»¶æŒ‚æ‰ï¼Œäºæ˜¯åŠ è½½peä¿®å¤å¼•å¯¼ï¼Œç”¨å¾®peè‡ªå¸¦çš„å¼•å¯¼ä¿®å¤å·¥å…·ä¿®å¤

![](/images/upload/2019-03/WIN_20190324_14_53_26_Pro-1024x576.jpg)

å‘ç°å¹¶æ²¡æœ‰ä»€ä¹ˆåµç”¨ã€‚ã€‚ã€‚é‚å†æ¬¡å°è¯•ï¼Œé‡å¯åå‘ç°è¿˜æ˜¯æ²¡æœ‰ä»€ä¹ˆåµç”¨

é‚ä½¿ç”¨bcdä¿®å¤
```
cd c:/windows/system32 
bcdedit /set {default} osdevice boot 
bcdedit /set {default} device boot 
bcdedit /set {default} detecthal 1 
```
æ›´æ–°ï¼š4æœˆ15æ—¥ï¼Œé‡è£…ç³»ç»Ÿï¼ŒçœŸé¦™]]></description><link>https://vaala.cat/posts/åœ¨windows10ä¸‹è½¬æ¢mbrç£ç›˜ä¸ºgptçš„å¤§å‘</link><guid isPermaLink="true">https://vaala.cat/posts/åœ¨windows10ä¸‹è½¬æ¢mbrç£ç›˜ä¸ºgptçš„å¤§å‘</guid><pubDate>Mon, 15 Apr 2019 23:40:53 GMT</pubDate></item><item><title><![CDATA[åœ¨wpä¾§è¾¹æ ä¸­æ·»åŠ svgæŒ‰é’®å¹¶æ·»åŠ åŠ¨ç”»]]></title><description><![CDATA[
çœ‹äº†[moycat](https://moy.cat)ä¸»é¡µçš„ä¸ªäººä»‹ç»æ é‚£å‡ ä¸ªæŒ‰é’®åŠ¨ç”»æ¼‚äº®å¾—ä¸è¡Œï¼ˆæ•ˆæœå›¾å¦‚å³ä¸‹ï¼‰ï¼Œæ‰“ç®—åœ¨Wordpressä¸­åšä¸€ä¸ªé•¿å¾—å·®ä¸å¤šçš„æŒ‰é’®

å‚è€ƒ[https://codepen.io/luiscarvalho/pen/hJFrxl](https://codepen.io/luiscarvalho/pen/hJFrxl)é‡Œé¢çš„å†…å®¹ï¼Œå¼€å§‹æ“ä½œ

![](/images/upload/2018-08/image-1.png)

moyä¸ªäººä»‹ç»  

æŒ‰é’®çš„æ ·å¼å°±ç”¨svgæ¥ç”»äº†ï¼Œæˆ‘ä»¬æ˜¾ç„¶ä¸å¯èƒ½ç”¨pathä¸€ä¸ªç‚¹ä¸€ä¸ªç‚¹çš„æï¼Œæ‰€å¹¸Adobe illstrator å¯ä»¥ç›´æ¥å¯¼å‡ºsvgèµ„æº

åœ¨AIä¸­ç”»å¥½æŒ‰é’®å›¾ï¼Œå³é”®å¯¼å‡ºåˆ°èµ„æºé€‰æ‹©svgæ ¼å¼ï¼ˆå»ºè®®å°ä¸€ç‚¹ï¼ŒçŸ¢é‡å›¾æ”¾å¤§å¹¶ä¸ä¼šå‡ºç°è¾¹ç¼˜é”¯é½¿ï¼‰ï¼Œç”¨ç¼–è¾‘å™¨æ‰“å¼€ä¿å­˜çš„æ–‡ä»¶ï¼Œåˆ æ‰ä¸éœ€è¦çš„ä¸œè¥¿

å¤åˆ¶æ–‡ä»¶å†…å®¹ï¼Œè¿›å…¥Wordpressçš„è‡ªå®šä¹‰ï¼Œåœ¨å°å·¥å…·é‡Œé¢æ·»åŠ ä¸€ä¸ªè‡ªå®šä¹‰HTMLï¼Œè®²å¤åˆ¶çš„svgæ–‡ä»¶å†…å®¹ç²˜è´´åˆ°å†…å®¹é‡Œé¢ï¼Œç»™svgæ·»åŠ ä¸€ä¸ªé“¾æ¥

```
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30" width="30px" height="30px" >
<defs><style>.cls-1{fill:#1088ea;}</style></defs>
<title>zhihu 30px</title>
<g id="zhihu" data-name="zhihu">
<path class="cls-1" d="M9,20.88a13.25,13.25,0,0,0,1.25-1c.15-.12.22-.11.35,0,1.24,1.35,2.41,2.75,3.58,4.16a2.27,2.27,0,0,1,.44,1.23,8.16,8.16,0,0,1-.28,3L8.83,21.52c-.17.55-.32,1.07-.49,1.58A17.56,17.56,0,0,1,5.84,28,4.91,4.91,0,0,1,2.61,29.9,5.63,5.63,0,0,1,0,29.78c0-.12.11-.15.18-.2a19.68,19.68,0,0,0,4.76-5.51,17.33,17.33,0,0,0,2.18-6.65,4.1,4.1,0,0,1,.06-.49c0-.2,0-.23-.21-.23H.77c-.3,0-.3,0-.23-.3a4.83,4.83,0,0,1,.58-1.52,1.27,1.27,0,0,1,1.17-.65c1.63,0,3.26,0,4.9,0,.18,0,.24,0,.25-.24.09-2.4.13-4.81.16-7.22,0-.18-.06-.22-.22-.22H4.84c-.15,0-.21.06-.27.2a7.26,7.26,0,0,1-.64,1.64,4.19,4.19,0,0,1-3.35,2c-.13,0-.25,0-.14-.18a58,58,0,0,0,3-7.68,3.47,3.47,0,0,1,3-2.48s.09,0,.11,0h.25a.6.6,0,0,1-.08.35C6.24,1.55,5.86,2.76,5.52,4c-.06.23,0,.28.2.27h8.64a.77.77,0,0,1,.89.64,4.48,4.48,0,0,1,.17,1.55c0,.12-.08.13-.17.13H10.41c-.2,0-.26,0-.26.25q0,2.82-.12,5.64c0,.5,0,1-.09,1.5,0,.25.05.29.27.29,1.64,0,3.28,0,4.92,0a.6.6,0,0,1,.62.4,6.13,6.13,0,0,1,.33,1.94c0,.12-.06.13-.15.13H10c-.16,0-.25,0-.26.22a17.87,17.87,0,0,1-.68,3.7.36.36,0,0,0,0,.25s0,0,0,0,0,0,0,0Z"/>
<path class="cls-1" d="M30,15.21c0,3.68,0,7.37,0,11.06,0,.23,0,.31-.29.3-1.52,0-3,0-4.56,0a.74.74,0,0,0-.43.12q-1.92,1.24-3.86,2.47c-.24.16-.24.16-.33-.13-.21-.75-.43-1.5-.64-2.25-.05-.16-.11-.22-.28-.22h-2c-.19,0-.22-.06-.22-.23V4.11c0-.19,0-.25.23-.25h12.1c.24,0,.25.1.25.29C30,7.83,30,11.52,30,15.21Zm-10,0v8.68c0,.18,0,.25.22.24s.49,0,.74,0a.27.27,0,0,1,.33.25c.11.45.26.88.37,1.33.06.21.12.24.3.12l2.45-1.58a.7.7,0,0,1,.4-.12h2.39c.23,0,.27-.07.27-.29V6.6c0-.23-.06-.28-.28-.28H20.25c-.23,0-.28.06-.27.29Z"/>
<path class="cls-1" d="M9,20.88l0,0s0,0,0,0,0,0,0,0Z"/>
</g>
</svg>
```

![](/images/upload/2018-08/image-4.png)

ç²˜è´´åˆ°å†…å®¹

ç²˜è´´åä¸å¯¹å•Šã€‚ã€‚ã€‚æ€ä¹ˆæœ‰é”™è¯¯ã€‚ã€‚ã€‚æˆ‘æ€ä¹ˆä¹Ÿä¸çŸ¥é“ã€‚ã€‚

æœç´¢åå‘ç°ã€‚ã€‚ã€‚[https://github.com/yaniswang/HTMLHint/wiki/Attr-lowercasezhzhi](https://github.com/yaniswang/HTMLHint/wiki/Attr-lowercase)Â åªéœ€è¦æŠŠviewBoxé‡Œé¢çš„Bæ”¹æˆbå°±è¡Œäº†

åœ¨æœ€åçš„ä»£ç ä¸Šæ·»åŠ è¿™æ®µä»£ç ï¼ˆhoveræ˜¯æŒ‡å®šé€‰æ‹©é¼ æ ‡æŒ‡é’ˆæµ®åŠ¨åœ¨å…¶ä¸Šçš„å…ƒç´ ï¼Œå¹¶è®¾ç½®å…¶æ ·å¼ï¼‰è¿™é‡Œæ˜¯é¼ æ ‡æµ®åŠ¨åœ¨çŸ¥ä¹å›¾æ ‡ä¸Šå¹¶ä¸”å°†é¢œè‰²æ”¹ä¸ºçŸ¥ä¹è“ï¼Œè¿˜è¦å°†ä»¥å‰çš„fillä½ç½®æ”¹åˆ°gæ ‡ç­¾å†…ï¼Œå¦‚æœä¸ä¿®æ”¹ä½ç½®ï¼Œå°±æ— æ³•ä½¿ç”¨åŠ¨ç”»ï¼ˆè¯´å¤šäº†éƒ½æ˜¯æ³ªï¼‰ï¼Œfill=#808080æ·±ç°è‰²

```
<a href="https://www.zhihu.com/people/huidcs176">
<svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 30 30" width="30px" height="30px" attr-lowercase = true>
<style>
a svg:hover #zhihu
	{
		fill:#1088ea;
	}
a svg #zhihu { 
  transition: 200ms;
  transition-timing-function: ease-in-out;
  -webkit-transition: 200ms;
  -webkit-transition-timing-function: ease-in-out;
}
</style>
<title>zhihu</title>
<g id="zhihu" data-name="zhihu" fill=#808080>
<path class="cls-1" d="M9,20.88a13.25,13.25,0,0,0,1.25-1c.15-.12.22-.11.35,0,1.24,1.35,2.41,2.75,3.58,4.16a2.27,2.27,0,0,1,.44,1.23,8.16,8.16,0,0,1-.28,3L8.83,21.52c-.17.55-.32,1.07-.49,1.58A17.56,17.56,0,0,1,5.84,28,4.91,4.91,0,0,1,2.61,29.9,5.63,5.63,0,0,1,0,29.78c0-.12.11-.15.18-.2a19.68,19.68,0,0,0,4.76-5.51,17.33,17.33,0,0,0,2.18-6.65,4.1,4.1,0,0,1,.06-.49c0-.2,0-.23-.21-.23H.77c-.3,0-.3,0-.23-.3a4.83,4.83,0,0,1,.58-1.52,1.27,1.27,0,0,1,1.17-.65c1.63,0,3.26,0,4.9,0,.18,0,.24,0,.25-.24.09-2.4.13-4.81.16-7.22,0-.18-.06-.22-.22-.22H4.84c-.15,0-.21.06-.27.2a7.26,7.26,0,0,1-.64,1.64,4.19,4.19,0,0,1-3.35,2c-.13,0-.25,0-.14-.18a58,58,0,0,0,3-7.68,3.47,3.47,0,0,1,3-2.48s.09,0,.11,0h.25a.6.6,0,0,1-.08.35C6.24,1.55,5.86,2.76,5.52,4c-.06.23,0,.28.2.27h8.64a.77.77,0,0,1,.89.64,4.48,4.48,0,0,1,.17,1.55c0,.12-.08.13-.17.13H10.41c-.2,0-.26,0-.26.25q0,2.82-.12,5.64c0,.5,0,1-.09,1.5,0,.25.05.29.27.29,1.64,0,3.28,0,4.92,0a.6.6,0,0,1,.62.4,6.13,6.13,0,0,1,.33,1.94c0,.12-.06.13-.15.13H10c-.16,0-.25,0-.26.22a17.87,17.87,0,0,1-.68,3.7.36.36,0,0,0,0,.25s0,0,0,0,0,0,0,0Z"/>
<path class="cls-1" d="M30,15.21c0,3.68,0,7.37,0,11.06,0,.23,0,.31-.29.3-1.52,0-3,0-4.56,0a.74.74,0,0,0-.43.12q-1.92,1.24-3.86,2.47c-.24.16-.24.16-.33-.13-.21-.75-.43-1.5-.64-2.25-.05-.16-.11-.22-.28-.22h-2c-.19,0-.22-.06-.22-.23V4.11c0-.19,0-.25.23-.25h12.1c.24,0,.25.1.25.29C30,7.83,30,11.52,30,15.21Zm-10,0v8.68c0,.18,0,.25.22.24s.49,0,.74,0a.27.27,0,0,1,.33.25c.11.45.26.88.37,1.33.06.21.12.24.3.12l2.45-1.58a.7.7,0,0,1,.4-.12h2.39c.23,0,.27-.07.27-.29V6.6c0-.23-.06-.28-.28-.28H20.25c-.23,0-.28.06-.27.29Z"/>
<path class="cls-1" d="M9,20.88l0,0s0,0,0,0,0,0,0,0Z"/>
</g>
</svg>
</a>
```

è‡³æ­¤æŒ‰é’®åˆ¶ä½œå®Œæˆï¼Œä½†æ˜¯æˆ‘ä»¬å‘ç°è¿™ä¸ªæŒ‰é’®ä¸‹é¢æœ‰ä¸€æ¡å·¨ä¸‘çš„ä¸‹åˆ’çº¿ï¼Œï¼Œmoyçš„blogé‡Œé¢æ˜¯æ²¡æœ‰è¿™æ¡çº¿çš„ï¼Œè¿™ä¸ªå½“ç„¶æ˜¯aæ ‡ç­¾è‡ªå¸¦çš„ï¼Œå¯ä»¥åœ¨styleæ ‡ç­¾ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç æ¶ˆé™¤ä¸‹åˆ’çº¿

```
a{text-decoration:none}
```

ä½ è¯´å•¥ï¼Œæ²¡ç”¨ï¼Ÿè¿™ä¸ªä½ å°±åˆ«é—®æˆ‘äº†ã€‚ã€‚å› ä¸ºæˆ‘ä¹Ÿä¸çŸ¥é“ä¸ºå•¥ã€‚ã€‚ã€‚

ä½ ä¹Ÿè®¸éœ€è¦ç¼–è¾‘ä¸»é¢˜çš„cssæ ·å¼è¡¨ï¼ˆstyle.cssï¼‰ï¼Œæˆ‘åœ¨æ›´æ¢ä¸»é¢˜åä¸‹åˆ’çº¿æ¶ˆå¤±ï¼ŒçŒœæµ‹æ˜¯å› ä¸ºstyle.cssä¸­çš„è®¾ç½®è¦†ç›–äº†å½“å‰è®¾ç½®]]></description><link>https://vaala.cat/posts/åœ¨wpä¾§è¾¹æ ä¸­æ·»åŠ svgæŒ‰é’®å¹¶æ·»åŠ åŠ¨ç”»</link><guid isPermaLink="true">https://vaala.cat/posts/åœ¨wpä¾§è¾¹æ ä¸­æ·»åŠ svgæŒ‰é’®å¹¶æ·»åŠ åŠ¨ç”»</guid><pubDate>Mon, 13 Aug 2018 13:39:37 GMT</pubDate></item><item><title><![CDATA[[è½¬è½½]æ­¤æ—¶æˆ‘èººåœ¨æˆéƒ½æŸå®¾é¦†çš„åºŠä¸Š]]></title><description><![CDATA[
## By [moycat](https://moy.cat)

Day -8 //ç”±æ­¤å¯è§moyé»‘å†å²ä¸æ­¢ä¸€æ¡

æ­¤æ—¶æˆ‘èººåœ¨æˆéƒ½æŸå®¾é¦†çš„åºŠä¸Šï¼Œç­‰å¾…ç€éšæ—¶çš„å…¥ç¡ã€‚

æ‰€è°“ç«èµ›å­¦ä¹ ï¼Œå®å·²åå­˜å®äº¡ï¼Œä¸åœ¨å—å……çš„è‡ªä¹ å¹¶æ— ä¸¤æ ·ã€‚è™½ç„¶ï¼Œåœ¨è¿™è¾¹ï¼Œæ„Ÿè§‰ä¼¼ä¹è¦å¥½äº›ã€‚

è¿™æ¬¡åœ¨æˆéƒ½ï¼Œæ²¡æœ‰åŠå¹´å¤šå‰çš„é‚£èˆ¬åŒ†å¿™ï¼Œå€’ç«Ÿæ¯”åœ¨å—å……è¿˜è¦èˆ’çˆ½äº›ã€‚åªæ˜¯æˆéƒ½æ²¡æœ‰å—å……çš„å¤œé›¨ï¼Œå¾ˆæ˜¯å¹²ç‡¥ã€‚

åªæ˜¯æ•Œä¸è¿‡ï¼Œè¿˜å‰©å…«å¤©çš„è¿™ä¸ªäº‹å®ã€‚

ä¸æƒ³è°ˆè‡ªå·±ä¸OIï¼Œç„¶è€Œå¿ä¸ä½ã€‚

ä¸Šä¸ªå­¦æœŸçš„åŠå¹´æ¥ï¼Œä¼¼ä¹æˆ‘æ²¡æœ‰æ”¾è¶…è¿‡ä¸€ä¸ä¸€æ¯«çš„ç²¾åŠ›åœ¨OIä¸­ã€‚2æœˆåŸ¹è®­çš„å›«å›µåæ£åï¼Œä¼¼ä¹å½»åº•æŠŠæˆ‘å™ä½äº†ï¼Œå™äº†åŠå¹´ã€‚æˆ‘æ€€ç–‘åŠå¹´æ¥æˆ‘åšè¿‡å‡ é“OIçš„é¢˜ï¼Œçœ‹è¿‡å‡ é¡µOIçš„ä¹¦ã€‚è¿™å¹¶ä¸å…‰å½©ï¼Œç„¶è€Œä¸ºä½•æˆ‘çš„é›„å¿ƒç«Ÿä¼šèç¼©è‡³æ­¤ï¼Ÿ

æˆ–è®¸æ˜¯æˆ‘æ—©å°±éšéšè§‰å¾—ï¼ŒOIå’Œæ–‡åŒ–è¯¾ã€å…¶ä»–ç«èµ›çš„ç›¸ä¼¼ç‚¹ï¼Œè¿˜æ˜¯æœ‰é‚£ä¹ˆå¤šã€‚

æˆ‘ä¹‹æ‰€ä»¥è®¨åŒå¤§å¤šæ•°é«˜è€ƒè¦è€ƒçš„æ–‡åŒ–è¯¾ï¼Œæ— éæ˜¯åšå®ƒä»¬çš„é¢˜å¾ˆæ˜¯çƒ¦äººï¼šå¦‚æœä½ çŸ¥é“è¿™ä¸ªè§£é¢˜å¥—è·¯ï¼Œé‚£ä¹ˆå¥—è¿›å»ï¼Œå¾—åˆ†ï¼›ä½ è¦æ˜¯ä¸çŸ¥é“ï¼Œä»»ä½ æƒ³ç ´å¤´çš®ï¼Œåšä¸å‡ºæ¥ã€‚

è¿™ä¸–ç•Œä¸Šçš„é—®é¢˜ï¼Œçš„ç¡®å¾ˆå¤šéœ€è¦ç»éªŒå»è§£å†³ï¼Œç»éªŒâ€”â€”æˆ–è®°å¿†ï¼Œæ˜¯äººç±»èµ–ä»¥å­˜æ´»çš„æ ¹åŸºã€‚å¯æ˜¯åœ¨æ–‡åŒ–è¯¾çš„é¢˜ç›®ä¸­ï¼Œè¿™ä¸€ç‚¹è¢«æ— é™æ”¾å¤§äº†ï¼Œä½ å°±æ˜¯è¦èƒŒä½è¿™ä¸ªå¥—è·¯ï¼Œè¿™ä¸ªé¢˜å‹ï¼Œè¿™ä¸ªæ–¹æ³•ï¼Œå¦åˆ™æ­»è·¯ä¸€æ¡ã€‚ä¹Ÿè®¸å¹¶ä¸æ˜¯å¦‚æ­¤å§ï¼Œä½†æˆ‘æ‰€åœ¨çš„ç¯å¢ƒå¤„å¤„å¦‚æ­¤ï¼Œä»¥è‡³äºæˆ‘æ€»è§‰å¾—å…¶ä¸­å¦æœ‰ç›®çš„ã€‚

ä½†OIä¸ä¹Ÿå¦‚æ­¤å—ï¼ŸèƒŒä¸‹å„ç§å„æ ·çš„ç®—æ³•ï¼Œäº†è§£å„ç§å„æ ·çš„é¢˜å‹ã€‚åœ¨STLè¿˜æ²¡è¢«è§£ç¦çš„æ—¶å€™ï¼Œä¸€ä¸ªæ’åºç®—æ³•éƒ½éœ€è¦èƒŒå¾—æƒ³åã€‚é‚£æ—¶å€™ä¹‹æœºæ¢°æ›´ç”šï¼ŒçœŸä¸æ˜ç™½æ˜æ˜æœ‰STLä¸ºä»€ä¹ˆä¸å…è®¸ç”¨ã€‚ä½†OIæ¯•ç«Ÿå’Œå…¶ä»–ç§‘ç›®ä¸åŒï¼Œå¦åˆ™æˆ‘æ—©å°±æ”¾å¼ƒäº†ï¼Œå°±åƒæˆ‘å…¥å­¦çŸ­çŸ­å‡ ä¸ªæœˆåæ”¾å¼ƒç‰©ç†ç«èµ›ä¸€æ ·ã€‚è™½ç„¶æˆ‘ä¸çŸ¥é“æ˜¯ä¸æ˜¯æˆ‘å¯¹ä¿¡æ¯æŠ€æœ¯çš„å–œçˆ±é®ä½äº†ä»€ä¹ˆç¼ºç‚¹ã€‚ä¸è¿‡ä¹Ÿæ— æ‰€è°“äº†ã€‚

åœ¨è¢«å™ä½åŠå¹´åï¼Œæˆ‘æ‰é‡æ–°æ‹¿èµ·OIï¼Œå¤‡æˆ˜NOIPâ€”â€”ä¹Ÿå°±æ˜¯è¿™å­¦æœŸå¼€å§‹å§ã€‚ä»æ‰¾æ—¶é—´ç»ƒï¼Œå†æ™šä¸Šæ”¾å­¦ç•™åœ¨æœºæˆ¿ç»ƒï¼Œåˆåœè¯¾ç»ƒï¼Œç°åœ¨è·‘åˆ°æˆéƒ½ç»ƒã€‚èƒ½æ²‰æµ¸åœ¨è‡ªå·±å–œæ¬¢çš„äº‹æƒ…é‡Œï¼Œæ„Ÿè§‰çœŸæ˜¯å¥½å•Šï¼Œåªæ˜¯è¿™æ—¶é—´å¤ªçŸ­äº†ã€‚ä½†æˆ‘æ²¡æœ‰ä¸ºè¿‡å»çš„åŠå¹´åæ‚”ï¼Œå› ä¸ºæˆ‘çŸ¥é“åæ‚”æ— ç”¨ï¼Œè€Œä¸”å°±ç®—å†æ¥ä¸€æ¬¡ï¼Œä¹Ÿæœªå¿…ä¼šè¢«æˆ‘çæƒœã€‚

å”¯ä¸€ä»¤æˆ‘æ¬£æ…°çš„æ˜¯ï¼ŒNOIPå°±ç®—å¤±è´¥ä¹Ÿä¸ä¼šæ˜¯æˆ‘OIçš„ç»ˆç‚¹ã€‚è¿˜æœ‰çœé€‰ï¼Œè™½ç„¶å¸Œæœ›ä¸å¤§ã€‚ä½†å°†æ¥åˆ°äº†å¤§å­¦ï¼Œæˆ‘å¯ä¸æƒ³å»ACMäº†â€¦â€¦é‚£æ—¶æ—¢ç„¶æœ‰äº†è‡ªç”±ï¼Œæˆ‘å°±ä¼šåšè‡ªå·±æ¢¦æƒ³çš„äº‹ã€‚

ç¦»NOIP2015è¿˜æœ‰çŸ­çŸ­å‡ å¤©ã€‚æœªæ¥çš„äº‹ï¼Œåˆæœ‰è°èƒ½é¢„è§ã€‚]]></description><link>https://vaala.cat/posts/è½¬è½½æ­¤æ—¶æˆ‘èººåœ¨æˆéƒ½æŸå®¾é¦†çš„åºŠä¸Š</link><guid isPermaLink="true">https://vaala.cat/posts/è½¬è½½æ­¤æ—¶æˆ‘èººåœ¨æˆéƒ½æŸå®¾é¦†çš„åºŠä¸Š</guid><pubDate>Sun, 12 Aug 2018 18:50:15 GMT</pubDate></item></channel></rss>