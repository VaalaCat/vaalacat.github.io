<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><link rel="stylesheet" href="/_next/static/css/759b682930a311b6.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/633a9ad1601bb6ee.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/f66c4d1363d1d568.css" data-precedence="next"/><link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/lxgw-wenkai-webfont/1.7.0/style.min.css"/><title>ctfd使用ctfd-whale动态靶机插件搭建靶场指南</title><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="any"/><script src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js" noModule=""></script></head><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/lxgw-wenkai-webfont/1.7.0/style.min.css"/><body class="antialiased min-h-screen bg-white dark:bg-slate-950 text-slate-900 dark:text-slate-50"><script>!function(){try{var d=document.documentElement,c=d.classList;c.remove('light','dark');var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';c.add('dark')}else{d.style.colorScheme = 'light';c.add('light')}}else if(e){c.add(e|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()</script><div class="max-w-2xl mx-auto py-10 px-4"><header><div class="flex items-center justify-between"><button class="border rounded-md w-6 h-6 flex items-center justify-center"><span class="sr-only">Toggle mode</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"></path></svg></button><a target="_blank" href="/atom.xml"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-rss ml-3 border rounded-md p-1 w-6 h-6 flex items-center justify-center"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a><nav class="ml-auto text-sm font-medium space-x-6"><a class="hover:text-sky-500" href="/">Home</a><a class="hover:text-sky-500" href="/about/">About</a><a class="hover:text-sky-500" href="/link/">Friends</a></nav></div></header><main><article class="py-6 prose dark:prose-invert"><h1 class="mb-2">ctfd使用ctfd-whale动态靶机插件搭建靶场指南</h1><hr class="my-4"/><time dateTime="2020-09-21T14:57:19.000Z" class="mb-2 block text-xs text-gray-600 dark:text-gray-300">September 21, 2020</time><h1>引言</h1>
<p>由于之前的文章使用的是赵师傅的仓库，里面的 ctfd 版本不能保持官网最新，很多师傅都提到了这个问题，于是重新部署了一下 ctfd 并做一下记录
首先要注意的是系统版本，经过众多师傅的反馈发现 Ubuntu 20 会出现不可预测的 bug，请尽量使用 Ubuntu 18 部署
该文章历史版本：<a href="https://raw.githubusercontent.com/VaalaCat/vaalacat.github.io/9837ec2c6c09af3a504d2537db304788cccbf006/2020/09/21/ctfd%E4%BD%BF%E7%94%A8ctfd-whale%E5%8A%A8%E6%80%81%E9%9D%B6%E6%9C%BA%E6%8F%92%E4%BB%B6%E6%90%AD%E5%BB%BA%E9%9D%B6%E5%9C%BA%E6%8C%87%E5%8D%97/index.html">github</a></p>
<h1>部署</h1>
<p>这里我使用 <a href="https://github.com/frankli0324/ctfd-whale">frankli0324</a> 师傅 fork 后修改的赵师傅 ctfd whale 的版本进行搭建，并对配置文件和项目文件进行了一些定制后打包到了我自己的仓库方便部署</p>
<ul>
<li><a href="https://github.com/Un1kTeam/ctfd-whale">VaalaCat/ctfd_whale</a></li>
<li><a href="https://github.com/Un1kTeam/CTFd">VaalaCat/CTFd</a></li>
</ul>
<h2>准备</h2>
<h3>安装环境</h3>
<p>由于动态靶机是使用 <code>docker</code> 实现的，所以首先要准备安装一下 <code>docker</code></p>
<pre><code>curl -fsSL https://get.docker.com | bash -s docker --mirror Aliyun 
</code></pre>
<p>然后还要准备 <code>docker-compose</code></p>
<pre><code>sudo pip3 install docker-compose -i https://pypi.tuna.tsinghua.edu.cn/simple
</code></pre>
<h3>配置环境</h3>
<p>由于插件使用的是集群的模式，所以这里要创建一个单个服务器的集群</p>
<pre><code>docker swarm init
</code></pre>
<p>然后将这个服务器加入集群</p>
<pre><code>docker node update --label-add=&#x27;name=linux-1&#x27; $(docker node ls -q)
</code></pre>
<p>最后要准备的是给 <code>docker</code> 更换镜像源，这里推荐将 daocloud 和 aliyun 的源都添加进去，不然会很龟速，修改文件 <code>/etc/docker/daemon.json</code>，两个镜像都需要自己取申请一下，改完后类似下面这样</p>
<pre><code>{
    &quot;registry-mirrors&quot;: [&quot;https://233666.mirror.aliyuncs.com&quot;,&quot;http://233666.m.daocloud.io&quot;]
}
</code></pre>
<p>也可以给 docker 设置镜像源代理</p>
<pre><code>sudo mkdir -p /etc/systemd/system/docker.service.d
sudo nano /etc/systemd/system/docker.service.d/http-proxy.conf
</code></pre>
<p>然后添加内容，这里是我自己的代理</p>
<pre><code>[Service]
Environment=&quot;HTTP_PROXY=http://127.0.0.1:7890&quot;
Environment=&quot;HTTPS_PROXY=http://127.0.0.1:7890&quot;
</code></pre>
<p>重启生效</p>
<pre><code>sudo systemctl daemon-reload
sudo systemctl restart docker
</code></pre>
<h2>安装</h2>
<h3>下载</h3>
<p>首先使用我仓库中的 <code>ctfd</code>，已经做好了镜像换源等工作。</p>
<pre><code>git clone https://github.com/Un1kTeam/CTFd --depth=1
</code></pre>
<h3>配置</h3>
<pre><code>cd CTFd
nano conf/frp/frps.ini # token 一定要随机
nano conf/frp/frpc.ini # token 一定要随机
</code></pre>
<p>这里给出 <code>frp</code> 两个配置文件的内容供参考，大致就是只需要修改 token</p>
<ul>
<li><code>frps.ini</code></li>
</ul>
<pre><code>[common]
bind_port = 7000
vhost_http_port = 9123
token = your_token
subdomain_host = node.vaala.ink
</code></pre>
<ul>
<li><code>frpc.ini</code></li>
</ul>
<pre><code>[common]
token = your_token
server_addr = 172.1.0.3
server_port = 7000
admin_addr = 172.1.0.4
admin_port = 7400
</code></pre>
<p>然后安装插件并启动</p>
<pre><code>git submodule update --init
docker-compose up -d
</code></pre>
<p>不出意外就应该成功了，使用</p>
<pre><code>docker ps -a
</code></pre>
<p>查看是否有没有正确启动的镜像</p>
<h3>平台设置</h3>
<p>浏览器访问 9124 端口进入平台，完成平台基本配置，然后进入后台，右上角的插件中进入 <code>Whale</code> 设置，其中，左侧 Docker 菜单栏如果没有特殊需求无需更改，只需更改左侧 Frp 菜单栏中的内容</p>
<table><thead><tr><th>项</th><th>内容</th></tr></thead><tbody><tr><td>Http Domain Suffix</td><td><code>node.vaala.ink</code> 这里填写使用http方式访问靶机的泛解析域名</td></tr><tr><td>Http Port</td><td><code>9123</code>          这里填写frps中的vhost_http_port，该端口为http方式靶机访问的端口</td></tr><tr><td>Direct IP Address</td><td><code>chive.vaala.cloud</code> 这里填写服务器ip，用于显示Direct方式访问的题目的IP</td></tr><tr><td>Direct Minimum Port</td><td><code>9125</code>          这里填写用于动态靶机Direct方式的开始端口</td></tr><tr><td>Direct Maximum Port</td><td><code>9129</code>          这里填写结束端口</td></tr></tbody></table>
<p>最后点一下更新就可以保存配置了，填写完成后新建题目测试是否成功，按下表新建题目，表中没有提到的保持默认就好</p>
<table><thead><tr><th>项</th><th>内容</th></tr></thead><tbody><tr><td>Choose Challenge Type</td><td><code>Dynamic docker</code></td></tr><tr><td>Name</td><td><code>test</code></td></tr><tr><td>Category</td><td><code>test</code></td></tr><tr><td>Docker Image</td><td><code>vaalacat/push_f12</code></td></tr><tr><td>Frp Redirect Type</td><td><code>Direct</code> 或者 <code>Http</code></td></tr><tr><td>Frp Redirect Port</td><td><code>80</code></td></tr><tr><td>Initial Value</td><td><code>1</code></td></tr><tr><td>Decay Limit</td><td><code>1</code></td></tr><tr><td>Minimum Value</td><td><code>1</code></td></tr><tr><td>Score Type</td><td><code>dynamic score</code></td></tr></tbody></table>
<p>新建题目过后点击启动，然后等待靶机创建，可以在服务器中 <code>docker ps -a</code> 查看是否启动，若启动成功则搭建完成</p>
<h2>总结</h2>
<p>我的仓库中所使用的端口一共有三类，需要修改平台信息请按照以下文件位置修改</p>
<ul>
<li>9123:
默认 http 模式靶机访问端口，需要修改 <code>frps.ini</code>、后台中的 <code>Http Port</code>、<code>docker-compose.yml</code></li>
<li>9124:
默认为 ctfd 端口，需要修改 <code>docker-compose.yml</code></li>
<li>9125-9129:
动态靶机 Direct 模式端口，需要修改 <code>docker-compose.yml</code>、后台中的端口范围</li>
</ul>
<p>完成以上文件的修改即可完成对平台用到端口的修改</p>
<h1>参考</h1>
<ul>
<li><a href="https://github.com/frankli0324/ctfd-whale">ctfd_whale</a></li>
<li><a href="https://www.zhaoj.in/read-6333.html">CTFd-Whale 推荐部署实践</a></li>
</ul><div class="text-sm w-full text-center text-slate-500 mt-6 mb-2">- The End -</div><hr/><div class="text-center mt-6 text-red-500 text-sm">服务器不可用，评论处于只读状态，请联系 me@vaala.cat 修复该问题</div><div></div></article></main><footer><p class="text-sm text-slate-500 dark:text-slate-400 text-center mb-0 sm:mb-10">Copyrights © <!-- -->2024<!-- --> VaalaCat. All Rights Reserved.</p><div class="gird gird-cols-1 sm:grid-cols-2"></div></footer></div><div class="gird gird-cols-1 sm:grid-cols-2"></div><script src="/_next/static/chunks/webpack-923131aa04774ae1.js" async=""></script><script src="/_next/static/chunks/e86c296b-0443e34bc5d49aaf.js" async=""></script><script src="/_next/static/chunks/704-746af183f366dc4a.js" async=""></script><script src="/_next/static/chunks/main-app-168fdd63c05dc6d3.js" async=""></script></body></html><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/css/759b682930a311b6.css\",{\"as\":\"style\"}]\n0:\"$L2\"\n"])</script><script>self.__next_f.push([1,"3:HL[\"/_next/static/css/633a9ad1601bb6ee.css\",{\"as\":\"style\"}]\n4:HL[\"/_next/static/css/f66c4d1363d1d568.css\",{\"as\":\"style\"}]\n"])</script><script>self.__next_f.push([1,"5:I{\"id\":\"235\",\"chunks\":[\"272:static/chunks/webpack-923131aa04774ae1.js\",\"397:static/chunks/e86c296b-0443e34bc5d49aaf.js\",\"704:static/chunks/704-746af183f366dc4a.js\"],\"name\":\"\",\"async\":false}\n7:I{\"id\":\"1617\",\"chunks\":[\"272:static/chunks/webpack-923131aa04774ae1.js\",\"397:static/chunks/e86c296b-0443e34bc5d49aaf.js\",\"704:static/chunks/704-746af183f366dc4a.js\"],\"name\":\"\",\"async\":false}\n8:I{\"id\":\"611\",\"chunks\":[\"741:static/chunks/741-e2f5889199daf3f3.js\",\"185:static/chunks/app/layout-eaad7b293fbc9049.js\"],\"name\""])</script><script>self.__next_f.push([1,":\"Providers\",\"async\":false}\n9:I{\"id\":\"6262\",\"chunks\":[\"741:static/chunks/741-e2f5889199daf3f3.js\",\"185:static/chunks/app/layout-eaad7b293fbc9049.js\"],\"name\":\"ModeToggle\",\"async\":false}\na:I{\"id\":\"5332\",\"chunks\":[\"460:static/chunks/02f2e0b6-c38c5ca31e20762b.js\",\"788:static/chunks/95eedddf-ab77d1a5c6810adc.js\",\"141:static/chunks/fc9b8f39-e668f0b8fe8e366f.js\",\"741:static/chunks/741-e2f5889199daf3f3.js\",\"914:static/chunks/914-94de92b54bc5edde.js\",\"886:static/chunks/886-9dd1a41269dee6b9.js\",\"839:static/chunks/839"])</script><script>self.__next_f.push([1,"-3bfa3b6a5c20ba90.js\",\"49:static/chunks/app/posts/[...slug]/page-73866763650b7cbf.js\"],\"name\":\"\",\"async\":false}\nb:I{\"id\":\"8699\",\"chunks\":[\"741:static/chunks/741-e2f5889199daf3f3.js\",\"185:static/chunks/app/layout-eaad7b293fbc9049.js\"],\"name\":\"Analytics\",\"async\":false}\nc:I{\"id\":\"2830\",\"chunks\":[\"272:static/chunks/webpack-923131aa04774ae1.js\",\"397:static/chunks/e86c296b-0443e34bc5d49aaf.js\",\"704:static/chunks/704-746af183f366dc4a.js\"],\"name\":\"\",\"async\":false}\nd:I{\"id\":\"4388\",\"chunks\":[\"272:static/chunks/webpac"])</script><script>self.__next_f.push([1,"k-923131aa04774ae1.js\",\"397:static/chunks/e86c296b-0443e34bc5d49aaf.js\",\"704:static/chunks/704-746af183f366dc4a.js\"],\"name\":\"\",\"async\":false}\n"])</script><script>self.__next_f.push([1,"2:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/759b682930a311b6.css\",\"precedence\":\"next\"}]],[\"$\",\"$L5\",null,{\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/posts/ctfd%E4%BD%BF%E7%94%A8ctfd-whale%E5%8A%A8%E6%80%81%E9%9D%B6%E6%9C%BA%E6%8F%92%E4%BB%B6%E6%90%AD%E5%BB%BA%E9%9D%B6%E5%9C%BA%E6%8C%87%E5%8D%97/\",\"initialTree\":[\"\",{\"children\":[\"posts\",{\"children\":[[\"slug\",\"ctfd%E4%BD%BF%E7%94%A8ctfd-whale%E5%8A%A8%E6%80%81%E9%9D%B6%E6%9C%BA%E6%8F%92%E4%BB%B6%E6%90%AD%E5%BB%BA%E9%9D%B6%E5%9C%BA%E6%8C%87%E5%8D%97\",\"c\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":[\\\"ctfd使用ctfd-whale动态靶机插件搭建靶场指南\\\"]}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialHead\":[\"$L6\",null],\"globalErrorComponent\":\"$7\",\"notFound\":[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[[\"$\",\"link\",null,{\"rel\":\"stylesheet\",\"href\":\"https://cdnjs.cloudflare.com/ajax/libs/lxgw-wenkai-webfont/1.7.0/style.min.css\"}],[\"$\",\"body\",null,{\"className\":\"antialiased min-h-screen bg-white dark:bg-slate-950 text-slate-900 dark:text-slate-50\",\"children\":[\"$\",\"$L8\",null,{\"children\":[[\"$\",\"div\",null,{\"className\":\"max-w-2xl mx-auto py-10 px-4\",\"children\":[[\"$\",\"header\",null,{\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center justify-between\",\"children\":[[\"$\",\"$L9\",null,{}],[\"$\",\"$La\",null,{\"href\":\"/atom.xml\",\"target\":\"_blank\",\"children\":[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-rss ml-3 border rounded-md p-1 w-6 h-6 flex items-center justify-center\",\"children\":[[\"$\",\"path\",\"pv89mb\",{\"d\":\"M4 11a9 9 0 0 1 9 9\"}],[\"$\",\"path\",\"k0647b\",{\"d\":\"M4 4a16 16 0 0 1 16 16\"}],[\"$\",\"circle\",\"bfqh0e\",{\"cx\":\"5\",\"cy\":\"19\",\"r\":\"1\"}],\"$undefined\"]}]}],[\"$\",\"nav\",null,{\"className\":\"ml-auto text-sm font-medium space-x-6\",\"children\":[[\"$\",\"$La\",null,{\"href\":\"/\",\"className\":\"hover:text-sky-500\",\"children\":\"Home\"}],[\"$\",\"$La\",null,{\"href\":\"/about\",\"className\":\"hover:text-sky-500\",\"children\":\"About\"}],[\"$\",\"$La\",null,{\"href\":\"/link\",\"className\":\"hover:text-sky-500\",\"children\":\"Friends\"}]]}]]}]}],[\"$\",\"main\",null,{\"children\":[\"$undefined\",[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]]]}],[\"$\",\"footer\",null,{\"children\":[[\"$\",\"p\",null,{\"className\":\"text-sm text-slate-500 dark:text-slate-400 text-center mb-0 sm:mb-10\",\"children\":[\"Copyrights © \",2024,\" VaalaCat. All Rights Reserved.\"]}],[\"$\",\"$Lb\",null,{}]]}]]}],[\"$\",\"$Lb\",null,{}]]}]}]]}],\"asNotFound\":false,\"children\":[[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[[\"$\",\"link\",null,{\"rel\":\"stylesheet\",\"href\":\"https://cdnjs.cloudflare.com/ajax/libs/lxgw-wenkai-webfont/1.7.0/style.min.css\"}],[\"$\",\"body\",null,{\"className\":\"antialiased min-h-screen bg-white dark:bg-slate-950 text-slate-900 dark:text-slate-50\",\"children\":[\"$\",\"$L8\",null,{\"children\":[[\"$\",\"div\",null,{\"className\":\"max-w-2xl mx-auto py-10 px-4\",\"children\":[[\"$\",\"header\",null,{\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center justify-between\",\"children\":[[\"$\",\"$L9\",null,{}],[\"$\",\"$La\",null,{\"href\":\"/atom.xml\",\"target\":\"_blank\",\"children\":[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-rss ml-3 border rounded-md p-1 w-6 h-6 flex items-center justify-center\",\"children\":[[\"$\",\"path\",\"pv89mb\",{\"d\":\"M4 11a9 9 0 0 1 9 9\"}],[\"$\",\"path\",\"k0647b\",{\"d\":\"M4 4a16 16 0 0 1 16 16\"}],[\"$\",\"circle\",\"bfqh0e\",{\"cx\":\"5\",\"cy\":\"19\",\"r\":\"1\"}],\"$undefined\"]}]}],[\"$\",\"nav\",null,{\"className\":\"ml-auto text-sm font-medium space-x-6\",\"children\":[[\"$\",\"$La\",null,{\"href\":\"/\",\"className\":\"hover:text-sky-500\",\"children\":\"Home\"}],[\"$\",\"$La\",null,{\"href\":\"/about\",\"className\":\"hover:text-sky-500\",\"children\":\"About\"}],[\"$\",\"$La\",null,{\"href\":\"/link\",\"className\":\"hover:text-sky-500\",\"children\":\"Friends\"}]]}]]}]}],[\"$\",\"main\",null,{\"children\":[\"$\",\"$Lc\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"template\":[\"$\",\"$Ld\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"asNotFound\":false,\"childProp\":{\"current\":[\"$\",\"$Lc\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"posts\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"template\":[\"$\",\"$Ld\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"asNotFound\":false,\"childProp\":{\"current\":[\"$\",\"$Lc\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"posts\",\"children\",[\"slug\",\"ctfd%E4%BD%BF%E7%94%A8ctfd-whale%E5%8A%A8%E6%80%81%E9%9D%B6%E6%9C%BA%E6%8F%92%E4%BB%B6%E6%90%AD%E5%BB%BA%E9%9D%B6%E5%9C%BA%E6%8C%87%E5%8D%97\",\"c\"],\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"template\":[\"$\",\"$Ld\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"asNotFound\":false,\"childProp\":{\"current\":[\"$Le\",null],\"segment\":\"__PAGE__?{\\\"slug\\\":[\\\"ctfd使用ctfd-whale动态靶机插件搭建靶场指南\\\"]}\"},\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/633a9ad1601bb6ee.css\",\"precedence\":\"next\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/f66c4d1363d1d568.css\",\"precedence\":\"next\"}]]}],\"segment\":[\"slug\",\"ctfd%E4%BD%BF%E7%94%A8ctfd-whale%E5%8A%A8%E6%80%81%E9%9D%B6%E6%9C%BA%E6%8F%92%E4%BB%B6%E6%90%AD%E5%BB%BA%E9%9D%B6%E5%9C%BA%E6%8C%87%E5%8D%97\",\"c\"]},\"styles\":[]}],\"segment\":\"posts\"},\"styles\":[]}]}],[\"$\",\"footer\",null,{\"children\":[[\"$\",\"p\",null,{\"className\":\"text-sm text-slate-500 dark:text-slate-400 text-center mb-0 sm:mb-10\",\"children\":[\"Copyrights © \",2024,\" VaalaCat. All Rights Reserved.\"]}],[\"$\",\"$Lb\",null,{}]]}]]}],[\"$\",\"$Lb\",null,{}]]}]}]]}],null]}]]\n"])</script><script>self.__next_f.push([1,"f:I{\"id\":\"9682\",\"chunks\":[\"460:static/chunks/02f2e0b6-c38c5ca31e20762b.js\",\"788:static/chunks/95eedddf-ab77d1a5c6810adc.js\",\"141:static/chunks/fc9b8f39-e668f0b8fe8e366f.js\",\"741:static/chunks/741-e2f5889199daf3f3.js\",\"914:static/chunks/914-94de92b54bc5edde.js\",\"886:static/chunks/886-9dd1a41269dee6b9.js\",\"839:static/chunks/839-3bfa3b6a5c20ba90.js\",\"49:static/chunks/app/posts/[...slug]/page-73866763650b7cbf.js\"],\"name\":\"PostContent\",\"async\":false}\n"])</script><script>self.__next_f.push([1,"e:[\"$\",\"article\",null,{\"className\":\"py-6 prose dark:prose-invert\",\"children\":[\"$\",\"$Lf\",null,{\"post\":{\"title\":\"ctfd使用ctfd-whale动态靶机插件搭建靶场指南\",\"date\":\"2020-09-21T14:57:19.000Z\",\"tags\":[\"ctfd\",\"动态靶机\",\"ctfd-whale\",\"ctf\",\"靶场\"],\"categories\":[[\"Technique\",\"Environment\"]],\"body\":{\"raw\":\"\",\"code\":\"var Component=(()=\u003e{var p=Object.create;var i=Object.defineProperty;var s=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var u=Object.getPrototypeOf,f=Object.prototype.hasOwnProperty;var k=(d,e)=\u003e()=\u003e(e||d((e={exports:{}}).exports,e),e.exports),y=(d,e)=\u003e{for(var c in e)i(d,c,{get:e[c],enumerable:!0})},t=(d,e,c,h)=\u003e{if(e\u0026\u0026typeof e==\\\"object\\\"||typeof e==\\\"function\\\")for(let r of m(e))!f.call(d,r)\u0026\u0026r!==c\u0026\u0026i(d,r,{get:()=\u003ee[r],enumerable:!(h=s(e,r))||h.enumerable});return d};var b=(d,e,c)=\u003e(c=d!=null?p(u(d)):{},t(e||!d||!d.__esModule?i(c,\\\"default\\\",{value:d,enumerable:!0}):c,d)),_=d=\u003et(i({},\\\"__esModule\\\",{value:!0}),d);var o=k((C,l)=\u003e{l.exports=_jsx_runtime});var v={};y(v,{default:()=\u003eE,frontmatter:()=\u003eg});var n=b(o()),g={title:\\\"ctfd\\\\u4F7F\\\\u7528ctfd-whale\\\\u52A8\\\\u6001\\\\u9776\\\\u673A\\\\u63D2\\\\u4EF6\\\\u642D\\\\u5EFA\\\\u9776\\\\u573A\\\\u6307\\\\u5357\\\",date:new Date(1600700239e3),tags:[\\\"ctfd\\\",\\\"\\\\u52A8\\\\u6001\\\\u9776\\\\u673A\\\",\\\"ctfd-whale\\\",\\\"ctf\\\",\\\"\\\\u9776\\\\u573A\\\"],categories:[[\\\"Technique\\\",\\\"Environment\\\"]]};function a(d){let e=Object.assign({h1:\\\"h1\\\",p:\\\"p\\\",a:\\\"a\\\",ul:\\\"ul\\\",li:\\\"li\\\",h2:\\\"h2\\\",h3:\\\"h3\\\",code:\\\"code\\\",pre:\\\"pre\\\",table:\\\"table\\\",thead:\\\"thead\\\",tr:\\\"tr\\\",th:\\\"th\\\",tbody:\\\"tbody\\\",td:\\\"td\\\"},d.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.h1,{children:\\\"\\\\u5F15\\\\u8A00\\\"}),`\\n`,(0,n.jsxs)(e.p,{children:[`\\\\u7531\\\\u4E8E\\\\u4E4B\\\\u524D\\\\u7684\\\\u6587\\\\u7AE0\\\\u4F7F\\\\u7528\\\\u7684\\\\u662F\\\\u8D75\\\\u5E08\\\\u5085\\\\u7684\\\\u4ED3\\\\u5E93\\\\uFF0C\\\\u91CC\\\\u9762\\\\u7684 ctfd \\\\u7248\\\\u672C\\\\u4E0D\\\\u80FD\\\\u4FDD\\\\u6301\\\\u5B98\\\\u7F51\\\\u6700\\\\u65B0\\\\uFF0C\\\\u5F88\\\\u591A\\\\u5E08\\\\u5085\\\\u90FD\\\\u63D0\\\\u5230\\\\u4E86\\\\u8FD9\\\\u4E2A\\\\u95EE\\\\u9898\\\\uFF0C\\\\u4E8E\\\\u662F\\\\u91CD\\\\u65B0\\\\u90E8\\\\u7F72\\\\u4E86\\\\u4E00\\\\u4E0B ctfd \\\\u5E76\\\\u505A\\\\u4E00\\\\u4E0B\\\\u8BB0\\\\u5F55\\n\\\\u9996\\\\u5148\\\\u8981\\\\u6CE8\\\\u610F\\\\u7684\\\\u662F\\\\u7CFB\\\\u7EDF\\\\u7248\\\\u672C\\\\uFF0C\\\\u7ECF\\\\u8FC7\\\\u4F17\\\\u591A\\\\u5E08\\\\u5085\\\\u7684\\\\u53CD\\\\u9988\\\\u53D1\\\\u73B0 Ubuntu 20 \\\\u4F1A\\\\u51FA\\\\u73B0\\\\u4E0D\\\\u53EF\\\\u9884\\\\u6D4B\\\\u7684 bug\\\\uFF0C\\\\u8BF7\\\\u5C3D\\\\u91CF\\\\u4F7F\\\\u7528 Ubuntu 18 \\\\u90E8\\\\u7F72\\n\\\\u8BE5\\\\u6587\\\\u7AE0\\\\u5386\\\\u53F2\\\\u7248\\\\u672C\\\\uFF1A`,(0,n.jsx)(e.a,{href:\\\"https://raw.githubusercontent.com/VaalaCat/vaalacat.github.io/9837ec2c6c09af3a504d2537db304788cccbf006/2020/09/21/ctfd%E4%BD%BF%E7%94%A8ctfd-whale%E5%8A%A8%E6%80%81%E9%9D%B6%E6%9C%BA%E6%8F%92%E4%BB%B6%E6%90%AD%E5%BB%BA%E9%9D%B6%E5%9C%BA%E6%8C%87%E5%8D%97/index.html\\\",children:\\\"github\\\"})]}),`\\n`,(0,n.jsx)(e.h1,{children:\\\"\\\\u90E8\\\\u7F72\\\"}),`\\n`,(0,n.jsxs)(e.p,{children:[\\\"\\\\u8FD9\\\\u91CC\\\\u6211\\\\u4F7F\\\\u7528 \\\",(0,n.jsx)(e.a,{href:\\\"https://github.com/frankli0324/ctfd-whale\\\",children:\\\"frankli0324\\\"}),\\\" \\\\u5E08\\\\u5085 fork \\\\u540E\\\\u4FEE\\\\u6539\\\\u7684\\\\u8D75\\\\u5E08\\\\u5085 ctfd whale \\\\u7684\\\\u7248\\\\u672C\\\\u8FDB\\\\u884C\\\\u642D\\\\u5EFA\\\\uFF0C\\\\u5E76\\\\u5BF9\\\\u914D\\\\u7F6E\\\\u6587\\\\u4EF6\\\\u548C\\\\u9879\\\\u76EE\\\\u6587\\\\u4EF6\\\\u8FDB\\\\u884C\\\\u4E86\\\\u4E00\\\\u4E9B\\\\u5B9A\\\\u5236\\\\u540E\\\\u6253\\\\u5305\\\\u5230\\\\u4E86\\\\u6211\\\\u81EA\\\\u5DF1\\\\u7684\\\\u4ED3\\\\u5E93\\\\u65B9\\\\u4FBF\\\\u90E8\\\\u7F72\\\"]}),`\\n`,(0,n.jsxs)(e.ul,{children:[`\\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\\\"https://github.com/Un1kTeam/ctfd-whale\\\",children:\\\"VaalaCat/ctfd_whale\\\"})}),`\\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\\\"https://github.com/Un1kTeam/CTFd\\\",children:\\\"VaalaCat/CTFd\\\"})}),`\\n`]}),`\\n`,(0,n.jsx)(e.h2,{children:\\\"\\\\u51C6\\\\u5907\\\"}),`\\n`,(0,n.jsx)(e.h3,{children:\\\"\\\\u5B89\\\\u88C5\\\\u73AF\\\\u5883\\\"}),`\\n`,(0,n.jsxs)(e.p,{children:[\\\"\\\\u7531\\\\u4E8E\\\\u52A8\\\\u6001\\\\u9776\\\\u673A\\\\u662F\\\\u4F7F\\\\u7528 \\\",(0,n.jsx)(e.code,{children:\\\"docker\\\"}),\\\" \\\\u5B9E\\\\u73B0\\\\u7684\\\\uFF0C\\\\u6240\\\\u4EE5\\\\u9996\\\\u5148\\\\u8981\\\\u51C6\\\\u5907\\\\u5B89\\\\u88C5\\\\u4E00\\\\u4E0B \\\",(0,n.jsx)(e.code,{children:\\\"docker\\\"})]}),`\\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{children:`curl -fsSL https://get.docker.com | bash -s docker --mirror Aliyun \\n`})}),`\\n`,(0,n.jsxs)(e.p,{children:[\\\"\\\\u7136\\\\u540E\\\\u8FD8\\\\u8981\\\\u51C6\\\\u5907 \\\",(0,n.jsx)(e.code,{children:\\\"docker-compose\\\"})]}),`\\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{children:`sudo pip3 install docker-compose -i https://pypi.tuna.tsinghua.edu.cn/simple\\n`})}),`\\n`,(0,n.jsx)(e.h3,{children:\\\"\\\\u914D\\\\u7F6E\\\\u73AF\\\\u5883\\\"}),`\\n`,(0,n.jsx)(e.p,{children:\\\"\\\\u7531\\\\u4E8E\\\\u63D2\\\\u4EF6\\\\u4F7F\\\\u7528\\\\u7684\\\\u662F\\\\u96C6\\\\u7FA4\\\\u7684\\\\u6A21\\\\u5F0F\\\\uFF0C\\\\u6240\\\\u4EE5\\\\u8FD9\\\\u91CC\\\\u8981\\\\u521B\\\\u5EFA\\\\u4E00\\\\u4E2A\\\\u5355\\\\u4E2A\\\\u670D\\\\u52A1\\\\u5668\\\\u7684\\\\u96C6\\\\u7FA4\\\"}),`\\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{children:`docker swarm init\\n`})}),`\\n`,(0,n.jsx)(e.p,{children:\\\"\\\\u7136\\\\u540E\\\\u5C06\\\\u8FD9\\\\u4E2A\\\\u670D\\\\u52A1\\\\u5668\\\\u52A0\\\\u5165\\\\u96C6\\\\u7FA4\\\"}),`\\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{children:`docker node update --label-add='name=linux-1' $(docker node ls -q)\\n`})}),`\\n`,(0,n.jsxs)(e.p,{children:[\\\"\\\\u6700\\\\u540E\\\\u8981\\\\u51C6\\\\u5907\\\\u7684\\\\u662F\\\\u7ED9 \\\",(0,n.jsx)(e.code,{children:\\\"docker\\\"}),\\\" \\\\u66F4\\\\u6362\\\\u955C\\\\u50CF\\\\u6E90\\\\uFF0C\\\\u8FD9\\\\u91CC\\\\u63A8\\\\u8350\\\\u5C06 daocloud \\\\u548C aliyun \\\\u7684\\\\u6E90\\\\u90FD\\\\u6DFB\\\\u52A0\\\\u8FDB\\\\u53BB\\\\uFF0C\\\\u4E0D\\\\u7136\\\\u4F1A\\\\u5F88\\\\u9F9F\\\\u901F\\\\uFF0C\\\\u4FEE\\\\u6539\\\\u6587\\\\u4EF6 \\\",(0,n.jsx)(e.code,{children:\\\"/etc/docker/daemon.json\\\"}),\\\"\\\\uFF0C\\\\u4E24\\\\u4E2A\\\\u955C\\\\u50CF\\\\u90FD\\\\u9700\\\\u8981\\\\u81EA\\\\u5DF1\\\\u53D6\\\\u7533\\\\u8BF7\\\\u4E00\\\\u4E0B\\\\uFF0C\\\\u6539\\\\u5B8C\\\\u540E\\\\u7C7B\\\\u4F3C\\\\u4E0B\\\\u9762\\\\u8FD9\\\\u6837\\\"]}),`\\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{children:`{\\n    \\\"registry-mirrors\\\": [\\\"https://233666.mirror.aliyuncs.com\\\",\\\"http://233666.m.daocloud.io\\\"]\\n}\\n`})}),`\\n`,(0,n.jsx)(e.p,{children:\\\"\\\\u4E5F\\\\u53EF\\\\u4EE5\\\\u7ED9 docker \\\\u8BBE\\\\u7F6E\\\\u955C\\\\u50CF\\\\u6E90\\\\u4EE3\\\\u7406\\\"}),`\\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{children:`sudo mkdir -p /etc/systemd/system/docker.service.d\\nsudo nano /etc/systemd/system/docker.service.d/http-proxy.conf\\n`})}),`\\n`,(0,n.jsx)(e.p,{children:\\\"\\\\u7136\\\\u540E\\\\u6DFB\\\\u52A0\\\\u5185\\\\u5BB9\\\\uFF0C\\\\u8FD9\\\\u91CC\\\\u662F\\\\u6211\\\\u81EA\\\\u5DF1\\\\u7684\\\\u4EE3\\\\u7406\\\"}),`\\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{children:`[Service]\\nEnvironment=\\\"HTTP_PROXY=http://127.0.0.1:7890\\\"\\nEnvironment=\\\"HTTPS_PROXY=http://127.0.0.1:7890\\\"\\n`})}),`\\n`,(0,n.jsx)(e.p,{children:\\\"\\\\u91CD\\\\u542F\\\\u751F\\\\u6548\\\"}),`\\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{children:`sudo systemctl daemon-reload\\nsudo systemctl restart docker\\n`})}),`\\n`,(0,n.jsx)(e.h2,{children:\\\"\\\\u5B89\\\\u88C5\\\"}),`\\n`,(0,n.jsx)(e.h3,{children:\\\"\\\\u4E0B\\\\u8F7D\\\"}),`\\n`,(0,n.jsxs)(e.p,{children:[\\\"\\\\u9996\\\\u5148\\\\u4F7F\\\\u7528\\\\u6211\\\\u4ED3\\\\u5E93\\\\u4E2D\\\\u7684 \\\",(0,n.jsx)(e.code,{children:\\\"ctfd\\\"}),\\\"\\\\uFF0C\\\\u5DF2\\\\u7ECF\\\\u505A\\\\u597D\\\\u4E86\\\\u955C\\\\u50CF\\\\u6362\\\\u6E90\\\\u7B49\\\\u5DE5\\\\u4F5C\\\\u3002\\\"]}),`\\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{children:`git clone https://github.com/Un1kTeam/CTFd --depth=1\\n`})}),`\\n`,(0,n.jsx)(e.h3,{children:\\\"\\\\u914D\\\\u7F6E\\\"}),`\\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{children:`cd CTFd\\nnano conf/frp/frps.ini # token \\\\u4E00\\\\u5B9A\\\\u8981\\\\u968F\\\\u673A\\nnano conf/frp/frpc.ini # token \\\\u4E00\\\\u5B9A\\\\u8981\\\\u968F\\\\u673A\\n`})}),`\\n`,(0,n.jsxs)(e.p,{children:[\\\"\\\\u8FD9\\\\u91CC\\\\u7ED9\\\\u51FA \\\",(0,n.jsx)(e.code,{children:\\\"frp\\\"}),\\\" \\\\u4E24\\\\u4E2A\\\\u914D\\\\u7F6E\\\\u6587\\\\u4EF6\\\\u7684\\\\u5185\\\\u5BB9\\\\u4F9B\\\\u53C2\\\\u8003\\\\uFF0C\\\\u5927\\\\u81F4\\\\u5C31\\\\u662F\\\\u53EA\\\\u9700\\\\u8981\\\\u4FEE\\\\u6539 token\\\"]}),`\\n`,(0,n.jsxs)(e.ul,{children:[`\\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.code,{children:\\\"frps.ini\\\"})}),`\\n`]}),`\\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{children:`[common]\\nbind_port = 7000\\nvhost_http_port = 9123\\ntoken = your_token\\nsubdomain_host = node.vaala.ink\\n`})}),`\\n`,(0,n.jsxs)(e.ul,{children:[`\\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.code,{children:\\\"frpc.ini\\\"})}),`\\n`]}),`\\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{children:`[common]\\ntoken = your_token\\nserver_addr = 172.1.0.3\\nserver_port = 7000\\nadmin_addr = 172.1.0.4\\nadmin_port = 7400\\n`})}),`\\n`,(0,n.jsx)(e.p,{children:\\\"\\\\u7136\\\\u540E\\\\u5B89\\\\u88C5\\\\u63D2\\\\u4EF6\\\\u5E76\\\\u542F\\\\u52A8\\\"}),`\\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{children:`git submodule update --init\\ndocker-compose up -d\\n`})}),`\\n`,(0,n.jsx)(e.p,{children:\\\"\\\\u4E0D\\\\u51FA\\\\u610F\\\\u5916\\\\u5C31\\\\u5E94\\\\u8BE5\\\\u6210\\\\u529F\\\\u4E86\\\\uFF0C\\\\u4F7F\\\\u7528\\\"}),`\\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{children:`docker ps -a\\n`})}),`\\n`,(0,n.jsx)(e.p,{children:\\\"\\\\u67E5\\\\u770B\\\\u662F\\\\u5426\\\\u6709\\\\u6CA1\\\\u6709\\\\u6B63\\\\u786E\\\\u542F\\\\u52A8\\\\u7684\\\\u955C\\\\u50CF\\\"}),`\\n`,(0,n.jsx)(e.h3,{children:\\\"\\\\u5E73\\\\u53F0\\\\u8BBE\\\\u7F6E\\\"}),`\\n`,(0,n.jsxs)(e.p,{children:[\\\"\\\\u6D4F\\\\u89C8\\\\u5668\\\\u8BBF\\\\u95EE 9124 \\\\u7AEF\\\\u53E3\\\\u8FDB\\\\u5165\\\\u5E73\\\\u53F0\\\\uFF0C\\\\u5B8C\\\\u6210\\\\u5E73\\\\u53F0\\\\u57FA\\\\u672C\\\\u914D\\\\u7F6E\\\\uFF0C\\\\u7136\\\\u540E\\\\u8FDB\\\\u5165\\\\u540E\\\\u53F0\\\\uFF0C\\\\u53F3\\\\u4E0A\\\\u89D2\\\\u7684\\\\u63D2\\\\u4EF6\\\\u4E2D\\\\u8FDB\\\\u5165 \\\",(0,n.jsx)(e.code,{children:\\\"Whale\\\"}),\\\" \\\\u8BBE\\\\u7F6E\\\\uFF0C\\\\u5176\\\\u4E2D\\\\uFF0C\\\\u5DE6\\\\u4FA7 Docker \\\\u83DC\\\\u5355\\\\u680F\\\\u5982\\\\u679C\\\\u6CA1\\\\u6709\\\\u7279\\\\u6B8A\\\\u9700\\\\u6C42\\\\u65E0\\\\u9700\\\\u66F4\\\\u6539\\\\uFF0C\\\\u53EA\\\\u9700\\\\u66F4\\\\u6539\\\\u5DE6\\\\u4FA7 Frp \\\\u83DC\\\\u5355\\\\u680F\\\\u4E2D\\\\u7684\\\\u5185\\\\u5BB9\\\"]}),`\\n`,(0,n.jsxs)(e.table,{children:[(0,n.jsx)(e.thead,{children:(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.th,{children:\\\"\\\\u9879\\\"}),(0,n.jsx)(e.th,{children:\\\"\\\\u5185\\\\u5BB9\\\"})]})}),(0,n.jsxs)(e.tbody,{children:[(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:\\\"Http Domain Suffix\\\"}),(0,n.jsxs)(e.td,{children:[(0,n.jsx)(e.code,{children:\\\"node.vaala.ink\\\"}),\\\" \\\\u8FD9\\\\u91CC\\\\u586B\\\\u5199\\\\u4F7F\\\\u7528http\\\\u65B9\\\\u5F0F\\\\u8BBF\\\\u95EE\\\\u9776\\\\u673A\\\\u7684\\\\u6CDB\\\\u89E3\\\\u6790\\\\u57DF\\\\u540D\\\"]})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:\\\"Http Port\\\"}),(0,n.jsxs)(e.td,{children:[(0,n.jsx)(e.code,{children:\\\"9123\\\"}),\\\"          \\\\u8FD9\\\\u91CC\\\\u586B\\\\u5199frps\\\\u4E2D\\\\u7684vhost_http_port\\\\uFF0C\\\\u8BE5\\\\u7AEF\\\\u53E3\\\\u4E3Ahttp\\\\u65B9\\\\u5F0F\\\\u9776\\\\u673A\\\\u8BBF\\\\u95EE\\\\u7684\\\\u7AEF\\\\u53E3\\\"]})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:\\\"Direct IP Address\\\"}),(0,n.jsxs)(e.td,{children:[(0,n.jsx)(e.code,{children:\\\"chive.vaala.cloud\\\"}),\\\" \\\\u8FD9\\\\u91CC\\\\u586B\\\\u5199\\\\u670D\\\\u52A1\\\\u5668ip\\\\uFF0C\\\\u7528\\\\u4E8E\\\\u663E\\\\u793ADirect\\\\u65B9\\\\u5F0F\\\\u8BBF\\\\u95EE\\\\u7684\\\\u9898\\\\u76EE\\\\u7684IP\\\"]})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:\\\"Direct Minimum Port\\\"}),(0,n.jsxs)(e.td,{children:[(0,n.jsx)(e.code,{children:\\\"9125\\\"}),\\\"          \\\\u8FD9\\\\u91CC\\\\u586B\\\\u5199\\\\u7528\\\\u4E8E\\\\u52A8\\\\u6001\\\\u9776\\\\u673ADirect\\\\u65B9\\\\u5F0F\\\\u7684\\\\u5F00\\\\u59CB\\\\u7AEF\\\\u53E3\\\"]})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:\\\"Direct Maximum Port\\\"}),(0,n.jsxs)(e.td,{children:[(0,n.jsx)(e.code,{children:\\\"9129\\\"}),\\\"          \\\\u8FD9\\\\u91CC\\\\u586B\\\\u5199\\\\u7ED3\\\\u675F\\\\u7AEF\\\\u53E3\\\"]})]})]})]}),`\\n`,(0,n.jsx)(e.p,{children:\\\"\\\\u6700\\\\u540E\\\\u70B9\\\\u4E00\\\\u4E0B\\\\u66F4\\\\u65B0\\\\u5C31\\\\u53EF\\\\u4EE5\\\\u4FDD\\\\u5B58\\\\u914D\\\\u7F6E\\\\u4E86\\\\uFF0C\\\\u586B\\\\u5199\\\\u5B8C\\\\u6210\\\\u540E\\\\u65B0\\\\u5EFA\\\\u9898\\\\u76EE\\\\u6D4B\\\\u8BD5\\\\u662F\\\\u5426\\\\u6210\\\\u529F\\\\uFF0C\\\\u6309\\\\u4E0B\\\\u8868\\\\u65B0\\\\u5EFA\\\\u9898\\\\u76EE\\\\uFF0C\\\\u8868\\\\u4E2D\\\\u6CA1\\\\u6709\\\\u63D0\\\\u5230\\\\u7684\\\\u4FDD\\\\u6301\\\\u9ED8\\\\u8BA4\\\\u5C31\\\\u597D\\\"}),`\\n`,(0,n.jsxs)(e.table,{children:[(0,n.jsx)(e.thead,{children:(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.th,{children:\\\"\\\\u9879\\\"}),(0,n.jsx)(e.th,{children:\\\"\\\\u5185\\\\u5BB9\\\"})]})}),(0,n.jsxs)(e.tbody,{children:[(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:\\\"Choose Challenge Type\\\"}),(0,n.jsx)(e.td,{children:(0,n.jsx)(e.code,{children:\\\"Dynamic docker\\\"})})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:\\\"Name\\\"}),(0,n.jsx)(e.td,{children:(0,n.jsx)(e.code,{children:\\\"test\\\"})})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:\\\"Category\\\"}),(0,n.jsx)(e.td,{children:(0,n.jsx)(e.code,{children:\\\"test\\\"})})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:\\\"Docker Image\\\"}),(0,n.jsx)(e.td,{children:(0,n.jsx)(e.code,{children:\\\"vaalacat/push_f12\\\"})})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:\\\"Frp Redirect Type\\\"}),(0,n.jsxs)(e.td,{children:[(0,n.jsx)(e.code,{children:\\\"Direct\\\"}),\\\" \\\\u6216\\\\u8005 \\\",(0,n.jsx)(e.code,{children:\\\"Http\\\"})]})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:\\\"Frp Redirect Port\\\"}),(0,n.jsx)(e.td,{children:(0,n.jsx)(e.code,{children:\\\"80\\\"})})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:\\\"Initial Value\\\"}),(0,n.jsx)(e.td,{children:(0,n.jsx)(e.code,{children:\\\"1\\\"})})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:\\\"Decay Limit\\\"}),(0,n.jsx)(e.td,{children:(0,n.jsx)(e.code,{children:\\\"1\\\"})})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:\\\"Minimum Value\\\"}),(0,n.jsx)(e.td,{children:(0,n.jsx)(e.code,{children:\\\"1\\\"})})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:\\\"Score Type\\\"}),(0,n.jsx)(e.td,{children:(0,n.jsx)(e.code,{children:\\\"dynamic score\\\"})})]})]})]}),`\\n`,(0,n.jsxs)(e.p,{children:[\\\"\\\\u65B0\\\\u5EFA\\\\u9898\\\\u76EE\\\\u8FC7\\\\u540E\\\\u70B9\\\\u51FB\\\\u542F\\\\u52A8\\\\uFF0C\\\\u7136\\\\u540E\\\\u7B49\\\\u5F85\\\\u9776\\\\u673A\\\\u521B\\\\u5EFA\\\\uFF0C\\\\u53EF\\\\u4EE5\\\\u5728\\\\u670D\\\\u52A1\\\\u5668\\\\u4E2D \\\",(0,n.jsx)(e.code,{children:\\\"docker ps -a\\\"}),\\\" \\\\u67E5\\\\u770B\\\\u662F\\\\u5426\\\\u542F\\\\u52A8\\\\uFF0C\\\\u82E5\\\\u542F\\\\u52A8\\\\u6210\\\\u529F\\\\u5219\\\\u642D\\\\u5EFA\\\\u5B8C\\\\u6210\\\"]}),`\\n`,(0,n.jsx)(e.h2,{children:\\\"\\\\u603B\\\\u7ED3\\\"}),`\\n`,(0,n.jsx)(e.p,{children:\\\"\\\\u6211\\\\u7684\\\\u4ED3\\\\u5E93\\\\u4E2D\\\\u6240\\\\u4F7F\\\\u7528\\\\u7684\\\\u7AEF\\\\u53E3\\\\u4E00\\\\u5171\\\\u6709\\\\u4E09\\\\u7C7B\\\\uFF0C\\\\u9700\\\\u8981\\\\u4FEE\\\\u6539\\\\u5E73\\\\u53F0\\\\u4FE1\\\\u606F\\\\u8BF7\\\\u6309\\\\u7167\\\\u4EE5\\\\u4E0B\\\\u6587\\\\u4EF6\\\\u4F4D\\\\u7F6E\\\\u4FEE\\\\u6539\\\"}),`\\n`,(0,n.jsxs)(e.ul,{children:[`\\n`,(0,n.jsxs)(e.li,{children:[`9123:\\n\\\\u9ED8\\\\u8BA4 http \\\\u6A21\\\\u5F0F\\\\u9776\\\\u673A\\\\u8BBF\\\\u95EE\\\\u7AEF\\\\u53E3\\\\uFF0C\\\\u9700\\\\u8981\\\\u4FEE\\\\u6539 `,(0,n.jsx)(e.code,{children:\\\"frps.ini\\\"}),\\\"\\\\u3001\\\\u540E\\\\u53F0\\\\u4E2D\\\\u7684 \\\",(0,n.jsx)(e.code,{children:\\\"Http Port\\\"}),\\\"\\\\u3001\\\",(0,n.jsx)(e.code,{children:\\\"docker-compose.yml\\\"})]}),`\\n`,(0,n.jsxs)(e.li,{children:[`9124:\\n\\\\u9ED8\\\\u8BA4\\\\u4E3A ctfd \\\\u7AEF\\\\u53E3\\\\uFF0C\\\\u9700\\\\u8981\\\\u4FEE\\\\u6539 `,(0,n.jsx)(e.code,{children:\\\"docker-compose.yml\\\"})]}),`\\n`,(0,n.jsxs)(e.li,{children:[`9125-9129:\\n\\\\u52A8\\\\u6001\\\\u9776\\\\u673A Direct \\\\u6A21\\\\u5F0F\\\\u7AEF\\\\u53E3\\\\uFF0C\\\\u9700\\\\u8981\\\\u4FEE\\\\u6539 `,(0,n.jsx)(e.code,{children:\\\"docker-compose.yml\\\"}),\\\"\\\\u3001\\\\u540E\\\\u53F0\\\\u4E2D\\\\u7684\\\\u7AEF\\\\u53E3\\\\u8303\\\\u56F4\\\"]}),`\\n`]}),`\\n`,(0,n.jsx)(e.p,{children:\\\"\\\\u5B8C\\\\u6210\\\\u4EE5\\\\u4E0A\\\\u6587\\\\u4EF6\\\\u7684\\\\u4FEE\\\\u6539\\\\u5373\\\\u53EF\\\\u5B8C\\\\u6210\\\\u5BF9\\\\u5E73\\\\u53F0\\\\u7528\\\\u5230\\\\u7AEF\\\\u53E3\\\\u7684\\\\u4FEE\\\\u6539\\\"}),`\\n`,(0,n.jsx)(e.h1,{children:\\\"\\\\u53C2\\\\u8003\\\"}),`\\n`,(0,n.jsxs)(e.ul,{children:[`\\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\\\"https://github.com/frankli0324/ctfd-whale\\\",children:\\\"ctfd_whale\\\"})}),`\\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\\\"https://www.zhaoj.in/read-6333.html\\\",children:\\\"CTFd-Whale \\\\u63A8\\\\u8350\\\\u90E8\\\\u7F72\\\\u5B9E\\\\u8DF5\\\"})}),`\\n`]})]})}function D(d={}){let{wrapper:e}=d.components||{};return e?(0,n.jsx)(e,Object.assign({},d,{children:(0,n.jsx)(a,d)})):a(d)}var E=D;return _(v);})();\\n;return Component;\"},\"_id\":\"posts/ctfd使用ctfd-whale动态靶机插件搭建靶场指南.mdx\",\"_raw\":{\"sourceFilePath\":\"posts/ctfd使用ctfd-whale动态靶机插件搭建靶场指南.mdx\",\"sourceFileName\":\"ctfd使用ctfd-whale动态靶机插件搭建靶场指南.mdx\",\"sourceFileDir\":\"posts\",\"contentType\":\"mdx\",\"flattenedPath\":\"posts/ctfd使用ctfd-whale动态靶机插件搭建靶场指南\"},\"type\":\"Post\",\"slug\":\"/posts/ctfd使用ctfd-whale动态靶机插件搭建靶场指南\",\"slugAsParams\":\"ctfd使用ctfd-whale动态靶机插件搭建靶场指南\"}}]}]\n"])</script><script>self.__next_f.push([1,"6:[[[\"$\",\"meta\",null,{\"charSet\":\"utf-8\"}],[\"$\",\"title\",null,{\"children\":\"ctfd使用ctfd-whale动态靶机插件搭建靶场指南\"}],null,null,null,null,null,null,null,null,null,[\"$\",\"meta\",null,{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],null,null,null,null,null,null,null,null,null,null,[]],[null,null,null,null],null,null,[null,null,null,null,null],null,null,null,null,[null,[[\"$\",\"link\",null,{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"any\"}]],[],null]]\n"])</script>