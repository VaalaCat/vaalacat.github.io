<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><link rel="stylesheet" href="/_next/static/css/759b682930a311b6.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/633a9ad1601bb6ee.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/f66c4d1363d1d568.css" data-precedence="next"/><link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/lxgw-wenkai-webfont/1.7.0/style.min.css"/><title>在Alfred中丝滑的搜索群晖NAS中的文件</title><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="any"/><script src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js" noModule=""></script></head><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/lxgw-wenkai-webfont/1.7.0/style.min.css"/><body class="antialiased min-h-screen bg-white dark:bg-slate-950 text-slate-900 dark:text-slate-50"><script>!function(){try{var d=document.documentElement,c=d.classList;c.remove('light','dark');var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';c.add('dark')}else{d.style.colorScheme = 'light';c.add('light')}}else if(e){c.add(e|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()</script><div class="max-w-2xl mx-auto py-10 px-4"><header><div class="flex items-center justify-between"><button class="border rounded-md w-6 h-6 flex items-center justify-center"><span class="sr-only">Toggle mode</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"></path></svg></button><a target="_blank" href="/atom.xml"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-rss ml-3 border rounded-md p-1 w-6 h-6 flex items-center justify-center"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a><nav class="ml-auto text-sm font-medium space-x-6"><a class="hover:text-sky-500" href="/">Home</a><a class="hover:text-sky-500" href="/about/">About</a><a class="hover:text-sky-500" href="/link/">Friends</a></nav></div></header><main><article class="py-6 prose dark:prose-invert"><h1 class="mb-2">在Alfred中丝滑的搜索群晖NAS中的文件</h1><hr class="my-4"/><time dateTime="2022-01-29T17:56:49.000Z" class="mb-2 block text-xs text-gray-600 dark:text-gray-300">January 29, 2022</time><h2>引言</h2>
<p>首先给出仓库地址</p>
<ul>
<li><a href="https://github.com/VaalaCat/synology-alfred">synology-alfred</a></li>
</ul>
<p>在使用了一段时间的 MacOS Spotlight 搜索过后被其丝滑的体验俘获，并且作为一个多年的群晖 Synology NAS 用户，其内置的 Universal Search 功能更是及其强大，这个功能使用 ElasticSearch 提供搜索服务，使用 Apache Tika 进行数据提取，可以对 NAS 中的所有文件内容<strong>注意是内容</strong>进行检索，功能是非常的强大。</p>
<p>所以我萌生了将 Universal Search 搬到电脑上的想法，经过调研发现非常的困难<del>其实是我太菜</del>，将这么重型的服务运行在笔记本电脑上常驻是不现实的，经过一番查找发现了很多资料，最后决定使用 Alfred 与 NAS 进行交互从而快速检索文件。</p>
<h2>主要流程</h2>
<p>由于以前没有接触过 Workflow 开发，所以这次是跟着官方的 Example 走了一遍，结果发现官方的 workflow-python 竟然不支持 Python3（官方文档说马上就要开发新版本 Workflow），并且我找到的 Synology API 只支持 Python3 ，看起来是我和 Python 五行不合 😇😇😇</p>
<p>在一番谷歌后找到了第三方开发者维护的支持 Python3 的版本，成功的跑起来了～～</p>
<h3>全局搜索API</h3>
<p>找到的 API 中并没有实现全局搜索的 API，开始以为是 FileStation 中的搜索🔍，尝试了一番发现没有作用😃。</p>
<p>作为一个开源的共产主义者，在原始仓库中实现了认证流程，那我们直接糊一个就行，首先我们进行一个包的抓，看看搜索时调用的到底是哪个API</p>
<p><img src="https://img.vaala.cloud/images/2022/01/29/sourcebb830e8d0bc52e37.jpg" alt=""/></p>
<p>发现 API 名称是 <code>SYNO.Finder.FileIndexing.Search</code>然后抄一个登陆流程</p>
<pre><code class="hljs language-python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, ip_address, port, username, password, secure=<span class="hljs-literal">False</span>, cert_verify=<span class="hljs-literal">False</span>, dsm_version=<span class="hljs-number">7</span>, debug=<span class="hljs-literal">True</span>, otp_code=<span class="hljs-literal">None</span></span>):
	self.session = auth.Authentication(ip_address, port, username, password, secure, cert_verify, dsm_version, debug, otp_code)
	self.session.login(<span class="hljs-string">&#x27;Finder&#x27;</span>)
	self.session.get_api_list(<span class="hljs-string">&#x27;Finder&#x27;</span>)
	self.request_data = self.session.request_data
	self.finder_list = self.session.app_api_list
	self._sid = self.session.sid
	self.base_url = self.session.base_url
	<span class="hljs-keyword">if</span> debug <span class="hljs-keyword">is</span> <span class="hljs-literal">True</span>:
		<span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;You are now logged in!&#x27;</span>)
</code></pre>
<p>可以在 <code>finder_list</code> 中看到所有的 API，可以发现对我们有用的就一个 <code>SYNO.Finder.FileIndexing.Search</code> ，然后把前面抓到的包进行一个抄</p>
<pre><code class="hljs language-javascript">def <span class="hljs-title function_">search</span>(self, keyword):
	api_name = <span class="hljs-string">&#x27;SYNO.Finder.FileIndexing.Search&#x27;</span>
	info=self.<span class="hljs-property">finder_list</span>[api_name]
	api_path = info[<span class="hljs-string">&#x27;path&#x27;</span>]

	req_param={
		<span class="hljs-string">&quot;query_serial&quot;</span>:<span class="hljs-number">1</span>,
		<span class="hljs-string">&quot;indice&quot;</span>:<span class="hljs-string">&#x27;[]&#x27;</span>,
		<span class="hljs-string">&quot;keyword&quot;</span>:keyword,
		<span class="hljs-string">&quot;orig_keyword&quot;</span>:keyword,
		<span class="hljs-string">&quot;criteria_list&quot;</span>:<span class="hljs-string">&#x27;[]&#x27;</span>,
		<span class="hljs-string">&quot;from&quot;</span>:<span class="hljs-number">0</span>,
		<span class="hljs-string">&quot;size&quot;</span>:<span class="hljs-number">10</span>,
		<span class="hljs-string">&quot;fields&quot;</span>:<span class="hljs-string">&#x27;[&quot;SYNOMDAcquisitionMake&quot;,&quot;SYNOMDAcquisitionModel&quot;,&quot;SYNOMDAlbum&quot;,&quot;SYNOMDAperture&quot;,&quot;SYNOMDAudioBitRate&quot;,&quot;SYNOMDAudioTrackNumber&quot;,&quot;SYNOMDAuthors&quot;,&quot;SYNOMDCodecs&quot;,&quot;SYNOMDContentCreationDate&quot;,&quot;SYNOMDContentModificationDate&quot;,&quot;SYNOMDCreator&quot;,&quot;SYNOMDDurationSecond&quot;,&quot;SYNOMDExposureTimeString&quot;,&quot;SYNOMDExtension&quot;,&quot;SYNOMDFSCreationDate&quot;,&quot;SYNOMDFSName&quot;,&quot;SYNOMDFSSize&quot;,&quot;SYNOMDISOSpeed&quot;,&quot;SYNOMDLastUsedDate&quot;,&quot;SYNOMDMediaTypes&quot;,&quot;SYNOMDMusicalGenre&quot;,&quot;SYNOMDOwnerUserID&quot;,&quot;SYNOMDOwnerUserName&quot;,&quot;SYNOMDRecordingYear&quot;,&quot;SYNOMDResolutionHeightDPI&quot;,&quot;SYNOMDResolutionWidthDPI&quot;,&quot;SYNOMDTitle&quot;,&quot;SYNOMDVideoBitRate&quot;,&quot;SYNOMDIsEncrypted&quot;]&#x27;</span>,
		<span class="hljs-string">&quot;file_type&quot;</span>:<span class="hljs-string">&quot;&quot;</span>,
		<span class="hljs-string">&quot;search_weight_list&quot;</span>:<span class="hljs-string">&#x27;[{&quot;field&quot;:&quot;SYNOMDWildcard&quot;,&quot;weight&quot;:1},{&quot;field&quot;:&quot;SYNOMDTextContent&quot;,&quot;weight&quot;:1},{&quot;field&quot;:&quot;SYNOMDSearchFileName&quot;,&quot;weight&quot;:8.5,&quot;trailing_wildcard&quot;:&quot;true&quot;}]&#x27;</span>,
		<span class="hljs-string">&quot;sorter_field&quot;</span>:<span class="hljs-string">&quot;relevance&quot;</span>,
		<span class="hljs-string">&quot;sorter_direction&quot;</span>:<span class="hljs-string">&quot;asc&quot;</span>,
		<span class="hljs-string">&quot;sorter_use_nature_sort&quot;</span>:<span class="hljs-string">&quot;false&quot;</span>,
		<span class="hljs-string">&quot;sorter_show_directory_first&quot;</span>:<span class="hljs-string">&quot;true&quot;</span>,
		<span class="hljs-string">&quot;api&quot;</span>:<span class="hljs-string">&quot;SYNO.Finder.FileIndexing.Search&quot;</span>,
		<span class="hljs-string">&quot;method&quot;</span>:<span class="hljs-string">&quot;search&quot;</span>,
		<span class="hljs-string">&quot;version&quot;</span>:<span class="hljs-number">1</span>
	}
	
	<span class="hljs-keyword">return</span> self.<span class="hljs-title function_">request_data</span>(api_name, api_path, req_param)
</code></pre>
<p>这样我们的搜索功能就是完成了，接下来就是把输出丢到 Alfred 中。</p>
<h3>Workflow下拉菜单</h3>
<p>但似乎这位开发者维护的包 <code>workflow.add_item</code> 不起作用？那就换个方法，虽然在 add 后并没有出现新的内容，但 Alfred 会接受符合规范的 xml 或 json 格式的输出作为下拉菜单的选项。</p>
<pre><code class="hljs language-python"><span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> res:
		t=<span class="hljs-string">&quot;&quot;</span>
		<span class="hljs-keyword">if</span> item[<span class="hljs-string">&#x27;SYNOMDIsDir&#x27;</span>] != <span class="hljs-string">&#x27;y&#x27;</span>:
			t=<span class="hljs-string">&quot;/&quot;</span>+item[<span class="hljs-string">&quot;SYNOMDFSName&quot;</span>]
		result = {
			<span class="hljs-string">&quot;title&quot;</span>: item[<span class="hljs-string">&quot;SYNOMDFSName&quot;</span>],
			<span class="hljs-string">&quot;subtitle&quot;</span>: item[<span class="hljs-string">&quot;SYNOMDSharePath&quot;</span>],
			<span class="hljs-string">&quot;arg&quot;</span>: item[<span class="hljs-string">&quot;SYNOMDSharePath&quot;</span>].replace(t,<span class="hljs-string">&quot;&quot;</span>),
			<span class="hljs-string">&quot;autocomplete&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,
			<span class="hljs-string">&quot;icon&quot;</span>: {
				<span class="hljs-string">&quot;path&quot;</span>: <span class="hljs-string">&quot;./icon.png&quot;</span>
			}
		}
		dat.append(result)
	response = json.dumps({
		<span class="hljs-string">&quot;items&quot;</span>: dat
	})
	sys.stdout.write(response)
</code></pre>
<p>这样就可以将标准输出作为下拉菜单了，最后看看效果</p>
<p><img src="https://img.vaala.cloud/images/2022/01/29/source6694c0fb5b17946b.jpg" alt=""/></p>
<p>可以看到3，4，5文件名并没有出现信息论，但已经匹配到文件内容了，然后最终想实现的效果是按下回车打开对应文件，不过这里不太清楚该使用 webAPI 下载文件实现还是直接在挂载到本地的网络磁盘中打开，就暂时使用回车复制 NAS 中的文件路径，顺便打开 FileStation，直接粘贴路径就能访问到文件了，为了防止误下载，如果搜索到的路径是一个文件的话，还要删除掉最后的文件名，以免 FileStation 访问出错</p>
<h2>参考</h2>
<ul>
<li><a href="https://github.com/N4S4/synology-api">synology-api</a></li>
<li><a href="https://github.com/NorthIsUp/alfred-workflow-py3">alfred-workflow-py3</a></li>
<li><a href="https://www.kaper.com/software/synology-universal-search-cli/">Synology Universal Search CLI</a></li>
<li><a href="https://stackoverflow.com/questions/62696185/python-download-file-from-synology-filestation-api">python download file from Synology FileStation API</a></li>
</ul><div class="text-sm w-full text-center text-slate-500 mt-6 mb-2">- The End -</div><hr/><div class="text-center mt-6 text-red-500 text-sm">服务器不可用，评论处于只读状态，请联系 me@vaala.cat 修复该问题</div><div></div></article></main><footer><p class="text-sm text-slate-500 dark:text-slate-400 text-center mb-0 sm:mb-10">Copyrights © <!-- -->2024<!-- --> VaalaCat. All Rights Reserved.</p><div class="gird gird-cols-1 sm:grid-cols-2"></div></footer></div><div class="gird gird-cols-1 sm:grid-cols-2"></div><script src="/_next/static/chunks/webpack-923131aa04774ae1.js" async=""></script><script src="/_next/static/chunks/e86c296b-0443e34bc5d49aaf.js" async=""></script><script src="/_next/static/chunks/704-746af183f366dc4a.js" async=""></script><script src="/_next/static/chunks/main-app-168fdd63c05dc6d3.js" async=""></script></body></html><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/css/759b682930a311b6.css\",{\"as\":\"style\"}]\n0:\"$L2\"\n"])</script><script>self.__next_f.push([1,"3:HL[\"/_next/static/css/633a9ad1601bb6ee.css\",{\"as\":\"style\"}]\n4:HL[\"/_next/static/css/f66c4d1363d1d568.css\",{\"as\":\"style\"}]\n"])</script><script>self.__next_f.push([1,"5:I{\"id\":\"235\",\"chunks\":[\"272:static/chunks/webpack-923131aa04774ae1.js\",\"397:static/chunks/e86c296b-0443e34bc5d49aaf.js\",\"704:static/chunks/704-746af183f366dc4a.js\"],\"name\":\"\",\"async\":false}\n7:I{\"id\":\"1617\",\"chunks\":[\"272:static/chunks/webpack-923131aa04774ae1.js\",\"397:static/chunks/e86c296b-0443e34bc5d49aaf.js\",\"704:static/chunks/704-746af183f366dc4a.js\"],\"name\":\"\",\"async\":false}\n8:I{\"id\":\"611\",\"chunks\":[\"741:static/chunks/741-e2f5889199daf3f3.js\",\"185:static/chunks/app/layout-eaad7b293fbc9049.js\"],\"name\""])</script><script>self.__next_f.push([1,":\"Providers\",\"async\":false}\n9:I{\"id\":\"6262\",\"chunks\":[\"741:static/chunks/741-e2f5889199daf3f3.js\",\"185:static/chunks/app/layout-eaad7b293fbc9049.js\"],\"name\":\"ModeToggle\",\"async\":false}\na:I{\"id\":\"5332\",\"chunks\":[\"460:static/chunks/02f2e0b6-c38c5ca31e20762b.js\",\"788:static/chunks/95eedddf-ab77d1a5c6810adc.js\",\"141:static/chunks/fc9b8f39-e668f0b8fe8e366f.js\",\"741:static/chunks/741-e2f5889199daf3f3.js\",\"914:static/chunks/914-94de92b54bc5edde.js\",\"886:static/chunks/886-9dd1a41269dee6b9.js\",\"839:static/chunks/839"])</script><script>self.__next_f.push([1,"-3bfa3b6a5c20ba90.js\",\"49:static/chunks/app/posts/[...slug]/page-73866763650b7cbf.js\"],\"name\":\"\",\"async\":false}\nb:I{\"id\":\"8699\",\"chunks\":[\"741:static/chunks/741-e2f5889199daf3f3.js\",\"185:static/chunks/app/layout-eaad7b293fbc9049.js\"],\"name\":\"Analytics\",\"async\":false}\nc:I{\"id\":\"2830\",\"chunks\":[\"272:static/chunks/webpack-923131aa04774ae1.js\",\"397:static/chunks/e86c296b-0443e34bc5d49aaf.js\",\"704:static/chunks/704-746af183f366dc4a.js\"],\"name\":\"\",\"async\":false}\nd:I{\"id\":\"4388\",\"chunks\":[\"272:static/chunks/webpac"])</script><script>self.__next_f.push([1,"k-923131aa04774ae1.js\",\"397:static/chunks/e86c296b-0443e34bc5d49aaf.js\",\"704:static/chunks/704-746af183f366dc4a.js\"],\"name\":\"\",\"async\":false}\n"])</script><script>self.__next_f.push([1,"2:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/759b682930a311b6.css\",\"precedence\":\"next\"}]],[\"$\",\"$L5\",null,{\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/posts/%E5%9C%A8Alfred%E4%B8%AD%E4%B8%9D%E6%BB%91%E7%9A%84%E6%90%9C%E7%B4%A2%E7%BE%A4%E6%99%96NAS%E4%B8%AD%E7%9A%84%E6%96%87%E4%BB%B6/\",\"initialTree\":[\"\",{\"children\":[\"posts\",{\"children\":[[\"slug\",\"%E5%9C%A8Alfred%E4%B8%AD%E4%B8%9D%E6%BB%91%E7%9A%84%E6%90%9C%E7%B4%A2%E7%BE%A4%E6%99%96NAS%E4%B8%AD%E7%9A%84%E6%96%87%E4%BB%B6\",\"c\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":[\\\"在Alfred中丝滑的搜索群晖NAS中的文件\\\"]}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialHead\":[\"$L6\",null],\"globalErrorComponent\":\"$7\",\"notFound\":[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[[\"$\",\"link\",null,{\"rel\":\"stylesheet\",\"href\":\"https://cdnjs.cloudflare.com/ajax/libs/lxgw-wenkai-webfont/1.7.0/style.min.css\"}],[\"$\",\"body\",null,{\"className\":\"antialiased min-h-screen bg-white dark:bg-slate-950 text-slate-900 dark:text-slate-50\",\"children\":[\"$\",\"$L8\",null,{\"children\":[[\"$\",\"div\",null,{\"className\":\"max-w-2xl mx-auto py-10 px-4\",\"children\":[[\"$\",\"header\",null,{\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center justify-between\",\"children\":[[\"$\",\"$L9\",null,{}],[\"$\",\"$La\",null,{\"href\":\"/atom.xml\",\"target\":\"_blank\",\"children\":[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-rss ml-3 border rounded-md p-1 w-6 h-6 flex items-center justify-center\",\"children\":[[\"$\",\"path\",\"pv89mb\",{\"d\":\"M4 11a9 9 0 0 1 9 9\"}],[\"$\",\"path\",\"k0647b\",{\"d\":\"M4 4a16 16 0 0 1 16 16\"}],[\"$\",\"circle\",\"bfqh0e\",{\"cx\":\"5\",\"cy\":\"19\",\"r\":\"1\"}],\"$undefined\"]}]}],[\"$\",\"nav\",null,{\"className\":\"ml-auto text-sm font-medium space-x-6\",\"children\":[[\"$\",\"$La\",null,{\"href\":\"/\",\"className\":\"hover:text-sky-500\",\"children\":\"Home\"}],[\"$\",\"$La\",null,{\"href\":\"/about\",\"className\":\"hover:text-sky-500\",\"children\":\"About\"}],[\"$\",\"$La\",null,{\"href\":\"/link\",\"className\":\"hover:text-sky-500\",\"children\":\"Friends\"}]]}]]}]}],[\"$\",\"main\",null,{\"children\":[\"$undefined\",[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]]]}],[\"$\",\"footer\",null,{\"children\":[[\"$\",\"p\",null,{\"className\":\"text-sm text-slate-500 dark:text-slate-400 text-center mb-0 sm:mb-10\",\"children\":[\"Copyrights © \",2024,\" VaalaCat. All Rights Reserved.\"]}],[\"$\",\"$Lb\",null,{}]]}]]}],[\"$\",\"$Lb\",null,{}]]}]}]]}],\"asNotFound\":false,\"children\":[[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[[\"$\",\"link\",null,{\"rel\":\"stylesheet\",\"href\":\"https://cdnjs.cloudflare.com/ajax/libs/lxgw-wenkai-webfont/1.7.0/style.min.css\"}],[\"$\",\"body\",null,{\"className\":\"antialiased min-h-screen bg-white dark:bg-slate-950 text-slate-900 dark:text-slate-50\",\"children\":[\"$\",\"$L8\",null,{\"children\":[[\"$\",\"div\",null,{\"className\":\"max-w-2xl mx-auto py-10 px-4\",\"children\":[[\"$\",\"header\",null,{\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center justify-between\",\"children\":[[\"$\",\"$L9\",null,{}],[\"$\",\"$La\",null,{\"href\":\"/atom.xml\",\"target\":\"_blank\",\"children\":[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-rss ml-3 border rounded-md p-1 w-6 h-6 flex items-center justify-center\",\"children\":[[\"$\",\"path\",\"pv89mb\",{\"d\":\"M4 11a9 9 0 0 1 9 9\"}],[\"$\",\"path\",\"k0647b\",{\"d\":\"M4 4a16 16 0 0 1 16 16\"}],[\"$\",\"circle\",\"bfqh0e\",{\"cx\":\"5\",\"cy\":\"19\",\"r\":\"1\"}],\"$undefined\"]}]}],[\"$\",\"nav\",null,{\"className\":\"ml-auto text-sm font-medium space-x-6\",\"children\":[[\"$\",\"$La\",null,{\"href\":\"/\",\"className\":\"hover:text-sky-500\",\"children\":\"Home\"}],[\"$\",\"$La\",null,{\"href\":\"/about\",\"className\":\"hover:text-sky-500\",\"children\":\"About\"}],[\"$\",\"$La\",null,{\"href\":\"/link\",\"className\":\"hover:text-sky-500\",\"children\":\"Friends\"}]]}]]}]}],[\"$\",\"main\",null,{\"children\":[\"$\",\"$Lc\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"template\":[\"$\",\"$Ld\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"asNotFound\":false,\"childProp\":{\"current\":[\"$\",\"$Lc\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"posts\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"template\":[\"$\",\"$Ld\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"asNotFound\":false,\"childProp\":{\"current\":[\"$\",\"$Lc\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"posts\",\"children\",[\"slug\",\"%E5%9C%A8Alfred%E4%B8%AD%E4%B8%9D%E6%BB%91%E7%9A%84%E6%90%9C%E7%B4%A2%E7%BE%A4%E6%99%96NAS%E4%B8%AD%E7%9A%84%E6%96%87%E4%BB%B6\",\"c\"],\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"template\":[\"$\",\"$Ld\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"asNotFound\":false,\"childProp\":{\"current\":[\"$Le\",null],\"segment\":\"__PAGE__?{\\\"slug\\\":[\\\"在Alfred中丝滑的搜索群晖NAS中的文件\\\"]}\"},\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/633a9ad1601bb6ee.css\",\"precedence\":\"next\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/f66c4d1363d1d568.css\",\"precedence\":\"next\"}]]}],\"segment\":[\"slug\",\"%E5%9C%A8Alfred%E4%B8%AD%E4%B8%9D%E6%BB%91%E7%9A%84%E6%90%9C%E7%B4%A2%E7%BE%A4%E6%99%96NAS%E4%B8%AD%E7%9A%84%E6%96%87%E4%BB%B6\",\"c\"]},\"styles\":[]}],\"segment\":\"posts\"},\"styles\":[]}]}],[\"$\",\"footer\",null,{\"children\":[[\"$\",\"p\",null,{\"className\":\"text-sm text-slate-500 dark:text-slate-400 text-center mb-0 sm:mb-10\",\"children\":[\"Copyrights © \",2024,\" VaalaCat. All Rights Reserved.\"]}],[\"$\",\"$Lb\",null,{}]]}]]}],[\"$\",\"$Lb\",null,{}]]}]}]]}],null]}]]\n"])</script><script>self.__next_f.push([1,"f:I{\"id\":\"9682\",\"chunks\":[\"460:static/chunks/02f2e0b6-c38c5ca31e20762b.js\",\"788:static/chunks/95eedddf-ab77d1a5c6810adc.js\",\"141:static/chunks/fc9b8f39-e668f0b8fe8e366f.js\",\"741:static/chunks/741-e2f5889199daf3f3.js\",\"914:static/chunks/914-94de92b54bc5edde.js\",\"886:static/chunks/886-9dd1a41269dee6b9.js\",\"839:static/chunks/839-3bfa3b6a5c20ba90.js\",\"49:static/chunks/app/posts/[...slug]/page-73866763650b7cbf.js\"],\"name\":\"PostContent\",\"async\":false}\n"])</script><script>self.__next_f.push([1,"e:[\"$\",\"article\",null,{\"className\":\"py-6 prose dark:prose-invert\",\"children\":[\"$\",\"$Lf\",null,{\"post\":{\"title\":\"在Alfred中丝滑的搜索群晖NAS中的文件\",\"date\":\"2022-01-29T17:56:49.000Z\",\"tags\":[\"devops\",\"alfred\",\"synology\",\"search\"],\"categories\":[[\"Technique\",\"Software\"]],\"body\":{\"raw\":\"\",\"code\":\"var Component=(()=\u003e{var o=Object.create;var r=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var j=(n,s)=\u003e()=\u003e(s||n((s={exports:{}}).exports,s),s.exports),S=(n,s)=\u003e{for(var l in s)r(n,l,{get:s[l],enumerable:!0})},t=(n,s,l,i)=\u003e{if(s\u0026\u0026typeof s==\\\"object\\\"||typeof s==\\\"function\\\")for(let a of m(s))!g.call(n,a)\u0026\u0026a!==l\u0026\u0026r(n,a,{get:()=\u003es[a],enumerable:!(i=p(s,a))||i.enumerable});return n};var f=(n,s,l)=\u003e(l=n!=null?o(N(n)):{},t(s||!n||!n.__esModule?r(l,\\\"default\\\",{value:n,enumerable:!0}):l,n)),u=n=\u003et(r({},\\\"__esModule\\\",{value:!0}),n);var h=j((M,c)=\u003e{c.exports=_jsx_runtime});var O={};S(O,{default:()=\u003eD,frontmatter:()=\u003e_});var e=f(h()),_={title:\\\"\\\\u5728Alfred\\\\u4E2D\\\\u4E1D\\\\u6ED1\\\\u7684\\\\u641C\\\\u7D22\\\\u7FA4\\\\u6656NAS\\\\u4E2D\\\\u7684\\\\u6587\\\\u4EF6\\\",date:new Date(1643479009e3),tags:[\\\"devops\\\",\\\"alfred\\\",\\\"synology\\\",\\\"search\\\"],categories:[[\\\"Technique\\\",\\\"Software\\\"]]};function d(n){let s=Object.assign({h2:\\\"h2\\\",p:\\\"p\\\",ul:\\\"ul\\\",li:\\\"li\\\",a:\\\"a\\\",strong:\\\"strong\\\",del:\\\"del\\\",h3:\\\"h3\\\",img:\\\"img\\\",code:\\\"code\\\",pre:\\\"pre\\\",span:\\\"span\\\"},n.components);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(s.h2,{children:\\\"\\\\u5F15\\\\u8A00\\\"}),`\\n`,(0,e.jsx)(s.p,{children:\\\"\\\\u9996\\\\u5148\\\\u7ED9\\\\u51FA\\\\u4ED3\\\\u5E93\\\\u5730\\\\u5740\\\"}),`\\n`,(0,e.jsxs)(s.ul,{children:[`\\n`,(0,e.jsx)(s.li,{children:(0,e.jsx)(s.a,{href:\\\"https://github.com/VaalaCat/synology-alfred\\\",children:\\\"synology-alfred\\\"})}),`\\n`]}),`\\n`,(0,e.jsxs)(s.p,{children:[\\\"\\\\u5728\\\\u4F7F\\\\u7528\\\\u4E86\\\\u4E00\\\\u6BB5\\\\u65F6\\\\u95F4\\\\u7684 MacOS Spotlight \\\\u641C\\\\u7D22\\\\u8FC7\\\\u540E\\\\u88AB\\\\u5176\\\\u4E1D\\\\u6ED1\\\\u7684\\\\u4F53\\\\u9A8C\\\\u4FD8\\\\u83B7\\\\uFF0C\\\\u5E76\\\\u4E14\\\\u4F5C\\\\u4E3A\\\\u4E00\\\\u4E2A\\\\u591A\\\\u5E74\\\\u7684\\\\u7FA4\\\\u6656 Synology NAS \\\\u7528\\\\u6237\\\\uFF0C\\\\u5176\\\\u5185\\\\u7F6E\\\\u7684 Universal Search \\\\u529F\\\\u80FD\\\\u66F4\\\\u662F\\\\u53CA\\\\u5176\\\\u5F3A\\\\u5927\\\\uFF0C\\\\u8FD9\\\\u4E2A\\\\u529F\\\\u80FD\\\\u4F7F\\\\u7528 ElasticSearch \\\\u63D0\\\\u4F9B\\\\u641C\\\\u7D22\\\\u670D\\\\u52A1\\\\uFF0C\\\\u4F7F\\\\u7528 Apache Tika \\\\u8FDB\\\\u884C\\\\u6570\\\\u636E\\\\u63D0\\\\u53D6\\\\uFF0C\\\\u53EF\\\\u4EE5\\\\u5BF9 NAS \\\\u4E2D\\\\u7684\\\\u6240\\\\u6709\\\\u6587\\\\u4EF6\\\\u5185\\\\u5BB9\\\",(0,e.jsx)(s.strong,{children:\\\"\\\\u6CE8\\\\u610F\\\\u662F\\\\u5185\\\\u5BB9\\\"}),\\\"\\\\u8FDB\\\\u884C\\\\u68C0\\\\u7D22\\\\uFF0C\\\\u529F\\\\u80FD\\\\u662F\\\\u975E\\\\u5E38\\\\u7684\\\\u5F3A\\\\u5927\\\\u3002\\\"]}),`\\n`,(0,e.jsxs)(s.p,{children:[\\\"\\\\u6240\\\\u4EE5\\\\u6211\\\\u840C\\\\u751F\\\\u4E86\\\\u5C06 Universal Search \\\\u642C\\\\u5230\\\\u7535\\\\u8111\\\\u4E0A\\\\u7684\\\\u60F3\\\\u6CD5\\\\uFF0C\\\\u7ECF\\\\u8FC7\\\\u8C03\\\\u7814\\\\u53D1\\\\u73B0\\\\u975E\\\\u5E38\\\\u7684\\\\u56F0\\\\u96BE\\\",(0,e.jsx)(s.del,{children:\\\"\\\\u5176\\\\u5B9E\\\\u662F\\\\u6211\\\\u592A\\\\u83DC\\\"}),\\\"\\\\uFF0C\\\\u5C06\\\\u8FD9\\\\u4E48\\\\u91CD\\\\u578B\\\\u7684\\\\u670D\\\\u52A1\\\\u8FD0\\\\u884C\\\\u5728\\\\u7B14\\\\u8BB0\\\\u672C\\\\u7535\\\\u8111\\\\u4E0A\\\\u5E38\\\\u9A7B\\\\u662F\\\\u4E0D\\\\u73B0\\\\u5B9E\\\\u7684\\\\uFF0C\\\\u7ECF\\\\u8FC7\\\\u4E00\\\\u756A\\\\u67E5\\\\u627E\\\\u53D1\\\\u73B0\\\\u4E86\\\\u5F88\\\\u591A\\\\u8D44\\\\u6599\\\\uFF0C\\\\u6700\\\\u540E\\\\u51B3\\\\u5B9A\\\\u4F7F\\\\u7528 Alfred \\\\u4E0E NAS \\\\u8FDB\\\\u884C\\\\u4EA4\\\\u4E92\\\\u4ECE\\\\u800C\\\\u5FEB\\\\u901F\\\\u68C0\\\\u7D22\\\\u6587\\\\u4EF6\\\\u3002\\\"]}),`\\n`,(0,e.jsx)(s.h2,{children:\\\"\\\\u4E3B\\\\u8981\\\\u6D41\\\\u7A0B\\\"}),`\\n`,(0,e.jsx)(s.p,{children:\\\"\\\\u7531\\\\u4E8E\\\\u4EE5\\\\u524D\\\\u6CA1\\\\u6709\\\\u63A5\\\\u89E6\\\\u8FC7 Workflow \\\\u5F00\\\\u53D1\\\\uFF0C\\\\u6240\\\\u4EE5\\\\u8FD9\\\\u6B21\\\\u662F\\\\u8DDF\\\\u7740\\\\u5B98\\\\u65B9\\\\u7684 Example \\\\u8D70\\\\u4E86\\\\u4E00\\\\u904D\\\\uFF0C\\\\u7ED3\\\\u679C\\\\u53D1\\\\u73B0\\\\u5B98\\\\u65B9\\\\u7684 workflow-python \\\\u7ADF\\\\u7136\\\\u4E0D\\\\u652F\\\\u6301 Python3\\\\uFF08\\\\u5B98\\\\u65B9\\\\u6587\\\\u6863\\\\u8BF4\\\\u9A6C\\\\u4E0A\\\\u5C31\\\\u8981\\\\u5F00\\\\u53D1\\\\u65B0\\\\u7248\\\\u672C Workflow\\\\uFF09\\\\uFF0C\\\\u5E76\\\\u4E14\\\\u6211\\\\u627E\\\\u5230\\\\u7684 Synology API \\\\u53EA\\\\u652F\\\\u6301 Python3 \\\\uFF0C\\\\u770B\\\\u8D77\\\\u6765\\\\u662F\\\\u6211\\\\u548C Python \\\\u4E94\\\\u884C\\\\u4E0D\\\\u5408 \\\\u{1F607}\\\\u{1F607}\\\\u{1F607}\\\"}),`\\n`,(0,e.jsx)(s.p,{children:\\\"\\\\u5728\\\\u4E00\\\\u756A\\\\u8C37\\\\u6B4C\\\\u540E\\\\u627E\\\\u5230\\\\u4E86\\\\u7B2C\\\\u4E09\\\\u65B9\\\\u5F00\\\\u53D1\\\\u8005\\\\u7EF4\\\\u62A4\\\\u7684\\\\u652F\\\\u6301 Python3 \\\\u7684\\\\u7248\\\\u672C\\\\uFF0C\\\\u6210\\\\u529F\\\\u7684\\\\u8DD1\\\\u8D77\\\\u6765\\\\u4E86\\\\uFF5E\\\\uFF5E\\\"}),`\\n`,(0,e.jsx)(s.h3,{children:\\\"\\\\u5168\\\\u5C40\\\\u641C\\\\u7D22API\\\"}),`\\n`,(0,e.jsx)(s.p,{children:\\\"\\\\u627E\\\\u5230\\\\u7684 API \\\\u4E2D\\\\u5E76\\\\u6CA1\\\\u6709\\\\u5B9E\\\\u73B0\\\\u5168\\\\u5C40\\\\u641C\\\\u7D22\\\\u7684 API\\\\uFF0C\\\\u5F00\\\\u59CB\\\\u4EE5\\\\u4E3A\\\\u662F FileStation \\\\u4E2D\\\\u7684\\\\u641C\\\\u7D22\\\\u{1F50D}\\\\uFF0C\\\\u5C1D\\\\u8BD5\\\\u4E86\\\\u4E00\\\\u756A\\\\u53D1\\\\u73B0\\\\u6CA1\\\\u6709\\\\u4F5C\\\\u7528\\\\u{1F603}\\\\u3002\\\"}),`\\n`,(0,e.jsx)(s.p,{children:\\\"\\\\u4F5C\\\\u4E3A\\\\u4E00\\\\u4E2A\\\\u5F00\\\\u6E90\\\\u7684\\\\u5171\\\\u4EA7\\\\u4E3B\\\\u4E49\\\\u8005\\\\uFF0C\\\\u5728\\\\u539F\\\\u59CB\\\\u4ED3\\\\u5E93\\\\u4E2D\\\\u5B9E\\\\u73B0\\\\u4E86\\\\u8BA4\\\\u8BC1\\\\u6D41\\\\u7A0B\\\\uFF0C\\\\u90A3\\\\u6211\\\\u4EEC\\\\u76F4\\\\u63A5\\\\u7CCA\\\\u4E00\\\\u4E2A\\\\u5C31\\\\u884C\\\\uFF0C\\\\u9996\\\\u5148\\\\u6211\\\\u4EEC\\\\u8FDB\\\\u884C\\\\u4E00\\\\u4E2A\\\\u5305\\\\u7684\\\\u6293\\\\uFF0C\\\\u770B\\\\u770B\\\\u641C\\\\u7D22\\\\u65F6\\\\u8C03\\\\u7528\\\\u7684\\\\u5230\\\\u5E95\\\\u662F\\\\u54EA\\\\u4E2AAPI\\\"}),`\\n`,(0,e.jsx)(s.p,{children:(0,e.jsx)(s.img,{src:\\\"https://img.vaala.cloud/images/2022/01/29/sourcebb830e8d0bc52e37.jpg\\\",alt:\\\"\\\"})}),`\\n`,(0,e.jsxs)(s.p,{children:[\\\"\\\\u53D1\\\\u73B0 API \\\\u540D\\\\u79F0\\\\u662F \\\",(0,e.jsx)(s.code,{children:\\\"SYNO.Finder.FileIndexing.Search\\\"}),\\\"\\\\u7136\\\\u540E\\\\u6284\\\\u4E00\\\\u4E2A\\\\u767B\\\\u9646\\\\u6D41\\\\u7A0B\\\"]}),`\\n`,(0,e.jsx)(s.pre,{children:(0,e.jsxs)(s.code,{className:\\\"hljs language-python\\\",children:[(0,e.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"def\\\"}),\\\" \\\",(0,e.jsx)(s.span,{className:\\\"hljs-title function_\\\",children:\\\"__init__\\\"}),\\\"(\\\",(0,e.jsxs)(s.span,{className:\\\"hljs-params\\\",children:[\\\"self, ip_address, port, username, password, secure=\\\",(0,e.jsx)(s.span,{className:\\\"hljs-literal\\\",children:\\\"False\\\"}),\\\", cert_verify=\\\",(0,e.jsx)(s.span,{className:\\\"hljs-literal\\\",children:\\\"False\\\"}),\\\", dsm_version=\\\",(0,e.jsx)(s.span,{className:\\\"hljs-number\\\",children:\\\"7\\\"}),\\\", debug=\\\",(0,e.jsx)(s.span,{className:\\\"hljs-literal\\\",children:\\\"True\\\"}),\\\", otp_code=\\\",(0,e.jsx)(s.span,{className:\\\"hljs-literal\\\",children:\\\"None\\\"})]}),`):\\n\\tself.session = auth.Authentication(ip_address, port, username, password, secure, cert_verify, dsm_version, debug, otp_code)\\n\\tself.session.login(`,(0,e.jsx)(s.span,{className:\\\"hljs-string\\\",children:\\\"'Finder'\\\"}),`)\\n\\tself.session.get_api_list(`,(0,e.jsx)(s.span,{className:\\\"hljs-string\\\",children:\\\"'Finder'\\\"}),`)\\n\\tself.request_data = self.session.request_data\\n\\tself.finder_list = self.session.app_api_list\\n\\tself._sid = self.session.sid\\n\\tself.base_url = self.session.base_url\\n\\t`,(0,e.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"if\\\"}),\\\" debug \\\",(0,e.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"is\\\"}),\\\" \\\",(0,e.jsx)(s.span,{className:\\\"hljs-literal\\\",children:\\\"True\\\"}),`:\\n\\t\\t`,(0,e.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"print\\\"}),\\\"(\\\",(0,e.jsx)(s.span,{className:\\\"hljs-string\\\",children:\\\"'You are now logged in!'\\\"}),`)\\n`]})}),`\\n`,(0,e.jsxs)(s.p,{children:[\\\"\\\\u53EF\\\\u4EE5\\\\u5728 \\\",(0,e.jsx)(s.code,{children:\\\"finder_list\\\"}),\\\" \\\\u4E2D\\\\u770B\\\\u5230\\\\u6240\\\\u6709\\\\u7684 API\\\\uFF0C\\\\u53EF\\\\u4EE5\\\\u53D1\\\\u73B0\\\\u5BF9\\\\u6211\\\\u4EEC\\\\u6709\\\\u7528\\\\u7684\\\\u5C31\\\\u4E00\\\\u4E2A \\\",(0,e.jsx)(s.code,{children:\\\"SYNO.Finder.FileIndexing.Search\\\"}),\\\" \\\\uFF0C\\\\u7136\\\\u540E\\\\u628A\\\\u524D\\\\u9762\\\\u6293\\\\u5230\\\\u7684\\\\u5305\\\\u8FDB\\\\u884C\\\\u4E00\\\\u4E2A\\\\u6284\\\"]}),`\\n`,(0,e.jsx)(s.pre,{children:(0,e.jsxs)(s.code,{className:\\\"hljs language-javascript\\\",children:[\\\"def \\\",(0,e.jsx)(s.span,{className:\\\"hljs-title function_\\\",children:\\\"search\\\"}),`(self, keyword):\\n\\tapi_name = `,(0,e.jsx)(s.span,{className:\\\"hljs-string\\\",children:\\\"'SYNO.Finder.FileIndexing.Search'\\\"}),`\\n\\tinfo=self.`,(0,e.jsx)(s.span,{className:\\\"hljs-property\\\",children:\\\"finder_list\\\"}),`[api_name]\\n\\tapi_path = info[`,(0,e.jsx)(s.span,{className:\\\"hljs-string\\\",children:\\\"'path'\\\"}),`]\\n\\n\\treq_param={\\n\\t\\t`,(0,e.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"query_serial\\\"'}),\\\":\\\",(0,e.jsx)(s.span,{className:\\\"hljs-number\\\",children:\\\"1\\\"}),`,\\n\\t\\t`,(0,e.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"indice\\\"'}),\\\":\\\",(0,e.jsx)(s.span,{className:\\\"hljs-string\\\",children:\\\"'[]'\\\"}),`,\\n\\t\\t`,(0,e.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"keyword\\\"'}),`:keyword,\\n\\t\\t`,(0,e.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"orig_keyword\\\"'}),`:keyword,\\n\\t\\t`,(0,e.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"criteria_list\\\"'}),\\\":\\\",(0,e.jsx)(s.span,{className:\\\"hljs-string\\\",children:\\\"'[]'\\\"}),`,\\n\\t\\t`,(0,e.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"from\\\"'}),\\\":\\\",(0,e.jsx)(s.span,{className:\\\"hljs-number\\\",children:\\\"0\\\"}),`,\\n\\t\\t`,(0,e.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"size\\\"'}),\\\":\\\",(0,e.jsx)(s.span,{className:\\\"hljs-number\\\",children:\\\"10\\\"}),`,\\n\\t\\t`,(0,e.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"fields\\\"'}),\\\":\\\",(0,e.jsx)(s.span,{className:\\\"hljs-string\\\",children:`'[\\\"SYNOMDAcquisitionMake\\\",\\\"SYNOMDAcquisitionModel\\\",\\\"SYNOMDAlbum\\\",\\\"SYNOMDAperture\\\",\\\"SYNOMDAudioBitRate\\\",\\\"SYNOMDAudioTrackNumber\\\",\\\"SYNOMDAuthors\\\",\\\"SYNOMDCodecs\\\",\\\"SYNOMDContentCreationDate\\\",\\\"SYNOMDContentModificationDate\\\",\\\"SYNOMDCreator\\\",\\\"SYNOMDDurationSecond\\\",\\\"SYNOMDExposureTimeString\\\",\\\"SYNOMDExtension\\\",\\\"SYNOMDFSCreationDate\\\",\\\"SYNOMDFSName\\\",\\\"SYNOMDFSSize\\\",\\\"SYNOMDISOSpeed\\\",\\\"SYNOMDLastUsedDate\\\",\\\"SYNOMDMediaTypes\\\",\\\"SYNOMDMusicalGenre\\\",\\\"SYNOMDOwnerUserID\\\",\\\"SYNOMDOwnerUserName\\\",\\\"SYNOMDRecordingYear\\\",\\\"SYNOMDResolutionHeightDPI\\\",\\\"SYNOMDResolutionWidthDPI\\\",\\\"SYNOMDTitle\\\",\\\"SYNOMDVideoBitRate\\\",\\\"SYNOMDIsEncrypted\\\"]'`}),`,\\n\\t\\t`,(0,e.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"file_type\\\"'}),\\\":\\\",(0,e.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"\\\"'}),`,\\n\\t\\t`,(0,e.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"search_weight_list\\\"'}),\\\":\\\",(0,e.jsx)(s.span,{className:\\\"hljs-string\\\",children:`'[{\\\"field\\\":\\\"SYNOMDWildcard\\\",\\\"weight\\\":1},{\\\"field\\\":\\\"SYNOMDTextContent\\\",\\\"weight\\\":1},{\\\"field\\\":\\\"SYNOMDSearchFileName\\\",\\\"weight\\\":8.5,\\\"trailing_wildcard\\\":\\\"true\\\"}]'`}),`,\\n\\t\\t`,(0,e.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"sorter_field\\\"'}),\\\":\\\",(0,e.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"relevance\\\"'}),`,\\n\\t\\t`,(0,e.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"sorter_direction\\\"'}),\\\":\\\",(0,e.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"asc\\\"'}),`,\\n\\t\\t`,(0,e.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"sorter_use_nature_sort\\\"'}),\\\":\\\",(0,e.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"false\\\"'}),`,\\n\\t\\t`,(0,e.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"sorter_show_directory_first\\\"'}),\\\":\\\",(0,e.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"true\\\"'}),`,\\n\\t\\t`,(0,e.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"api\\\"'}),\\\":\\\",(0,e.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"SYNO.Finder.FileIndexing.Search\\\"'}),`,\\n\\t\\t`,(0,e.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"method\\\"'}),\\\":\\\",(0,e.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"search\\\"'}),`,\\n\\t\\t`,(0,e.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"version\\\"'}),\\\":\\\",(0,e.jsx)(s.span,{className:\\\"hljs-number\\\",children:\\\"1\\\"}),`\\n\\t}\\n\\t\\n\\t`,(0,e.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"return\\\"}),\\\" self.\\\",(0,e.jsx)(s.span,{className:\\\"hljs-title function_\\\",children:\\\"request_data\\\"}),`(api_name, api_path, req_param)\\n`]})}),`\\n`,(0,e.jsx)(s.p,{children:\\\"\\\\u8FD9\\\\u6837\\\\u6211\\\\u4EEC\\\\u7684\\\\u641C\\\\u7D22\\\\u529F\\\\u80FD\\\\u5C31\\\\u662F\\\\u5B8C\\\\u6210\\\\u4E86\\\\uFF0C\\\\u63A5\\\\u4E0B\\\\u6765\\\\u5C31\\\\u662F\\\\u628A\\\\u8F93\\\\u51FA\\\\u4E22\\\\u5230 Alfred \\\\u4E2D\\\\u3002\\\"}),`\\n`,(0,e.jsx)(s.h3,{children:\\\"Workflow\\\\u4E0B\\\\u62C9\\\\u83DC\\\\u5355\\\"}),`\\n`,(0,e.jsxs)(s.p,{children:[\\\"\\\\u4F46\\\\u4F3C\\\\u4E4E\\\\u8FD9\\\\u4F4D\\\\u5F00\\\\u53D1\\\\u8005\\\\u7EF4\\\\u62A4\\\\u7684\\\\u5305 \\\",(0,e.jsx)(s.code,{children:\\\"workflow.add_item\\\"}),\\\" \\\\u4E0D\\\\u8D77\\\\u4F5C\\\\u7528\\\\uFF1F\\\\u90A3\\\\u5C31\\\\u6362\\\\u4E2A\\\\u65B9\\\\u6CD5\\\\uFF0C\\\\u867D\\\\u7136\\\\u5728 add \\\\u540E\\\\u5E76\\\\u6CA1\\\\u6709\\\\u51FA\\\\u73B0\\\\u65B0\\\\u7684\\\\u5185\\\\u5BB9\\\\uFF0C\\\\u4F46 Alfred \\\\u4F1A\\\\u63A5\\\\u53D7\\\\u7B26\\\\u5408\\\\u89C4\\\\u8303\\\\u7684 xml \\\\u6216 json \\\\u683C\\\\u5F0F\\\\u7684\\\\u8F93\\\\u51FA\\\\u4F5C\\\\u4E3A\\\\u4E0B\\\\u62C9\\\\u83DC\\\\u5355\\\\u7684\\\\u9009\\\\u9879\\\\u3002\\\"]}),`\\n`,(0,e.jsx)(s.pre,{children:(0,e.jsxs)(s.code,{className:\\\"hljs language-python\\\",children:[(0,e.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"for\\\"}),\\\" item \\\",(0,e.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"in\\\"}),` res:\\n\\t\\tt=`,(0,e.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"\\\"'}),`\\n\\t\\t`,(0,e.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"if\\\"}),\\\" item[\\\",(0,e.jsx)(s.span,{className:\\\"hljs-string\\\",children:\\\"'SYNOMDIsDir'\\\"}),\\\"] != \\\",(0,e.jsx)(s.span,{className:\\\"hljs-string\\\",children:\\\"'y'\\\"}),`:\\n\\t\\t\\tt=`,(0,e.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"/\\\"'}),\\\"+item[\\\",(0,e.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"SYNOMDFSName\\\"'}),`]\\n\\t\\tresult = {\\n\\t\\t\\t`,(0,e.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"title\\\"'}),\\\": item[\\\",(0,e.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"SYNOMDFSName\\\"'}),`],\\n\\t\\t\\t`,(0,e.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"subtitle\\\"'}),\\\": item[\\\",(0,e.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"SYNOMDSharePath\\\"'}),`],\\n\\t\\t\\t`,(0,e.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"arg\\\"'}),\\\": item[\\\",(0,e.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"SYNOMDSharePath\\\"'}),\\\"].replace(t,\\\",(0,e.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"\\\"'}),`),\\n\\t\\t\\t`,(0,e.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"autocomplete\\\"'}),\\\": \\\",(0,e.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"\\\"'}),`,\\n\\t\\t\\t`,(0,e.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"icon\\\"'}),`: {\\n\\t\\t\\t\\t`,(0,e.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"path\\\"'}),\\\": \\\",(0,e.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"./icon.png\\\"'}),`\\n\\t\\t\\t}\\n\\t\\t}\\n\\t\\tdat.append(result)\\n\\tresponse = json.dumps({\\n\\t\\t`,(0,e.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"items\\\"'}),`: dat\\n\\t})\\n\\tsys.stdout.write(response)\\n`]})}),`\\n`,(0,e.jsx)(s.p,{children:\\\"\\\\u8FD9\\\\u6837\\\\u5C31\\\\u53EF\\\\u4EE5\\\\u5C06\\\\u6807\\\\u51C6\\\\u8F93\\\\u51FA\\\\u4F5C\\\\u4E3A\\\\u4E0B\\\\u62C9\\\\u83DC\\\\u5355\\\\u4E86\\\\uFF0C\\\\u6700\\\\u540E\\\\u770B\\\\u770B\\\\u6548\\\\u679C\\\"}),`\\n`,(0,e.jsx)(s.p,{children:(0,e.jsx)(s.img,{src:\\\"https://img.vaala.cloud/images/2022/01/29/source6694c0fb5b17946b.jpg\\\",alt:\\\"\\\"})}),`\\n`,(0,e.jsx)(s.p,{children:\\\"\\\\u53EF\\\\u4EE5\\\\u770B\\\\u52303\\\\uFF0C4\\\\uFF0C5\\\\u6587\\\\u4EF6\\\\u540D\\\\u5E76\\\\u6CA1\\\\u6709\\\\u51FA\\\\u73B0\\\\u4FE1\\\\u606F\\\\u8BBA\\\\uFF0C\\\\u4F46\\\\u5DF2\\\\u7ECF\\\\u5339\\\\u914D\\\\u5230\\\\u6587\\\\u4EF6\\\\u5185\\\\u5BB9\\\\u4E86\\\\uFF0C\\\\u7136\\\\u540E\\\\u6700\\\\u7EC8\\\\u60F3\\\\u5B9E\\\\u73B0\\\\u7684\\\\u6548\\\\u679C\\\\u662F\\\\u6309\\\\u4E0B\\\\u56DE\\\\u8F66\\\\u6253\\\\u5F00\\\\u5BF9\\\\u5E94\\\\u6587\\\\u4EF6\\\\uFF0C\\\\u4E0D\\\\u8FC7\\\\u8FD9\\\\u91CC\\\\u4E0D\\\\u592A\\\\u6E05\\\\u695A\\\\u8BE5\\\\u4F7F\\\\u7528 webAPI \\\\u4E0B\\\\u8F7D\\\\u6587\\\\u4EF6\\\\u5B9E\\\\u73B0\\\\u8FD8\\\\u662F\\\\u76F4\\\\u63A5\\\\u5728\\\\u6302\\\\u8F7D\\\\u5230\\\\u672C\\\\u5730\\\\u7684\\\\u7F51\\\\u7EDC\\\\u78C1\\\\u76D8\\\\u4E2D\\\\u6253\\\\u5F00\\\\uFF0C\\\\u5C31\\\\u6682\\\\u65F6\\\\u4F7F\\\\u7528\\\\u56DE\\\\u8F66\\\\u590D\\\\u5236 NAS \\\\u4E2D\\\\u7684\\\\u6587\\\\u4EF6\\\\u8DEF\\\\u5F84\\\\uFF0C\\\\u987A\\\\u4FBF\\\\u6253\\\\u5F00 FileStation\\\\uFF0C\\\\u76F4\\\\u63A5\\\\u7C98\\\\u8D34\\\\u8DEF\\\\u5F84\\\\u5C31\\\\u80FD\\\\u8BBF\\\\u95EE\\\\u5230\\\\u6587\\\\u4EF6\\\\u4E86\\\\uFF0C\\\\u4E3A\\\\u4E86\\\\u9632\\\\u6B62\\\\u8BEF\\\\u4E0B\\\\u8F7D\\\\uFF0C\\\\u5982\\\\u679C\\\\u641C\\\\u7D22\\\\u5230\\\\u7684\\\\u8DEF\\\\u5F84\\\\u662F\\\\u4E00\\\\u4E2A\\\\u6587\\\\u4EF6\\\\u7684\\\\u8BDD\\\\uFF0C\\\\u8FD8\\\\u8981\\\\u5220\\\\u9664\\\\u6389\\\\u6700\\\\u540E\\\\u7684\\\\u6587\\\\u4EF6\\\\u540D\\\\uFF0C\\\\u4EE5\\\\u514D FileStation \\\\u8BBF\\\\u95EE\\\\u51FA\\\\u9519\\\"}),`\\n`,(0,e.jsx)(s.h2,{children:\\\"\\\\u53C2\\\\u8003\\\"}),`\\n`,(0,e.jsxs)(s.ul,{children:[`\\n`,(0,e.jsx)(s.li,{children:(0,e.jsx)(s.a,{href:\\\"https://github.com/N4S4/synology-api\\\",children:\\\"synology-api\\\"})}),`\\n`,(0,e.jsx)(s.li,{children:(0,e.jsx)(s.a,{href:\\\"https://github.com/NorthIsUp/alfred-workflow-py3\\\",children:\\\"alfred-workflow-py3\\\"})}),`\\n`,(0,e.jsx)(s.li,{children:(0,e.jsx)(s.a,{href:\\\"https://www.kaper.com/software/synology-universal-search-cli/\\\",children:\\\"Synology Universal Search CLI\\\"})}),`\\n`,(0,e.jsx)(s.li,{children:(0,e.jsx)(s.a,{href:\\\"https://stackoverflow.com/questions/62696185/python-download-file-from-synology-filestation-api\\\",children:\\\"python download file from Synology FileStation API\\\"})}),`\\n`]})]})}function y(n={}){let{wrapper:s}=n.components||{};return s?(0,e.jsx)(s,Object.assign({},n,{children:(0,e.jsx)(d,n)})):d(n)}var D=y;return u(O);})();\\n;return Component;\"},\"_id\":\"posts/在Alfred中丝滑的搜索群晖NAS中的文件.mdx\",\"_raw\":{\"sourceFilePath\":\"posts/在Alfred中丝滑的搜索群晖NAS中的文件.mdx\",\"sourceFileName\":\"在Alfred中丝滑的搜索群晖NAS中的文件.mdx\",\"sourceFileDir\":\"posts\",\"contentType\":\"mdx\",\"flattenedPath\":\"posts/在Alfred中丝滑的搜索群晖NAS中的文件\"},\"type\":\"Post\",\"slug\":\"/posts/在Alfred中丝滑的搜索群晖NAS中的文件\",\"slugAsParams\":\"在Alfred中丝滑的搜索群晖NAS中的文件\"}}]}]\n"])</script><script>self.__next_f.push([1,"6:[[[\"$\",\"meta\",null,{\"charSet\":\"utf-8\"}],[\"$\",\"title\",null,{\"children\":\"在Alfred中丝滑的搜索群晖NAS中的文件\"}],null,null,null,null,null,null,null,null,null,[\"$\",\"meta\",null,{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],null,null,null,null,null,null,null,null,null,null,[]],[null,null,null,null],null,null,[null,null,null,null,null],null,null,null,null,[null,[[\"$\",\"link\",null,{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"any\"}]],[],null]]\n"])</script>