<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><link rel="stylesheet" href="/_next/static/css/759b682930a311b6.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/633a9ad1601bb6ee.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/f66c4d1363d1d568.css" data-precedence="next"/><link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/lxgw-wenkai-webfont/1.7.0/style.min.css"/><title>一点荔枝派 rv nano 上手记录</title><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="any"/><script src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js" noModule=""></script></head><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/lxgw-wenkai-webfont/1.7.0/style.min.css"/><body class="antialiased min-h-screen bg-white dark:bg-slate-950 text-slate-900 dark:text-slate-50"><script>!function(){try{var d=document.documentElement,c=d.classList;c.remove('light','dark');var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';c.add('dark')}else{d.style.colorScheme = 'light';c.add('light')}}else if(e){c.add(e|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()</script><div class="max-w-2xl mx-auto py-10 px-4"><header><div class="flex items-center justify-between"><button class="border rounded-md w-6 h-6 flex items-center justify-center"><span class="sr-only">Toggle mode</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"></path></svg></button><a target="_blank" href="/atom.xml"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-rss ml-3 border rounded-md p-1 w-6 h-6 flex items-center justify-center"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a><nav class="ml-auto text-sm font-medium space-x-6"><a class="hover:text-sky-500" href="/">Home</a><a class="hover:text-sky-500" href="/about/">About</a><a class="hover:text-sky-500" href="/link/">Friends</a></nav></div></header><main><article class="py-6 prose dark:prose-invert"><h1 class="mb-2">一点荔枝派 rv nano 上手记录</h1><hr class="my-4"/><time dateTime="2024-05-31T22:50:19.000Z" class="mb-2 block text-xs text-gray-600 dark:text-gray-300">May 31, 2024</time><blockquote>
<p>荔枝派 LicheeRV nano 使用记录</p>
</blockquote>
<h2>一点背景</h2>
<p>最近一直在想做一个24小时录音设备，联网后音频识别存储文字，AI提问+总结的小玩具。所以要购置一些制作 demo 的设备。上淘宝看了前些日子很火的Milk-V duo，发现没有Wifi，很难受。万能的淘宝仿佛知道我的心声，以切到主页就注意到一块近乎完美的开发板 Lichee Pi RV nano。三核心，两颗大核分别是 1GHz RISC-V C906 和 ARM A53，但只能二选一启动，很神奇的异构设计，小核心是一颗频率略低的 C906，如果用 ARM 大核 + RISCV 小核，与RK的RV1106也非常类似，看来各家都想做这种芯片。接口也是非常丰富，I2C/SPI/USB/GPIO/UART/CSI/DSI 应有尽有，甚至板载了一颗麦克风，这简直是为我的场景量身定做。</p>
<p>这款开发板有几种规格，区别在于是否包含RJ45网口/WIFI&amp;BT。这里我购买的是WiFi，不含RJ45版。</p>
<h2>几张照片</h2>
<div class="gird gird-cols-1 sm:grid-cols-2"><img src="/images/lichee/licheerv-nano-debian-boot.jpg"/><img src="/images/lichee/licheerv-nano-debian-info.jpg"/></div>
<h2>下点镜像</h2>
<p>到手我们先用原版镜像启动。</p>
<ul>
<li>在 Github下载镜像：<a href="https://github.com/sipeed/LicheeRV-Nano-Build">https://github.com/sipeed/LicheeRV-Nano-Build</a></li>
</ul>
<p>在Mac上，我选择使用BalenaEtcher烧录镜像
Linux可选dd，Windows可选rufus和BalenaEtcher烧录即可</p>
<h2>连下Mac</h2>
<p>荔枝派RV nano 设计使用RNDIS进行通信开发，不幸的是MacOS没有官方内置驱动。需要安装某位开源大善人的驱动：</p>
<ul>
<li><a href="https://github.com/jwise/HoRNDIS/files/7323710/HoRNDIS-M1.zip">https://github.com/jwise/HoRNDIS/files/7323710/HoRNDIS-M1.zip</a></li>
</ul>
<p>AppleSilicon 需要干掉 kext 保护后才能使用。
首先关机，然后长按开机键进入恢复模式后打开终端</p>
<pre><code>csrutil disable
(请输入你的密码)
csrutil enable --without kext
(请输入你的密码)
</code></pre>
<p>完成后关闭终端，进入实用工具启用内核扩展宽松限制</p>
<p>随后重启后在系统设置中“隐私与安全”打开系统拓展，再次重启即可在系统设置的网络中看到你的荔枝派了</p>
<h2>编译点官方SDK buildroot</h2>
<p>官方提供的镜像可谓是非常干净，没有包管理器，让我很难做人，所以我们需要帮官方适配一下 Debian 和 Arch Linux</p>
<p>为了环境的一致性，最好有一个纯净的 Linux 系统。这里我在垃圾箱中翻出来一只 SteamDeck，在里面装了一只 Debian 虚拟机作为操作环境。</p>
<p>因为官方的镜像实在是过于干净，直接替换 rootfs 完全无法支持 Debian 或 Arch 启动首先需要按以下内容修改SDK对应文件，主要是一些systemd的依赖</p>
<pre><code class="hljs language-diff"><span class="hljs-comment">--- a/build/boards/sg200x/sg2002_licheervnano_sd/linux/sg2002_licheervnano_sd_defconfig</span>
<span class="hljs-comment">+++ b/build/boards/sg200x/sg2002_licheervnano_sd/linux/sg2002_licheervnano_sd_defconfig</span>
<span class="hljs-meta">@@ -578,3 +578,23 @@</span> CONFIG_SPI_SPIDEV=y
 CONFIG_EPOLL=y
 CONFIG_IO_URING=y
 CONFIG_SIGNALFD=y
<span class="hljs-addition">+</span>
<span class="hljs-addition">+# for systemd</span>
<span class="hljs-addition">+CONFIG_CGROUPS=y</span>
<span class="hljs-addition">+CONFIG_CGROUP_FREEZER=y</span>
<span class="hljs-addition">+CONFIG_CGROUP_PIDS=y</span>
<span class="hljs-addition">+CONFIG_CGROUP_DEVICE=y</span>
<span class="hljs-addition">+CONFIG_CPUSETS=y</span>
<span class="hljs-addition">+CONFIG_PROC_PID_CPUSET=y</span>
<span class="hljs-addition">+CONFIG_CGROUP_CPUACCT=y</span>
<span class="hljs-addition">+CONFIG_PAGE_COUNTER=y</span>
<span class="hljs-addition">+CONFIG_MEMCG=y</span>
<span class="hljs-addition">+CONFIG_CGROUP_SCHED=y</span>
<span class="hljs-addition">+CONFIG_NAMESPACES=y</span>
<span class="hljs-addition">+CONFIG_OVERLAY_FS=y</span>
<span class="hljs-addition">+CONFIG_AUTOFS4_FS=y</span>
<span class="hljs-addition">+CONFIG_SIGNALFD=y</span>
<span class="hljs-addition">+CONFIG_TIMERFD=y</span>
<span class="hljs-addition">+CONFIG_EPOLL=y</span>
<span class="hljs-addition">+CONFIG_IPV6=y</span>
<span class="hljs-addition">+CONFIG_FANOTIFY</span>
<span class="hljs-comment">diff --git a/build/boards/sg200x/sg2002_licheervnano_sd/memmap.py b/build/boards/sg200x/sg2002_licheervnano_sd/memmap.py</span>
<span class="hljs-comment">index 4c676f060..467e93a2e 100755</span>
<span class="hljs-comment">--- a/build/boards/sg200x/sg2002_licheervnano_sd/memmap.py</span>
<span class="hljs-comment">+++ b/build/boards/sg200x/sg2002_licheervnano_sd/memmap.py</span>
<span class="hljs-meta">@@ -41,6 +41,7 @@</span> class MemoryMap:
     # Multimedia buffer. Used by u-boot/kernel/FreeRTOS
     # <span class="hljs-comment">=================</span>
     ION_SIZE = 75 * SIZE_1M
<span class="hljs-addition">+    # ION_SIZE = 0 * SIZE_1M</span>
     H26X_BITSTREAM_SIZE = 2 * SIZE_1M
     H26X_ENC_BUFF_SIZE = 0
     ISP_MEM_BASE_SIZE = 20 * SIZE_1M
<span class="hljs-comment">diff --git a/build/tools/common/sd_tools/genimage.cfg b/build/tools/common/sd_tools/genimage.cfg</span>
<span class="hljs-comment">index b97c9e958..6e970200b 100644</span>
<span class="hljs-comment">--- a/build/tools/common/sd_tools/genimage.cfg</span>
<span class="hljs-comment">+++ b/build/tools/common/sd_tools/genimage.cfg</span>
<span class="hljs-meta">@@ -13,7 +13,7 @@</span> image rootfs.ext4 {
        ext4 {
                label = &quot;rootfs&quot;
        }
<span class="hljs-deletion">-       size = 256M</span>
<span class="hljs-addition">+       size = 1G</span>
     mountpoint = &quot;/&quot;
 }
</code></pre>
<p>官方github文档的Readme有点问题，不能按照readme中的命令直接build，需要去github action workflow 中捞所需的文件</p>
<pre><code class="hljs language-bash">git <span class="hljs-built_in">clone</span> https://github.com/sipeed/LicheeRV-Nano-Build --depth=1
<span class="hljs-built_in">cd</span> LicheeRV-Nano-Build
wget https://sophon-file.sophon.cn/sophon-prod-s3/drive/23/03/07/16/host-tools.tar.gz
tar xf host-tools.tar.gz
</code></pre>
<p>准备好之后开始编译</p>
<pre><code class="hljs language-bash"><span class="hljs-built_in">source</span> build/cvisetup.sh
defconfig sg2002_licheervnano_sd
build_all
</code></pre>
<p>编译完成后会给出目标文件的位置</p>
<pre><code>---------------&gt;8------------------
# please use win32diskimager or dd command write it into sdcard


/mnt/li/LicheeRV-Nano-Build/install/soc_sg2002_licheervnano_sd/images/2024-05-26-04-29-e4c87a.img


---------------&gt;8------------------
/mnt/li/LicheeRV-Nano-Build
</code></pre>
<p>得到img文件后即可开始移植</p>
<h2>img文件扩容</h2>
<p>首先准备一个空文件，将内容追加到img文件里，这里我准备扩容500M</p>
<pre><code class="hljs language-bash"><span class="hljs-built_in">dd</span> <span class="hljs-keyword">if</span>=/dev/zero of=new.img bs=1M count=500
<span class="hljs-built_in">cat</span> new.img &gt;&gt; origin.img
</code></pre>
<p>通过loop设备使用partd操作分区</p>
<pre><code class="hljs language-bash">sudo losetup -f <span class="hljs-comment"># 得到空闲loop设备</span>
sudo losetup -P /dev/loop0 /path/to/origin.img
sudo parted /dev/loop0
<span class="hljs-comment"># resizepart 2 100%</span>
sudo resize2fs /dev/loop0p2
sudo losetup -d /dev/loop0 
</code></pre>
<p>即可，使用fdisk可以查看</p>
<h2>移植个 Debian 到 LicheeRV nano</h2>
<p>由于目前 Debian 已经将 rv64 视作官方架构支持，我们无需自行制作 ports。在这里下载 RiscV 版本的镜像：</p>
<ul>
<li><a href="https://people.debian.org/~gio/dqib/">Debian Quick Image Baker pre-baked images</a></li>
</ul>
<p>解压后得到这样的目录，我们只需要其中的 <code>image.qcow2</code>。</p>
<pre><code>├── image.qcow2
├── initrd
├── kernel
├── readme.txt
├── ssh_user_ecdsa_key
├── ssh_user_ed25519_key
└── ssh_user_rsa_key
</code></pre>
<p>这是 QEMU 使用的镜像格式，我们需要先安装 qemu 然后挂载为网盘。</p>
<pre><code class="hljs language-bash">sudo apt update
sudo apt install qemu-utils
<span class="hljs-comment"># 开启 NBD</span>
sudo modprobe nbd max_part=8
sudo qemu-nbd -c /dev/nbd0 image.qcow2
sudo <span class="hljs-built_in">mkdir</span> /mnt/debian-rv
sudo mount /dev/nbd0p2 /mnt/debian-rv
<span class="hljs-comment"># 验证是否能读出两个分区</span>
sudo fdisk -l /dev/nbd0
</code></pre>
<p>同时把之前的 loop 设备挂载到这个<code>/mnt/lichee</code>下，开始替换文件：</p>
<pre><code class="hljs language-bash">sudo <span class="hljs-built_in">mkdir</span> /mnt/lichee
sudo losetup -f <span class="hljs-comment"># 找到lo设备名，这里我是/dev/loop0</span>
sudo losetup -P /dev/loop0 /path/to/xxxx.img
sudo <span class="hljs-built_in">cp</span> -r /mnt/lichee/mnt /tmp <span class="hljs-comment"># 保存一些重要文件，包含驱动</span>
sudo <span class="hljs-built_in">cp</span> -r /mnt/lichee/lib/firmware /tmp
sudo <span class="hljs-built_in">cp</span> -r /mnt/lichee/etc/init.d /tmp

sudo <span class="hljs-built_in">rm</span> -rf /mnt/lichee/*
sudo <span class="hljs-built_in">cp</span> -a /mnt/debian-rv/* /mnt/lichee

sudo <span class="hljs-built_in">cp</span> -r /tmp/mnt/* /mnt/lichee/mnt
sudo <span class="hljs-built_in">cp</span> -r /tmp/init.d /mnt/lichee/mnt
sudo <span class="hljs-built_in">cp</span> -r /tmp/firmware /mnt/lichee/lib
</code></pre>
<p>完成后就可以取消挂载刷进 SD 卡尝试启动设备了 （如果需要rndis，请再看看下面的RNDIS一节，再取消挂载）</p>
<pre><code class="hljs language-bash">sudo umount /mnt/lichee
sudo umount /mnt/debian-rv
sudo losetup -d /dev/loop0
sudo qemu-nbd -d /dev/nbd0
</code></pre>
<p>进入设备安装 NetworkManager，我们使用 RNDIS 把电脑当作 proxy 连接 apt 源，修改 <code>/etc/apt/apt.conf</code></p>
<pre><code class="hljs language-ini">Acquire::http::Proxy &quot;http://192.168.42.xx:xxxx/&quot;<span class="hljs-comment">;</span>
Acquire::Languages &quot;none&quot;<span class="hljs-comment">;</span>
</code></pre>
<p>其中 xx 是自己电脑给 RNDIS 接口配置的 IP，电脑上需要挂一个 http proxy server 连接到</p>
<pre><code class="hljs language-bash"><span class="hljs-comment"># apt 可能 OOM，创建 swap</span>
<span class="hljs-built_in">dd</span> <span class="hljs-keyword">if</span>=/dev/zero of=/swap bs=1M count=512
<span class="hljs-built_in">chmod</span> 0600 /swap
mkswap /swap
swapon /swap

apt update
apt install network-manager
systemctl <span class="hljs-built_in">enable</span> NetworkManager
systemctl start NetworkManager
<span class="hljs-comment"># 替换 &lt;WIFI_SSID&gt; 和 &lt;PASSWORD&gt; 为 wifi AP 名称和密码</span>
nmcli device wifi connect &lt;WIFI_SSID&gt; password &lt;PASSWORD&gt;
</code></pre>
<p>此时应该可以正常联网使用了，但是我们需要下载依赖来制作镜像，</p>
<pre><code class="hljs language-bash"><span class="hljs-built_in">export</span> PKG=network-manager
apt download <span class="hljs-variable">$PKG</span> &amp;&amp; apt depends -i <span class="hljs-variable">$PKG</span> | awk <span class="hljs-string">&#x27;/Depends:/ {print $2}&#x27;</span> | xargs apt download
</code></pre>
<p>还有一些间接依赖，随便放到一个 pkglist 文件中</p>
<pre><code class="hljs language-bash">libaudit1
libbluetooth3
libc6
libcurl3t64-gnutls
libglib2.0-0t64
libgnutls30t64
libjansson4
libmm-glib0
libndp0
libnewt0.52
libnm0
libpsl5t64
libreadline8t64
libselinux1
libsystemd0
libteamdctl0
libudev1
udev
adduser
polkitd
dbus-session-bus-common
libbrotli1
libldap-2.5-0
libnetfilter-conntrack3
libnghttp2-14
libpolkit-agent-1-0
librtmp1
libsasl2-modules
libssh2-1t64
xml-core
dbus-user-session
libduktape207
libldap-common
libnfnetlink0
libpam-systemd
libpolkit-gobject-1-0
libsasl2-2
libsasl2-modules-db
sgml-base

</code></pre>
<p>然后安装</p>
<pre><code>cat pkglist | xargs apt download
</code></pre>
<h2>移植个 ArchLinux 到 LicheeRV nano</h2>
<p>我们使用这个ArchLinux的 RV64 port</p>
<ul>
<li><a href="https://archriscv.felixc.at/">https://archriscv.felixc.at/</a></li>
</ul>
<p>首先下载文件</p>
<pre><code class="hljs language-bash">wget https://archriscv.felixc.at/images/archriscv-2024-03-30.tar.zst
</code></pre>
<p>然后将原始镜像文件通过loop设备挂载到一个目录</p>
<pre><code class="hljs language-bash">sudo losetup -f <span class="hljs-comment"># 找到lo设备名，这里我是/dev/loop0</span>
sudo losetup -P /dev/loop0 /path/to/xxxx.img
sudo <span class="hljs-built_in">mkdir</span> /mnt/lichee
sudo mount /dev/loop0p2 /mnt/lichee
</code></pre>
<p>将目录中的文件替换为我们下载的内容</p>
<pre><code class="hljs language-bash"><span class="hljs-built_in">cd</span> /mnt/lichee
sudo <span class="hljs-built_in">cp</span> -r /mnt/lichee/mnt /tmp <span class="hljs-comment"># 保存一些重要文件</span>
sudo <span class="hljs-built_in">cp</span> -r /mnt/lichee/etc/init.d /tmp

sudo <span class="hljs-built_in">rm</span> -rf *
sudo tar -xvf /path/to/archriscv-2024-03-30.tar.zst -C .
sudo <span class="hljs-built_in">cp</span> -r /tmp/mnt/* ./mnt
sudo <span class="hljs-built_in">cp</span> -r /mnt/init.d ./mnt
</code></pre>
<p>随后取消挂载 (如果需要RNDIS，请再看看下面的RNDIS一节，再取消挂载)</p>
<pre><code class="hljs language-bash">sudo umount /mnt/lichee
sudo losetup -d /dev/loop0
</code></pre>
<p>然后就可以将文件写入SD卡启动设备啦</p>
<p>不过这里 Arch 懒得搞 wifi，后续还是更想用 Debian 一点</p>
<h2>设置RNDIS</h2>
<p>需要写入以下文件到新的系统，记得<code>chmod +x filename</code></p>
<ul>
<li>/etc/run_usb.sh</li>
</ul>
<pre><code class="hljs language-bash">CLASS=acm
VID=0x3346
PID=0x1003
MSC_PID=0x1008
RNDIS_PID=0x1009
UVC_PID=0x100A
UAC_PID=0x100B
ADB_VID=0x18D1
ADB_PID=0x4EE0
ADB_PID_M1=0x4EE2
ADB_PID_M2=0x4EE4
MANUFACTURER=<span class="hljs-string">&quot;Cvitek&quot;</span>
PRODUCT=<span class="hljs-string">&quot;USB Com Port&quot;</span>
PRODUCT_RNDIS=<span class="hljs-string">&quot;RNDIS&quot;</span>
PRODUCT_UVC=<span class="hljs-string">&quot;UVC&quot;</span>
PRODUCT_UAC=<span class="hljs-string">&quot;UAC&quot;</span>
PRODUCT_ADB=<span class="hljs-string">&quot;ADB&quot;</span>
ADBD_PATH=/usr/bin/
SERIAL=<span class="hljs-string">&quot;0123456789&quot;</span>
MSC_FILE=<span class="hljs-variable">$3</span>
CVI_DIR=/tmp/usb
CVI_GADGET=<span class="hljs-variable">$CVI_DIR</span>/usb_gadget/cvitek
CVI_FUNC=<span class="hljs-variable">$CVI_GADGET</span>/functions
FUNC_NUM=0
MAX_EP_NUM=4
TMP_NUM=0
INTF_NUM=0
EP_IN=0
EP_OUT=0

<span class="hljs-keyword">case</span> <span class="hljs-string">&quot;<span class="hljs-variable">$2</span>&quot;</span> <span class="hljs-keyword">in</span>
  acm)
	CLASS=acm
	;;
  msc)
	CLASS=mass_storage
	PID=<span class="hljs-variable">$MSC_PID</span>
	;;
  cvg)
	CLASS=cvg
	;;
  rndis)
	CLASS=rndis
	PID=<span class="hljs-variable">$RNDIS_PID</span>
	PRODUCT=<span class="hljs-variable">$PRODUCT_RNDIS</span>
	;;
  uvc)
	CLASS=uvc
	PID=<span class="hljs-variable">$UVC_PID</span>
	PRODUCT=<span class="hljs-variable">$PRODUCT_UVC</span>
	;;
  uac1)
	CLASS=uac1
	PID=<span class="hljs-variable">$UAC_PID</span>
	PRODUCT=<span class="hljs-variable">$PRODUCT_UAC</span>
	;;
  adb)
	CLASS=ffs.adb
	VID=<span class="hljs-variable">$ADB_VID</span>
	PID=<span class="hljs-variable">$ADB_PID</span>
	PRODUCT=<span class="hljs-variable">$PRODUCT_ADB</span>
	;;
  *)
	<span class="hljs-keyword">if</span> [ <span class="hljs-string">&quot;<span class="hljs-variable">$1</span>&quot;</span> = <span class="hljs-string">&quot;probe&quot;</span> ] ; <span class="hljs-keyword">then</span>
	  <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Usage: <span class="hljs-variable">$0</span> probe {acm|msc|cvg|rndis|uvc|uac1|adb}&quot;</span>
	  <span class="hljs-built_in">exit</span> 1
	<span class="hljs-keyword">fi</span>
<span class="hljs-keyword">esac</span>

<span class="hljs-function"><span class="hljs-title">calc_func</span></span>() {
  FUNC_NUM=$(<span class="hljs-built_in">ls</span> <span class="hljs-variable">$CVI_GADGET</span>/functions -l | grep ^d | <span class="hljs-built_in">wc</span> -l)
  <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;<span class="hljs-variable">$FUNC_NUM</span> file(s)&quot;</span>
}

<span class="hljs-function"><span class="hljs-title">res_check</span></span>() {
  TMP_NUM=$(find <span class="hljs-variable">$CVI_GADGET</span>/functions/ -name <span class="hljs-string">&quot;acm*&quot;</span> | <span class="hljs-built_in">wc</span> -l)
  EP_OUT=$((<span class="hljs-variable">$EP_OUT</span>+<span class="hljs-variable">$TMP_NUM</span>))
  TMP_NUM=$((<span class="hljs-variable">$TMP_NUM</span> * <span class="hljs-number">2</span>))
  EP_IN=$((<span class="hljs-variable">$EP_IN</span>+<span class="hljs-variable">$TMP_NUM</span>))
  INTF_NUM=$((<span class="hljs-variable">$INTF_NUM</span>+<span class="hljs-variable">$TMP_NUM</span>))
  TMP_NUM=$(find <span class="hljs-variable">$CVI_GADGET</span>/functions/ -name <span class="hljs-string">&quot;mass_storage*&quot;</span> | <span class="hljs-built_in">wc</span> -l)
  EP_IN=$((<span class="hljs-variable">$EP_IN</span>+<span class="hljs-variable">$TMP_NUM</span>))
  EP_OUT=$((<span class="hljs-variable">$EP_OUT</span>+<span class="hljs-variable">$TMP_NUM</span>))
  INTF_NUM=$((<span class="hljs-variable">$INTF_NUM</span>+<span class="hljs-variable">$TMP_NUM</span>))
  TMP_NUM=$(find <span class="hljs-variable">$CVI_GADGET</span>/functions/ -name <span class="hljs-string">&quot;cvg*&quot;</span> | <span class="hljs-built_in">wc</span> -l)
  EP_IN=$((<span class="hljs-variable">$EP_IN</span>+<span class="hljs-variable">$TMP_NUM</span>))
  EP_OUT=$((<span class="hljs-variable">$EP_OUT</span>+<span class="hljs-variable">$TMP_NUM</span>))
  INTF_NUM=$((<span class="hljs-variable">$INTF_NUM</span>+<span class="hljs-variable">$TMP_NUM</span>))
  TMP_NUM=$(find <span class="hljs-variable">$CVI_GADGET</span>/functions/ -name <span class="hljs-string">&quot;rndis*&quot;</span> | <span class="hljs-built_in">wc</span> -l)
  EP_OUT=$((<span class="hljs-variable">$EP_OUT</span>+<span class="hljs-variable">$TMP_NUM</span>))
  TMP_NUM=$((<span class="hljs-variable">$TMP_NUM</span> * <span class="hljs-number">2</span>))
  EP_IN=$((<span class="hljs-variable">$EP_IN</span>+<span class="hljs-variable">$TMP_NUM</span>))
  INTF_NUM=$((<span class="hljs-variable">$INTF_NUM</span>+<span class="hljs-variable">$TMP_NUM</span>))
  TMP_NUM=$(find <span class="hljs-variable">$CVI_GADGET</span>/functions/ -name <span class="hljs-string">&quot;uvc*&quot;</span> | <span class="hljs-built_in">wc</span> -l)
  TMP_NUM=$((<span class="hljs-variable">$TMP_NUM</span> * <span class="hljs-number">2</span>))
  EP_IN=$((<span class="hljs-variable">$EP_IN</span>+<span class="hljs-variable">$TMP_NUM</span>))
  INTF_NUM=$((<span class="hljs-variable">$INTF_NUM</span>+<span class="hljs-variable">$TMP_NUM</span>))
  TMP_NUM=$(find <span class="hljs-variable">$CVI_GADGET</span>/functions/ -name <span class="hljs-string">&quot;uac1*&quot;</span> | <span class="hljs-built_in">wc</span> -l)
  TMP_NUM=$((<span class="hljs-variable">$TMP_NUM</span> * <span class="hljs-number">2</span>))
  EP_IN=$((<span class="hljs-variable">$EP_IN</span>+<span class="hljs-variable">$TMP_NUM</span>))
  EP_OUT=$((<span class="hljs-variable">$EP_OUT</span>+<span class="hljs-variable">$TMP_NUM</span>))
  INTF_NUM=$((<span class="hljs-variable">$INTF_NUM</span>+<span class="hljs-variable">$TMP_NUM</span>))
  TMP_NUM=$(find <span class="hljs-variable">$CVI_GADGET</span>/functions/ -name ffs.adb | <span class="hljs-built_in">wc</span> -l)
  EP_IN=$((<span class="hljs-variable">$EP_IN</span>+<span class="hljs-variable">$TMP_NUM</span>))
  EP_OUT=$((<span class="hljs-variable">$EP_OUT</span>+<span class="hljs-variable">$TMP_NUM</span>))
  INTF_NUM=$((<span class="hljs-variable">$INTF_NUM</span>+<span class="hljs-variable">$TMP_NUM</span>))

  <span class="hljs-keyword">if</span> [ <span class="hljs-string">&quot;<span class="hljs-variable">$CLASS</span>&quot;</span> = <span class="hljs-string">&quot;acm&quot;</span> ] ; <span class="hljs-keyword">then</span>
    EP_IN=$((<span class="hljs-variable">$EP_IN</span>+<span class="hljs-number">2</span>))
    EP_OUT=$((<span class="hljs-variable">$EP_OUT</span>+<span class="hljs-number">1</span>))
  <span class="hljs-keyword">fi</span>
  <span class="hljs-keyword">if</span> [ <span class="hljs-string">&quot;<span class="hljs-variable">$CLASS</span>&quot;</span> = <span class="hljs-string">&quot;mass_storage&quot;</span> ] ; <span class="hljs-keyword">then</span>
    EP_IN=$((<span class="hljs-variable">$EP_IN</span>+<span class="hljs-number">1</span>))
    EP_OUT=$((<span class="hljs-variable">$EP_OUT</span>+<span class="hljs-number">1</span>))
  <span class="hljs-keyword">fi</span>
  <span class="hljs-keyword">if</span> [ <span class="hljs-string">&quot;<span class="hljs-variable">$CLASS</span>&quot;</span> = <span class="hljs-string">&quot;cvg&quot;</span> ] ; <span class="hljs-keyword">then</span>
    EP_IN=$((<span class="hljs-variable">$EP_IN</span>+<span class="hljs-number">1</span>))
    EP_OUT=$((<span class="hljs-variable">$EP_OUT</span>+<span class="hljs-number">1</span>))
  <span class="hljs-keyword">fi</span>
  <span class="hljs-keyword">if</span> [ <span class="hljs-string">&quot;<span class="hljs-variable">$CLASS</span>&quot;</span> = <span class="hljs-string">&quot;rndis&quot;</span> ] ; <span class="hljs-keyword">then</span>
    EP_IN=$((<span class="hljs-variable">$EP_IN</span>+<span class="hljs-number">2</span>))
    EP_OUT=$((<span class="hljs-variable">$EP_OUT</span>+<span class="hljs-number">1</span>))
  <span class="hljs-keyword">fi</span>
  <span class="hljs-keyword">if</span> [ <span class="hljs-string">&quot;<span class="hljs-variable">$CLASS</span>&quot;</span> = <span class="hljs-string">&quot;uvc&quot;</span> ] ; <span class="hljs-keyword">then</span>
    EP_IN=$((<span class="hljs-variable">$EP_IN</span>+<span class="hljs-number">2</span>))
  <span class="hljs-keyword">fi</span>
  <span class="hljs-keyword">if</span> [ <span class="hljs-string">&quot;<span class="hljs-variable">$CLASS</span>&quot;</span> = <span class="hljs-string">&quot;uac1&quot;</span> ] ; <span class="hljs-keyword">then</span>
    EP_IN=$((<span class="hljs-variable">$EP_IN</span>+<span class="hljs-number">1</span>))
    EP_OUT=$((<span class="hljs-variable">$EP_OUT</span>+<span class="hljs-number">1</span>))
  <span class="hljs-keyword">fi</span>
  <span class="hljs-keyword">if</span> [ <span class="hljs-string">&quot;<span class="hljs-variable">$CLASS</span>&quot;</span> = <span class="hljs-string">&quot;ffs.adb&quot;</span> ] ; <span class="hljs-keyword">then</span>
    EP_IN=$((<span class="hljs-variable">$EP_IN</span>+<span class="hljs-number">1</span>))
    EP_OUT=$((<span class="hljs-variable">$EP_OUT</span>+<span class="hljs-number">1</span>))
  <span class="hljs-keyword">fi</span>
  <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;<span class="hljs-variable">$EP_IN</span> in ep&quot;</span>
  <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;<span class="hljs-variable">$EP_OUT</span> out ep&quot;</span>
  <span class="hljs-keyword">if</span> [ <span class="hljs-variable">$EP_IN</span> -gt <span class="hljs-variable">$MAX_EP_NUM</span> ]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;reach maximum resource&quot;</span>
    <span class="hljs-built_in">exit</span> 1
  <span class="hljs-keyword">fi</span>
  <span class="hljs-keyword">if</span> [ <span class="hljs-variable">$EP_OUT</span> -gt <span class="hljs-variable">$MAX_EP_NUM</span> ]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;reach maximum resource&quot;</span>
    <span class="hljs-built_in">exit</span> 1
  <span class="hljs-keyword">fi</span>
}

<span class="hljs-function"><span class="hljs-title">probe</span></span>() {
  <span class="hljs-keyword">if</span> [ ! -d <span class="hljs-variable">$CVI_DIR</span> ]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">mkdir</span> <span class="hljs-variable">$CVI_DIR</span>
  <span class="hljs-keyword">fi</span>
  <span class="hljs-keyword">if</span> [ ! -d <span class="hljs-variable">$CVI_DIR</span>/usb_gadget ]; <span class="hljs-keyword">then</span>
    <span class="hljs-comment"># Enale USB ConfigFS</span>
    mount none <span class="hljs-variable">$CVI_DIR</span> -t configfs
    <span class="hljs-comment"># Create gadget dev</span>
    <span class="hljs-built_in">mkdir</span> <span class="hljs-variable">$CVI_GADGET</span>
    <span class="hljs-comment"># Set the VID and PID</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-variable">$VID</span> &gt;<span class="hljs-variable">$CVI_GADGET</span>/idVendor
    <span class="hljs-built_in">echo</span> <span class="hljs-variable">$PID</span> &gt;<span class="hljs-variable">$CVI_GADGET</span>/idProduct
    <span class="hljs-comment"># Set the product information string</span>
    <span class="hljs-built_in">mkdir</span> <span class="hljs-variable">$CVI_GADGET</span>/strings/0x409
    <span class="hljs-built_in">echo</span> <span class="hljs-variable">$MANUFACTURER</span>&gt;<span class="hljs-variable">$CVI_GADGET</span>/strings/0x409/manufacturer
    <span class="hljs-built_in">echo</span> <span class="hljs-variable">$PRODUCT</span>&gt;<span class="hljs-variable">$CVI_GADGET</span>/strings/0x409/product
    <span class="hljs-built_in">echo</span> <span class="hljs-variable">$SERIAL</span>&gt;<span class="hljs-variable">$CVI_GADGET</span>/strings/0x409/serialnumber
    <span class="hljs-comment"># Set the USB configuration</span>
    <span class="hljs-built_in">mkdir</span> <span class="hljs-variable">$CVI_GADGET</span>/configs/c.1
    <span class="hljs-built_in">mkdir</span> <span class="hljs-variable">$CVI_GADGET</span>/configs/c.1/strings/0x409
    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;config1&quot;</span>&gt;<span class="hljs-variable">$CVI_GADGET</span>/configs/c.1/strings/0x409/configuration
    <span class="hljs-comment"># Set the MaxPower of USB descriptor</span>
    <span class="hljs-built_in">echo</span> 120 &gt;<span class="hljs-variable">$CVI_GADGET</span>/configs/c.1/MaxPower
  <span class="hljs-keyword">fi</span>
  <span class="hljs-comment"># get current functions number</span>
  calc_func
  <span class="hljs-comment"># assign the class code for composite device</span>
  <span class="hljs-keyword">if</span> [ ! <span class="hljs-variable">$FUNC_NUM</span> -eq 0 ]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> 0xEF &gt;<span class="hljs-variable">$CVI_GADGET</span>/bDeviceClass
    <span class="hljs-built_in">echo</span> 0x02 &gt;<span class="hljs-variable">$CVI_GADGET</span>/bDeviceSubClass
    <span class="hljs-built_in">echo</span> 0x01 &gt;<span class="hljs-variable">$CVI_GADGET</span>/bDeviceProtocol
  <span class="hljs-keyword">fi</span>
  <span class="hljs-comment"># resource check</span>
  res_check
  <span class="hljs-comment"># create the desired function</span>
  <span class="hljs-keyword">if</span> [ <span class="hljs-string">&quot;<span class="hljs-variable">$CLASS</span>&quot;</span> = <span class="hljs-string">&quot;ffs.adb&quot;</span> ] ; <span class="hljs-keyword">then</span>
    <span class="hljs-comment"># adb shall be the last function to probe. Override the pid/vid</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-variable">$VID</span> &gt;<span class="hljs-variable">$CVI_GADGET</span>/idVendor
    <span class="hljs-built_in">echo</span> <span class="hljs-variable">$PID</span> &gt;<span class="hljs-variable">$CVI_GADGET</span>/idProduct
    <span class="hljs-comment"># choose pid for different function number</span>
    <span class="hljs-keyword">if</span> [ <span class="hljs-variable">$INTF_NUM</span> -eq 1 ]; <span class="hljs-keyword">then</span>
      <span class="hljs-built_in">echo</span> <span class="hljs-variable">$ADB_PID_M1</span> &gt;<span class="hljs-variable">$CVI_GADGET</span>/idProduct
    <span class="hljs-keyword">fi</span>
    <span class="hljs-keyword">if</span> [ <span class="hljs-variable">$INTF_NUM</span> -eq 2 ]; <span class="hljs-keyword">then</span>
      <span class="hljs-built_in">echo</span> <span class="hljs-variable">$ADB_PID_M2</span> &gt;<span class="hljs-variable">$CVI_GADGET</span>/idProduct
    <span class="hljs-keyword">fi</span>
    <span class="hljs-built_in">mkdir</span> <span class="hljs-variable">$CVI_GADGET</span>/functions/<span class="hljs-variable">$CLASS</span>
  <span class="hljs-keyword">else</span>
    <span class="hljs-built_in">mkdir</span> <span class="hljs-variable">$CVI_GADGET</span>/functions/<span class="hljs-variable">$CLASS</span>.usb<span class="hljs-variable">$FUNC_NUM</span>
  <span class="hljs-keyword">fi</span>
  <span class="hljs-keyword">if</span> [ <span class="hljs-string">&quot;<span class="hljs-variable">$CLASS</span>&quot;</span> = <span class="hljs-string">&quot;mass_storage&quot;</span> ] ; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-variable">$MSC_FILE</span> &gt;<span class="hljs-variable">$CVI_GADGET</span>/functions/<span class="hljs-variable">$CLASS</span>.usb<span class="hljs-variable">$FUNC_NUM</span>/lun.0/file
  <span class="hljs-keyword">fi</span>
  <span class="hljs-keyword">if</span> [ <span class="hljs-string">&quot;<span class="hljs-variable">$CLASS</span>&quot;</span> = <span class="hljs-string">&quot;rndis&quot;</span> ] ; <span class="hljs-keyword">then</span>
    <span class="hljs-comment">#OS STRING</span>
    <span class="hljs-built_in">echo</span> 1 &gt;<span class="hljs-variable">$CVI_GADGET</span>/os_desc/use
    <span class="hljs-built_in">echo</span> 0xcd &gt;<span class="hljs-variable">$CVI_GADGET</span>/os_desc/b_vendor_code
    <span class="hljs-built_in">echo</span> MSFT100 &gt;<span class="hljs-variable">$CVI_GADGET</span>/os_desc/qw_sign
    <span class="hljs-comment">#COMPATIBLE ID</span>
    <span class="hljs-built_in">echo</span> RNDIS &gt;<span class="hljs-variable">$CVI_FUNC</span>/rndis.usb<span class="hljs-variable">$FUNC_NUM</span>/os_desc/interface.rndis/compatible_id
    <span class="hljs-comment">#MAKE c.1 THE ONE ASSOCIATED WITH OS DESCRIPTORS</span>
    <span class="hljs-built_in">ln</span> -s <span class="hljs-variable">$CVI_GADGET</span>/configs/c.1 <span class="hljs-variable">$CVI_GADGET</span>/os_desc
    <span class="hljs-comment">#MAKE &quot;Icons&quot; EXTENDED PROPERTY</span>
    <span class="hljs-built_in">mkdir</span> <span class="hljs-variable">$CVI_FUNC</span>/rndis.usb<span class="hljs-variable">$FUNC_NUM</span>/os_desc/interface.rndis/Icons
    <span class="hljs-built_in">echo</span> 2 &gt;<span class="hljs-variable">$CVI_FUNC</span>/rndis.usb<span class="hljs-variable">$FUNC_NUM</span>/os_desc/interface.rndis/Icons/type
    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;%SystemRoot%\\system32\\shell32.dll,-233&quot;</span> &gt;<span class="hljs-variable">$CVI_FUNC</span>/rndis.usb<span class="hljs-variable">$FUNC_NUM</span>/os_desc/interface.rndis/Icons/data
    <span class="hljs-comment">#MAKE &quot;Label&quot; EXTENDED PROPERTY</span>
    <span class="hljs-built_in">mkdir</span> <span class="hljs-variable">$CVI_FUNC</span>/rndis.usb<span class="hljs-variable">$FUNC_NUM</span>/os_desc/interface.rndis/Label
    <span class="hljs-built_in">echo</span> 1 &gt;<span class="hljs-variable">$CVI_FUNC</span>/rndis.usb<span class="hljs-variable">$FUNC_NUM</span>/os_desc/interface.rndis/Label/type
    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;XYZ Device&quot;</span> &gt;<span class="hljs-variable">$CVI_FUNC</span>/rndis.usb<span class="hljs-variable">$FUNC_NUM</span>/os_desc/interface.rndis/Label/data
  <span class="hljs-keyword">fi</span>

}

<span class="hljs-function"><span class="hljs-title">start</span></span>() {
  <span class="hljs-comment"># link this function to the configuration</span>
  calc_func
  <span class="hljs-keyword">if</span> [ <span class="hljs-variable">$FUNC_NUM</span> -eq 0 ]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Functions Empty!&quot;</span>
    <span class="hljs-built_in">exit</span> 1
  <span class="hljs-keyword">fi</span>
  <span class="hljs-keyword">if</span> [ -d <span class="hljs-variable">$CVI_GADGET</span>/functions/ffs.adb ]; <span class="hljs-keyword">then</span>
    FUNC_NUM=$((<span class="hljs-variable">$FUNC_NUM</span>-<span class="hljs-number">1</span>))
  <span class="hljs-keyword">fi</span>
  <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> `<span class="hljs-built_in">seq</span> 0 $((<span class="hljs-variable">$FUNC_NUM</span>-<span class="hljs-number">1</span>))`;
  <span class="hljs-keyword">do</span>
    find <span class="hljs-variable">$CVI_GADGET</span>/functions/ -name <span class="hljs-string">&quot;*.usb<span class="hljs-variable">$i</span>&quot;</span> | xargs -I % <span class="hljs-built_in">ln</span> -s % <span class="hljs-variable">$CVI_GADGET</span>/configs/c.1
  <span class="hljs-keyword">done</span>
  <span class="hljs-keyword">if</span> [ -d <span class="hljs-variable">$CVI_GADGET</span>/functions/ffs.adb ]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">ln</span> -s <span class="hljs-variable">$CVI_GADGET</span>/functions/ffs.adb <span class="hljs-variable">$CVI_GADGET</span>/configs/c.1
    <span class="hljs-built_in">mkdir</span> /dev/usb-ffs/adb -p
    mount -t functionfs adb /dev/usb-ffs/adb
    <span class="hljs-keyword">if</span> [ -f <span class="hljs-variable">$ADBD_PATH</span>/adbd ]; <span class="hljs-keyword">then</span>
	<span class="hljs-variable">$ADBD_PATH</span>/adbd &amp;
    <span class="hljs-keyword">fi</span>
  <span class="hljs-keyword">else</span>
    <span class="hljs-comment"># Start the gadget driver</span>
    UDC=`<span class="hljs-built_in">ls</span> /sys/class/udc/ | awk <span class="hljs-string">&#x27;{print $1}&#x27;</span>`
    <span class="hljs-built_in">echo</span> <span class="hljs-variable">${UDC}</span> &gt;<span class="hljs-variable">$CVI_GADGET</span>/UDC
  <span class="hljs-keyword">fi</span>
}

<span class="hljs-function"><span class="hljs-title">stop</span></span>() {
  <span class="hljs-keyword">if</span> [ -d <span class="hljs-variable">$CVI_GADGET</span>/configs/c.1/ffs.adb ]; <span class="hljs-keyword">then</span>
    pkill adbd
    <span class="hljs-built_in">rm</span> <span class="hljs-variable">$CVI_GADGET</span>/configs/c.1/ffs.adb
  <span class="hljs-keyword">else</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;&quot;</span> &gt;<span class="hljs-variable">$CVI_GADGET</span>/UDC
  <span class="hljs-keyword">fi</span>
  find <span class="hljs-variable">$CVI_GADGET</span>/configs/ -name <span class="hljs-string">&quot;*.usb*&quot;</span> | xargs <span class="hljs-built_in">rm</span> -f
  <span class="hljs-built_in">rmdir</span> <span class="hljs-variable">$CVI_GADGET</span>/configs/c.*/strings/0x409/
  tmp_dirs=$(find <span class="hljs-variable">$CVI_GADGET</span>/os_desc/c.* -<span class="hljs-built_in">type</span> d)
  <span class="hljs-keyword">if</span> [ -n tmp_dirs ]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;remove os_desc!&quot;</span>
    <span class="hljs-built_in">rm</span> -rf <span class="hljs-variable">$CVI_GADGET</span>/os_desc/c.*/
    find <span class="hljs-variable">$CVI_GADGET</span>/functions/ -name Icons | xargs <span class="hljs-built_in">rmdir</span>
    find <span class="hljs-variable">$CVI_GADGET</span>/functions/ -name Label | xargs <span class="hljs-built_in">rmdir</span>
  <span class="hljs-keyword">fi</span>
  <span class="hljs-built_in">rmdir</span> <span class="hljs-variable">$CVI_GADGET</span>/configs/c.*/
  <span class="hljs-built_in">rmdir</span> <span class="hljs-variable">$CVI_GADGET</span>/functions/*
  <span class="hljs-built_in">rmdir</span> <span class="hljs-variable">$CVI_GADGET</span>/strings/0x409/
  <span class="hljs-built_in">rmdir</span> <span class="hljs-variable">$CVI_GADGET</span>
  umount <span class="hljs-variable">$CVI_DIR</span>
  <span class="hljs-built_in">rmdir</span> <span class="hljs-variable">$CVI_DIR</span>
}

<span class="hljs-keyword">case</span> <span class="hljs-string">&quot;<span class="hljs-variable">$1</span>&quot;</span> <span class="hljs-keyword">in</span>
  start)
	start
	;;
  stop)
	stop
	;;
  probe)
	probe
	;;
  UDC)
  UDC=`<span class="hljs-built_in">ls</span> /sys/class/udc/ | awk <span class="hljs-string">&#x27;{print $1}&#x27;</span>`
  <span class="hljs-built_in">echo</span> <span class="hljs-variable">${UDC}</span> &gt;<span class="hljs-variable">$CVI_GADGET</span>/UDC
	;;
  *)
	<span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Usage: <span class="hljs-variable">$0</span> probe {acm|msc|cvg|uvc|uac1} {file (msc)}&quot;</span>
	<span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Usage: <span class="hljs-variable">$0</span> start&quot;</span>
	<span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Usage: <span class="hljs-variable">$0</span> stop&quot;</span>
	<span class="hljs-built_in">exit</span> 1
<span class="hljs-keyword">esac</span>
<span class="hljs-built_in">exit</span> $?
</code></pre>
<ul>
<li>/etc/uhubon.sh</li>
</ul>
<pre><code class="hljs language-bash">GPIO_HUBPORT_EN=449
GPIO_ROLESEL=450
GPIO_HUBRST=451
SYS_GPIO=/sys/class/gpio

<span class="hljs-function"><span class="hljs-title">hub_on</span></span>() {
  <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;turn on usb hub&quot;</span>
  <span class="hljs-keyword">if</span> [ ! -d <span class="hljs-variable">$SYS_GPIO</span>/gpio<span class="hljs-variable">$GPIO_HUBPORT_EN</span> ]; <span class="hljs-keyword">then</span>
      <span class="hljs-built_in">echo</span> <span class="hljs-variable">$GPIO_HUBPORT_EN</span> &gt;/sys/class/gpio/export
  <span class="hljs-keyword">fi</span>

  <span class="hljs-keyword">if</span> [ ! -d <span class="hljs-variable">$SYS_GPIO</span>/gpio<span class="hljs-variable">$GPIO_ROLESEL</span> ]; <span class="hljs-keyword">then</span>
      <span class="hljs-built_in">echo</span> <span class="hljs-variable">$GPIO_ROLESEL</span> &gt;/sys/class/gpio/export
  <span class="hljs-keyword">fi</span>

  <span class="hljs-keyword">if</span> [ ! -d <span class="hljs-variable">$SYS_GPIO</span>/gpio<span class="hljs-variable">$GPIO_HUBRST</span> ]; <span class="hljs-keyword">then</span>
      <span class="hljs-built_in">echo</span> <span class="hljs-variable">$GPIO_HUBRST</span> &gt;/sys/class/gpio/export
  <span class="hljs-keyword">fi</span>

  <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;out&quot;</span> &gt;/sys/class/gpio/gpio<span class="hljs-variable">$GPIO_HUBPORT_EN</span>/direction
  <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;out&quot;</span> &gt;/sys/class/gpio/gpio<span class="hljs-variable">$GPIO_ROLESEL</span>/direction
  <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;out&quot;</span> &gt;/sys/class/gpio/gpio<span class="hljs-variable">$GPIO_HUBRST</span>/direction

  <span class="hljs-built_in">echo</span> 1 &gt;/sys/class/gpio/gpio<span class="hljs-variable">$GPIO_HUBPORT_EN</span>/value
  <span class="hljs-built_in">echo</span> 0 &gt;/sys/class/gpio/gpio<span class="hljs-variable">$GPIO_ROLESEL</span>/value
  <span class="hljs-built_in">echo</span> 0 &gt;/sys/class/gpio/gpio<span class="hljs-variable">$GPIO_HUBRST</span>/value
}

<span class="hljs-function"><span class="hljs-title">hub_off</span></span>() {
  <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;turn off usb hub&quot;</span>
  <span class="hljs-keyword">if</span> [ ! -d <span class="hljs-variable">$SYS_GPIO</span>/gpio<span class="hljs-variable">$GPIO_HUBPORT_EN</span> ]; <span class="hljs-keyword">then</span>
      <span class="hljs-built_in">echo</span> <span class="hljs-variable">$GPIO_HUBPORT_EN</span> &gt;/sys/class/gpio/export
  <span class="hljs-keyword">fi</span>

  <span class="hljs-keyword">if</span> [ ! -d <span class="hljs-variable">$SYS_GPIO</span>/gpio<span class="hljs-variable">$GPIO_ROLESEL</span> ]; <span class="hljs-keyword">then</span>
      <span class="hljs-built_in">echo</span> <span class="hljs-variable">$GPIO_ROLESEL</span> &gt;/sys/class/gpio/export
  <span class="hljs-keyword">fi</span>

  <span class="hljs-keyword">if</span> [ ! -d <span class="hljs-variable">$SYS_GPIO</span>/gpio<span class="hljs-variable">$GPIO_HUBRST</span> ]; <span class="hljs-keyword">then</span>
      <span class="hljs-built_in">echo</span> <span class="hljs-variable">$GPIO_HUBRST</span> &gt;/sys/class/gpio/export
  <span class="hljs-keyword">fi</span>

  <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;out&quot;</span> &gt;/sys/class/gpio/gpio<span class="hljs-variable">$GPIO_HUBPORT_EN</span>/direction
  <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;out&quot;</span> &gt;/sys/class/gpio/gpio<span class="hljs-variable">$GPIO_ROLESEL</span>/direction
  <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;out&quot;</span> &gt;/sys/class/gpio/gpio<span class="hljs-variable">$GPIO_HUBRST</span>/direction

  <span class="hljs-built_in">echo</span> 0 &gt;/sys/class/gpio/gpio<span class="hljs-variable">$GPIO_HUBPORT_EN</span>/value
  <span class="hljs-built_in">echo</span> 1 &gt;/sys/class/gpio/gpio<span class="hljs-variable">$GPIO_ROLESEL</span>/value
  <span class="hljs-built_in">echo</span> 1 &gt;/sys/class/gpio/gpio<span class="hljs-variable">$GPIO_HUBRST</span>/value
}

<span class="hljs-function"><span class="hljs-title">inst_mod</span></span>() {
  insmod /mnt/system/ko/configfs.ko
  insmod /mnt/system/ko/libcomposite.ko
  insmod /mnt/system/ko/u_serial.ko
  insmod /mnt/system/ko/usb_f_acm.ko
  insmod /mnt/system/ko/cvi_usb_f_cvg.ko
  insmod /mnt/system/ko/usb_f_uvc.ko
  insmod /mnt/system/ko/usb_f_fs.ko
  insmod /mnt/system/ko/u_audio.ko
  insmod /mnt/system/ko/usb_f_uac1.ko
  insmod /mnt/system/ko/usb_f_serial.ko
  insmod /mnt/system/ko/usb_f_mass_storage.ko
  insmod /mnt/system/ko/u_ether.ko
  insmod /mnt/system/ko/usb_f_ecm.ko
  insmod /mnt/system/ko/usb_f_eem.ko
  insmod /mnt/system/ko/usb_f_rndis.ko
}

<span class="hljs-keyword">case</span> <span class="hljs-string">&quot;<span class="hljs-variable">$1</span>&quot;</span> <span class="hljs-keyword">in</span>
  host)
	insmod /mnt/system/ko/dwc2.ko
	hub_on
	;;
  device)
	hub_off
	inst_mod
	<span class="hljs-built_in">echo</span> device &gt; /proc/cviusb/otg_role
	;;
  *)
	<span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Usage: <span class="hljs-variable">$0</span> host&quot;</span>
	<span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Usage: <span class="hljs-variable">$0</span> device&quot;</span>
	<span class="hljs-built_in">exit</span> 1
<span class="hljs-keyword">esac</span>
<span class="hljs-built_in">exit</span> $?
</code></pre>
<ul>
<li>/etc/usb-rndis.sh</li>
</ul>
<pre><code class="hljs language-bash"><span class="hljs-meta">#!/usr/bin/sh</span>

/etc/uhubon.sh device &gt;&gt; /tmp/rndis.log 2&gt;&amp;1
/etc/run_usb.sh probe rndis &gt;&gt; /tmp/rndis.log 2&gt;&amp;1
/etc/run_usb.sh start rndis &gt;&gt; /tmp/rndis.log 2&gt;&amp;1

<span class="hljs-built_in">sleep</span> 0.5
ip <span class="hljs-built_in">link</span> <span class="hljs-built_in">set</span> dev usb0 up
ip a add 192.168.42.1/24 dev usb0
</code></pre>
<p>随后新增一个systemd service</p>
<pre><code class="hljs language-bash">nano /mnt/lichee/etc/systemd/system/rndis.service 
</code></pre>
<p>内容</p>
<pre><code>[Unit]
Description=RNDIS

[Service]
User=root
WorkingDirectory=/etc/
ExecStart=/etc/usb-rndis.sh

[Install]
WantedBy=multi-user.target
</code></pre>
<p>写入后做链接即可</p>
<pre><code class="hljs language-bash"><span class="hljs-built_in">cd</span> /mnt/lichee/etc/systemd/system/multi-user.target.wants/
<span class="hljs-built_in">ln</span> -s ../rndis.service rndis.service
</code></pre>
<p>启动后可以使用rndis配置apt代理到本机，随后使用apt下载离线包，方便以后制作新的镜像</p>
<pre><code class="hljs language-bash"><span class="hljs-built_in">export</span> PKG=network-manager
apt-get download <span class="hljs-variable">$PKG</span> &amp;&amp; apt-cache depends -i <span class="hljs-variable">$PKG</span> | awk <span class="hljs-string">&#x27;/Depends:/ {print $2}&#x27;</span> | xargs apt-get download
</code></pre>
<h2>加载ko</h2>
<p>创建文件<code>/mnt/lichee/etc/lichee.sh</code> 且<code>chmod +x</code></p>
<pre><code class="hljs language-bash"><span class="hljs-meta">#!/usr/bin/sh</span>
/mnt/init.d/S00kmod start
/mnt/init.d/S01fs start
/mnt/init.d/S25wifimod start
</code></pre>
<p>随后创建文件</p>
<pre><code>sudo vim /mnt/lichee/etc/systemd/system/lichee.service
</code></pre>
<p>内容</p>
<pre><code>[Unit]
Description=Load LicheeRVNano Init Scripts

[Service]
Type=oneshot
ExecStart=/etc/lichee.sh
RemainAfterExit=yes

[Install]
WantedBy=multi-user.target
</code></pre>
<p>写入后做链接即可</p>
<pre><code class="hljs language-bash"><span class="hljs-built_in">cd</span> /mnt/lichee/etc/systemd/system/multi-user.target.wants/
<span class="hljs-built_in">ln</span> -s ../lichee.service lichee.service
</code></pre>
<h2>音频设备</h2>
<p>荔枝派 RV nano 有板载的麦克风，在加载驱动的时候已经准备好mod，使用方式如下</p>
<pre><code class="hljs language-bash">apt install alsa-oss alsa-tools alsa-utils <span class="hljs-comment"># 安装alsa</span>
arecord -d 5 output.wav <span class="hljs-comment"># 录制5秒的音频文件</span>
</code></pre>
<h2>参考</h2>
<ul>
<li><a href="https://wiki.sipeed.com/hardware/zh/lichee/RV_Nano/1_intro.html">Sipeed 荔枝派RV nano 官方文档</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/593627641">【AXPI】如何在 M1/M2 Mac上使用 Rndis</a></li>
<li><a href="https://www.taterli.com/9532/">Milkv Duo 的 Debian 移植笔记</a></li>
<li><a href="https://community.milkv.io/t/arch-linux-on-milkv-duo-milkv-duo-arch-linux/329">【Arch Linux On Milkv-duo】Milkv-duo 运行 Arch Linux 系统</a></li>
<li><a href="https://community.milkv.io/t/debian-arch-linux-on-milkv-duo-256m-milkv-duo-256m-debian-arch-linux/1110">【Debian &amp; Arch Linux On Milkv-duo 256M】Milkv-duo 256M 运行 Debian &amp; Arch Linux 系统 视频教程</a></li>
</ul><div class="text-sm w-full text-center text-slate-500 mt-6 mb-2">- The End -</div><hr/><div class="text-center mt-6 text-red-500 text-sm">服务器不可用，评论处于只读状态，请联系 me@vaala.cat 修复该问题</div><div></div></article></main><footer><p class="text-sm text-slate-500 dark:text-slate-400 text-center mb-0 sm:mb-10">Copyrights © <!-- -->2024<!-- --> VaalaCat. All Rights Reserved.</p><div class="gird gird-cols-1 sm:grid-cols-2"></div></footer></div><div class="gird gird-cols-1 sm:grid-cols-2"></div><script src="/_next/static/chunks/webpack-923131aa04774ae1.js" async=""></script><script src="/_next/static/chunks/e86c296b-0443e34bc5d49aaf.js" async=""></script><script src="/_next/static/chunks/704-746af183f366dc4a.js" async=""></script><script src="/_next/static/chunks/main-app-168fdd63c05dc6d3.js" async=""></script></body></html><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/css/759b682930a311b6.css\",{\"as\":\"style\"}]\n0:\"$L2\"\n"])</script><script>self.__next_f.push([1,"3:HL[\"/_next/static/css/633a9ad1601bb6ee.css\",{\"as\":\"style\"}]\n4:HL[\"/_next/static/css/f66c4d1363d1d568.css\",{\"as\":\"style\"}]\n"])</script><script>self.__next_f.push([1,"5:I{\"id\":\"235\",\"chunks\":[\"272:static/chunks/webpack-923131aa04774ae1.js\",\"397:static/chunks/e86c296b-0443e34bc5d49aaf.js\",\"704:static/chunks/704-746af183f366dc4a.js\"],\"name\":\"\",\"async\":false}\n7:I{\"id\":\"1617\",\"chunks\":[\"272:static/chunks/webpack-923131aa04774ae1.js\",\"397:static/chunks/e86c296b-0443e34bc5d49aaf.js\",\"704:static/chunks/704-746af183f366dc4a.js\"],\"name\":\"\",\"async\":false}\n8:I{\"id\":\"611\",\"chunks\":[\"741:static/chunks/741-e2f5889199daf3f3.js\",\"185:static/chunks/app/layout-eaad7b293fbc9049.js\"],\"name\""])</script><script>self.__next_f.push([1,":\"Providers\",\"async\":false}\n9:I{\"id\":\"6262\",\"chunks\":[\"741:static/chunks/741-e2f5889199daf3f3.js\",\"185:static/chunks/app/layout-eaad7b293fbc9049.js\"],\"name\":\"ModeToggle\",\"async\":false}\na:I{\"id\":\"5332\",\"chunks\":[\"460:static/chunks/02f2e0b6-c38c5ca31e20762b.js\",\"788:static/chunks/95eedddf-ab77d1a5c6810adc.js\",\"141:static/chunks/fc9b8f39-e668f0b8fe8e366f.js\",\"741:static/chunks/741-e2f5889199daf3f3.js\",\"914:static/chunks/914-94de92b54bc5edde.js\",\"886:static/chunks/886-9dd1a41269dee6b9.js\",\"839:static/chunks/839"])</script><script>self.__next_f.push([1,"-3bfa3b6a5c20ba90.js\",\"49:static/chunks/app/posts/[...slug]/page-73866763650b7cbf.js\"],\"name\":\"\",\"async\":false}\nb:I{\"id\":\"8699\",\"chunks\":[\"741:static/chunks/741-e2f5889199daf3f3.js\",\"185:static/chunks/app/layout-eaad7b293fbc9049.js\"],\"name\":\"Analytics\",\"async\":false}\nc:I{\"id\":\"2830\",\"chunks\":[\"272:static/chunks/webpack-923131aa04774ae1.js\",\"397:static/chunks/e86c296b-0443e34bc5d49aaf.js\",\"704:static/chunks/704-746af183f366dc4a.js\"],\"name\":\"\",\"async\":false}\nd:I{\"id\":\"4388\",\"chunks\":[\"272:static/chunks/webpac"])</script><script>self.__next_f.push([1,"k-923131aa04774ae1.js\",\"397:static/chunks/e86c296b-0443e34bc5d49aaf.js\",\"704:static/chunks/704-746af183f366dc4a.js\"],\"name\":\"\",\"async\":false}\n"])</script><script>self.__next_f.push([1,"2:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/759b682930a311b6.css\",\"precedence\":\"next\"}]],[\"$\",\"$L5\",null,{\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/posts/lichee-rv-nano-memos/\",\"initialTree\":[\"\",{\"children\":[\"posts\",{\"children\":[[\"slug\",\"lichee-rv-nano-memos\",\"c\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":[\\\"lichee-rv-nano-memos\\\"]}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialHead\":[\"$L6\",null],\"globalErrorComponent\":\"$7\",\"notFound\":[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[[\"$\",\"link\",null,{\"rel\":\"stylesheet\",\"href\":\"https://cdnjs.cloudflare.com/ajax/libs/lxgw-wenkai-webfont/1.7.0/style.min.css\"}],[\"$\",\"body\",null,{\"className\":\"antialiased min-h-screen bg-white dark:bg-slate-950 text-slate-900 dark:text-slate-50\",\"children\":[\"$\",\"$L8\",null,{\"children\":[[\"$\",\"div\",null,{\"className\":\"max-w-2xl mx-auto py-10 px-4\",\"children\":[[\"$\",\"header\",null,{\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center justify-between\",\"children\":[[\"$\",\"$L9\",null,{}],[\"$\",\"$La\",null,{\"href\":\"/atom.xml\",\"target\":\"_blank\",\"children\":[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-rss ml-3 border rounded-md p-1 w-6 h-6 flex items-center justify-center\",\"children\":[[\"$\",\"path\",\"pv89mb\",{\"d\":\"M4 11a9 9 0 0 1 9 9\"}],[\"$\",\"path\",\"k0647b\",{\"d\":\"M4 4a16 16 0 0 1 16 16\"}],[\"$\",\"circle\",\"bfqh0e\",{\"cx\":\"5\",\"cy\":\"19\",\"r\":\"1\"}],\"$undefined\"]}]}],[\"$\",\"nav\",null,{\"className\":\"ml-auto text-sm font-medium space-x-6\",\"children\":[[\"$\",\"$La\",null,{\"href\":\"/\",\"className\":\"hover:text-sky-500\",\"children\":\"Home\"}],[\"$\",\"$La\",null,{\"href\":\"/about\",\"className\":\"hover:text-sky-500\",\"children\":\"About\"}],[\"$\",\"$La\",null,{\"href\":\"/link\",\"className\":\"hover:text-sky-500\",\"children\":\"Friends\"}]]}]]}]}],[\"$\",\"main\",null,{\"children\":[\"$undefined\",[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]]]}],[\"$\",\"footer\",null,{\"children\":[[\"$\",\"p\",null,{\"className\":\"text-sm text-slate-500 dark:text-slate-400 text-center mb-0 sm:mb-10\",\"children\":[\"Copyrights © \",2024,\" VaalaCat. All Rights Reserved.\"]}],[\"$\",\"$Lb\",null,{}]]}]]}],[\"$\",\"$Lb\",null,{}]]}]}]]}],\"asNotFound\":false,\"children\":[[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[[\"$\",\"link\",null,{\"rel\":\"stylesheet\",\"href\":\"https://cdnjs.cloudflare.com/ajax/libs/lxgw-wenkai-webfont/1.7.0/style.min.css\"}],[\"$\",\"body\",null,{\"className\":\"antialiased min-h-screen bg-white dark:bg-slate-950 text-slate-900 dark:text-slate-50\",\"children\":[\"$\",\"$L8\",null,{\"children\":[[\"$\",\"div\",null,{\"className\":\"max-w-2xl mx-auto py-10 px-4\",\"children\":[[\"$\",\"header\",null,{\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center justify-between\",\"children\":[[\"$\",\"$L9\",null,{}],[\"$\",\"$La\",null,{\"href\":\"/atom.xml\",\"target\":\"_blank\",\"children\":[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-rss ml-3 border rounded-md p-1 w-6 h-6 flex items-center justify-center\",\"children\":[[\"$\",\"path\",\"pv89mb\",{\"d\":\"M4 11a9 9 0 0 1 9 9\"}],[\"$\",\"path\",\"k0647b\",{\"d\":\"M4 4a16 16 0 0 1 16 16\"}],[\"$\",\"circle\",\"bfqh0e\",{\"cx\":\"5\",\"cy\":\"19\",\"r\":\"1\"}],\"$undefined\"]}]}],[\"$\",\"nav\",null,{\"className\":\"ml-auto text-sm font-medium space-x-6\",\"children\":[[\"$\",\"$La\",null,{\"href\":\"/\",\"className\":\"hover:text-sky-500\",\"children\":\"Home\"}],[\"$\",\"$La\",null,{\"href\":\"/about\",\"className\":\"hover:text-sky-500\",\"children\":\"About\"}],[\"$\",\"$La\",null,{\"href\":\"/link\",\"className\":\"hover:text-sky-500\",\"children\":\"Friends\"}]]}]]}]}],[\"$\",\"main\",null,{\"children\":[\"$\",\"$Lc\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"template\":[\"$\",\"$Ld\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"asNotFound\":false,\"childProp\":{\"current\":[\"$\",\"$Lc\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"posts\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"template\":[\"$\",\"$Ld\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"asNotFound\":false,\"childProp\":{\"current\":[\"$\",\"$Lc\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"posts\",\"children\",[\"slug\",\"lichee-rv-nano-memos\",\"c\"],\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"template\":[\"$\",\"$Ld\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"asNotFound\":false,\"childProp\":{\"current\":[\"$Le\",null],\"segment\":\"__PAGE__?{\\\"slug\\\":[\\\"lichee-rv-nano-memos\\\"]}\"},\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/633a9ad1601bb6ee.css\",\"precedence\":\"next\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/f66c4d1363d1d568.css\",\"precedence\":\"next\"}]]}],\"segment\":[\"slug\",\"lichee-rv-nano-memos\",\"c\"]},\"styles\":[]}],\"segment\":\"posts\"},\"styles\":[]}]}],[\"$\",\"footer\",null,{\"children\":[[\"$\",\"p\",null,{\"className\":\"text-sm text-slate-500 dark:text-slate-400 text-center mb-0 sm:mb-10\",\"children\":[\"Copyrights © \",2024,\" VaalaCat. All Rights Reserved.\"]}],[\"$\",\"$Lb\",null,{}]]}]]}],[\"$\",\"$Lb\",null,{}]]}]}]]}],null]}]]\n"])</script><script>self.__next_f.push([1,"f:I{\"id\":\"9682\",\"chunks\":[\"460:static/chunks/02f2e0b6-c38c5ca31e20762b.js\",\"788:static/chunks/95eedddf-ab77d1a5c6810adc.js\",\"141:static/chunks/fc9b8f39-e668f0b8fe8e366f.js\",\"741:static/chunks/741-e2f5889199daf3f3.js\",\"914:static/chunks/914-94de92b54bc5edde.js\",\"886:static/chunks/886-9dd1a41269dee6b9.js\",\"839:static/chunks/839-3bfa3b6a5c20ba90.js\",\"49:static/chunks/app/posts/[...slug]/page-73866763650b7cbf.js\"],\"name\":\"PostContent\",\"async\":false}\n"])</script><script>self.__next_f.push([1,"e:[\"$\",\"article\",null,{\"className\":\"py-6 prose dark:prose-invert\",\"children\":[\"$\",\"$Lf\",null,{\"post\":{\"title\":\"一点荔枝派 rv nano 上手记录\",\"date\":\"2024-05-31T22:50:19.000Z\",\"tags\":[\"riscv\",\"开发板\",\"嵌入式\",\"荔枝派\",\"licheerv\"],\"categories\":[[\"Technique\",\"Hardware\"]],\"body\":{\"raw\":\"\",\"code\":\"var Component=(()=\u003e{var p=Object.create;var i=Object.defineProperty;var t=Object.getOwnPropertyDescriptor;var N=Object.getOwnPropertyNames;var o=Object.getPrototypeOf,j=Object.prototype.hasOwnProperty;var b=(a,s)=\u003e()=\u003e(s||a((s={exports:{}}).exports,s),s.exports),_=(a,s)=\u003e{for(var l in s)i(a,l,{get:s[l],enumerable:!0})},h=(a,s,l,c)=\u003e{if(s\u0026\u0026typeof s==\\\"object\\\"||typeof s==\\\"function\\\")for(let e of N(s))!j.call(a,e)\u0026\u0026e!==l\u0026\u0026i(a,e,{get:()=\u003es[e],enumerable:!(c=t(s,e))||c.enumerable});return a};var u=(a,s,l)=\u003e(l=a!=null?p(o(a)):{},h(s||!a||!a.__esModule?i(l,\\\"default\\\",{value:a,enumerable:!0}):l,a)),v=a=\u003eh(i({},\\\"__esModule\\\",{value:!0}),a);var d=b((C,r)=\u003e{r.exports=_jsx_runtime});var f={};_(f,{default:()=\u003e$,frontmatter:()=\u003eg});var n=u(d()),g={title:\\\"\\\\u4E00\\\\u70B9\\\\u8354\\\\u679D\\\\u6D3E rv nano \\\\u4E0A\\\\u624B\\\\u8BB0\\\\u5F55\\\",date:new Date(1717195819e3),tags:[\\\"riscv\\\",\\\"\\\\u5F00\\\\u53D1\\\\u677F\\\",\\\"\\\\u5D4C\\\\u5165\\\\u5F0F\\\",\\\"\\\\u8354\\\\u679D\\\\u6D3E\\\",\\\"licheerv\\\"],categories:[[\\\"Technique\\\",\\\"Hardware\\\"]]};function m(a){let s=Object.assign({blockquote:\\\"blockquote\\\",p:\\\"p\\\",h2:\\\"h2\\\",ul:\\\"ul\\\",li:\\\"li\\\",a:\\\"a\\\",pre:\\\"pre\\\",code:\\\"code\\\",span:\\\"span\\\"},a.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(s.blockquote,{children:[`\\n`,(0,n.jsx)(s.p,{children:\\\"\\\\u8354\\\\u679D\\\\u6D3E LicheeRV nano \\\\u4F7F\\\\u7528\\\\u8BB0\\\\u5F55\\\"}),`\\n`]}),`\\n`,(0,n.jsx)(s.h2,{children:\\\"\\\\u4E00\\\\u70B9\\\\u80CC\\\\u666F\\\"}),`\\n`,(0,n.jsx)(s.p,{children:\\\"\\\\u6700\\\\u8FD1\\\\u4E00\\\\u76F4\\\\u5728\\\\u60F3\\\\u505A\\\\u4E00\\\\u4E2A24\\\\u5C0F\\\\u65F6\\\\u5F55\\\\u97F3\\\\u8BBE\\\\u5907\\\\uFF0C\\\\u8054\\\\u7F51\\\\u540E\\\\u97F3\\\\u9891\\\\u8BC6\\\\u522B\\\\u5B58\\\\u50A8\\\\u6587\\\\u5B57\\\\uFF0CAI\\\\u63D0\\\\u95EE+\\\\u603B\\\\u7ED3\\\\u7684\\\\u5C0F\\\\u73A9\\\\u5177\\\\u3002\\\\u6240\\\\u4EE5\\\\u8981\\\\u8D2D\\\\u7F6E\\\\u4E00\\\\u4E9B\\\\u5236\\\\u4F5C demo \\\\u7684\\\\u8BBE\\\\u5907\\\\u3002\\\\u4E0A\\\\u6DD8\\\\u5B9D\\\\u770B\\\\u4E86\\\\u524D\\\\u4E9B\\\\u65E5\\\\u5B50\\\\u5F88\\\\u706B\\\\u7684Milk-V duo\\\\uFF0C\\\\u53D1\\\\u73B0\\\\u6CA1\\\\u6709Wifi\\\\uFF0C\\\\u5F88\\\\u96BE\\\\u53D7\\\\u3002\\\\u4E07\\\\u80FD\\\\u7684\\\\u6DD8\\\\u5B9D\\\\u4EFF\\\\u4F5B\\\\u77E5\\\\u9053\\\\u6211\\\\u7684\\\\u5FC3\\\\u58F0\\\\uFF0C\\\\u4EE5\\\\u5207\\\\u5230\\\\u4E3B\\\\u9875\\\\u5C31\\\\u6CE8\\\\u610F\\\\u5230\\\\u4E00\\\\u5757\\\\u8FD1\\\\u4E4E\\\\u5B8C\\\\u7F8E\\\\u7684\\\\u5F00\\\\u53D1\\\\u677F Lichee Pi RV nano\\\\u3002\\\\u4E09\\\\u6838\\\\u5FC3\\\\uFF0C\\\\u4E24\\\\u9897\\\\u5927\\\\u6838\\\\u5206\\\\u522B\\\\u662F 1GHz RISC-V C906 \\\\u548C ARM A53\\\\uFF0C\\\\u4F46\\\\u53EA\\\\u80FD\\\\u4E8C\\\\u9009\\\\u4E00\\\\u542F\\\\u52A8\\\\uFF0C\\\\u5F88\\\\u795E\\\\u5947\\\\u7684\\\\u5F02\\\\u6784\\\\u8BBE\\\\u8BA1\\\\uFF0C\\\\u5C0F\\\\u6838\\\\u5FC3\\\\u662F\\\\u4E00\\\\u9897\\\\u9891\\\\u7387\\\\u7565\\\\u4F4E\\\\u7684 C906\\\\uFF0C\\\\u5982\\\\u679C\\\\u7528 ARM \\\\u5927\\\\u6838 + RISCV \\\\u5C0F\\\\u6838\\\\uFF0C\\\\u4E0ERK\\\\u7684RV1106\\\\u4E5F\\\\u975E\\\\u5E38\\\\u7C7B\\\\u4F3C\\\\uFF0C\\\\u770B\\\\u6765\\\\u5404\\\\u5BB6\\\\u90FD\\\\u60F3\\\\u505A\\\\u8FD9\\\\u79CD\\\\u82AF\\\\u7247\\\\u3002\\\\u63A5\\\\u53E3\\\\u4E5F\\\\u662F\\\\u975E\\\\u5E38\\\\u4E30\\\\u5BCC\\\\uFF0CI2C/SPI/USB/GPIO/UART/CSI/DSI \\\\u5E94\\\\u6709\\\\u5C3D\\\\u6709\\\\uFF0C\\\\u751A\\\\u81F3\\\\u677F\\\\u8F7D\\\\u4E86\\\\u4E00\\\\u9897\\\\u9EA6\\\\u514B\\\\u98CE\\\\uFF0C\\\\u8FD9\\\\u7B80\\\\u76F4\\\\u662F\\\\u4E3A\\\\u6211\\\\u7684\\\\u573A\\\\u666F\\\\u91CF\\\\u8EAB\\\\u5B9A\\\\u505A\\\\u3002\\\"}),`\\n`,(0,n.jsx)(s.p,{children:\\\"\\\\u8FD9\\\\u6B3E\\\\u5F00\\\\u53D1\\\\u677F\\\\u6709\\\\u51E0\\\\u79CD\\\\u89C4\\\\u683C\\\\uFF0C\\\\u533A\\\\u522B\\\\u5728\\\\u4E8E\\\\u662F\\\\u5426\\\\u5305\\\\u542BRJ45\\\\u7F51\\\\u53E3/WIFI\u0026BT\\\\u3002\\\\u8FD9\\\\u91CC\\\\u6211\\\\u8D2D\\\\u4E70\\\\u7684\\\\u662FWiFi\\\\uFF0C\\\\u4E0D\\\\u542BRJ45\\\\u7248\\\\u3002\\\"}),`\\n`,(0,n.jsx)(s.h2,{children:\\\"\\\\u51E0\\\\u5F20\\\\u7167\\\\u7247\\\"}),`\\n`,(0,n.jsxs)(\\\"div\\\",{className:\\\"gird gird-cols-1 sm:grid-cols-2\\\",children:[(0,n.jsx)(\\\"img\\\",{src:\\\"/images/lichee/licheerv-nano-debian-boot.jpg\\\"}),(0,n.jsx)(\\\"img\\\",{src:\\\"/images/lichee/licheerv-nano-debian-info.jpg\\\"})]}),`\\n`,(0,n.jsx)(s.h2,{children:\\\"\\\\u4E0B\\\\u70B9\\\\u955C\\\\u50CF\\\"}),`\\n`,(0,n.jsx)(s.p,{children:\\\"\\\\u5230\\\\u624B\\\\u6211\\\\u4EEC\\\\u5148\\\\u7528\\\\u539F\\\\u7248\\\\u955C\\\\u50CF\\\\u542F\\\\u52A8\\\\u3002\\\"}),`\\n`,(0,n.jsxs)(s.ul,{children:[`\\n`,(0,n.jsxs)(s.li,{children:[\\\"\\\\u5728 Github\\\\u4E0B\\\\u8F7D\\\\u955C\\\\u50CF\\\\uFF1A\\\",(0,n.jsx)(s.a,{href:\\\"https://github.com/sipeed/LicheeRV-Nano-Build\\\",children:\\\"https://github.com/sipeed/LicheeRV-Nano-Build\\\"})]}),`\\n`]}),`\\n`,(0,n.jsx)(s.p,{children:`\\\\u5728Mac\\\\u4E0A\\\\uFF0C\\\\u6211\\\\u9009\\\\u62E9\\\\u4F7F\\\\u7528BalenaEtcher\\\\u70E7\\\\u5F55\\\\u955C\\\\u50CF\\nLinux\\\\u53EF\\\\u9009dd\\\\uFF0CWindows\\\\u53EF\\\\u9009rufus\\\\u548CBalenaEtcher\\\\u70E7\\\\u5F55\\\\u5373\\\\u53EF`}),`\\n`,(0,n.jsx)(s.h2,{children:\\\"\\\\u8FDE\\\\u4E0BMac\\\"}),`\\n`,(0,n.jsx)(s.p,{children:\\\"\\\\u8354\\\\u679D\\\\u6D3ERV nano \\\\u8BBE\\\\u8BA1\\\\u4F7F\\\\u7528RNDIS\\\\u8FDB\\\\u884C\\\\u901A\\\\u4FE1\\\\u5F00\\\\u53D1\\\\uFF0C\\\\u4E0D\\\\u5E78\\\\u7684\\\\u662FMacOS\\\\u6CA1\\\\u6709\\\\u5B98\\\\u65B9\\\\u5185\\\\u7F6E\\\\u9A71\\\\u52A8\\\\u3002\\\\u9700\\\\u8981\\\\u5B89\\\\u88C5\\\\u67D0\\\\u4F4D\\\\u5F00\\\\u6E90\\\\u5927\\\\u5584\\\\u4EBA\\\\u7684\\\\u9A71\\\\u52A8\\\\uFF1A\\\"}),`\\n`,(0,n.jsxs)(s.ul,{children:[`\\n`,(0,n.jsx)(s.li,{children:(0,n.jsx)(s.a,{href:\\\"https://github.com/jwise/HoRNDIS/files/7323710/HoRNDIS-M1.zip\\\",children:\\\"https://github.com/jwise/HoRNDIS/files/7323710/HoRNDIS-M1.zip\\\"})}),`\\n`]}),`\\n`,(0,n.jsx)(s.p,{children:`AppleSilicon \\\\u9700\\\\u8981\\\\u5E72\\\\u6389 kext \\\\u4FDD\\\\u62A4\\\\u540E\\\\u624D\\\\u80FD\\\\u4F7F\\\\u7528\\\\u3002\\n\\\\u9996\\\\u5148\\\\u5173\\\\u673A\\\\uFF0C\\\\u7136\\\\u540E\\\\u957F\\\\u6309\\\\u5F00\\\\u673A\\\\u952E\\\\u8FDB\\\\u5165\\\\u6062\\\\u590D\\\\u6A21\\\\u5F0F\\\\u540E\\\\u6253\\\\u5F00\\\\u7EC8\\\\u7AEF`}),`\\n`,(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{children:`csrutil disable\\n(\\\\u8BF7\\\\u8F93\\\\u5165\\\\u4F60\\\\u7684\\\\u5BC6\\\\u7801)\\ncsrutil enable --without kext\\n(\\\\u8BF7\\\\u8F93\\\\u5165\\\\u4F60\\\\u7684\\\\u5BC6\\\\u7801)\\n`})}),`\\n`,(0,n.jsx)(s.p,{children:\\\"\\\\u5B8C\\\\u6210\\\\u540E\\\\u5173\\\\u95ED\\\\u7EC8\\\\u7AEF\\\\uFF0C\\\\u8FDB\\\\u5165\\\\u5B9E\\\\u7528\\\\u5DE5\\\\u5177\\\\u542F\\\\u7528\\\\u5185\\\\u6838\\\\u6269\\\\u5C55\\\\u5BBD\\\\u677E\\\\u9650\\\\u5236\\\"}),`\\n`,(0,n.jsx)(s.p,{children:\\\"\\\\u968F\\\\u540E\\\\u91CD\\\\u542F\\\\u540E\\\\u5728\\\\u7CFB\\\\u7EDF\\\\u8BBE\\\\u7F6E\\\\u4E2D\\\\u201C\\\\u9690\\\\u79C1\\\\u4E0E\\\\u5B89\\\\u5168\\\\u201D\\\\u6253\\\\u5F00\\\\u7CFB\\\\u7EDF\\\\u62D3\\\\u5C55\\\\uFF0C\\\\u518D\\\\u6B21\\\\u91CD\\\\u542F\\\\u5373\\\\u53EF\\\\u5728\\\\u7CFB\\\\u7EDF\\\\u8BBE\\\\u7F6E\\\\u7684\\\\u7F51\\\\u7EDC\\\\u4E2D\\\\u770B\\\\u5230\\\\u4F60\\\\u7684\\\\u8354\\\\u679D\\\\u6D3E\\\\u4E86\\\"}),`\\n`,(0,n.jsx)(s.h2,{children:\\\"\\\\u7F16\\\\u8BD1\\\\u70B9\\\\u5B98\\\\u65B9SDK buildroot\\\"}),`\\n`,(0,n.jsx)(s.p,{children:\\\"\\\\u5B98\\\\u65B9\\\\u63D0\\\\u4F9B\\\\u7684\\\\u955C\\\\u50CF\\\\u53EF\\\\u8C13\\\\u662F\\\\u975E\\\\u5E38\\\\u5E72\\\\u51C0\\\\uFF0C\\\\u6CA1\\\\u6709\\\\u5305\\\\u7BA1\\\\u7406\\\\u5668\\\\uFF0C\\\\u8BA9\\\\u6211\\\\u5F88\\\\u96BE\\\\u505A\\\\u4EBA\\\\uFF0C\\\\u6240\\\\u4EE5\\\\u6211\\\\u4EEC\\\\u9700\\\\u8981\\\\u5E2E\\\\u5B98\\\\u65B9\\\\u9002\\\\u914D\\\\u4E00\\\\u4E0B Debian \\\\u548C Arch Linux\\\"}),`\\n`,(0,n.jsx)(s.p,{children:\\\"\\\\u4E3A\\\\u4E86\\\\u73AF\\\\u5883\\\\u7684\\\\u4E00\\\\u81F4\\\\u6027\\\\uFF0C\\\\u6700\\\\u597D\\\\u6709\\\\u4E00\\\\u4E2A\\\\u7EAF\\\\u51C0\\\\u7684 Linux \\\\u7CFB\\\\u7EDF\\\\u3002\\\\u8FD9\\\\u91CC\\\\u6211\\\\u5728\\\\u5783\\\\u573E\\\\u7BB1\\\\u4E2D\\\\u7FFB\\\\u51FA\\\\u6765\\\\u4E00\\\\u53EA SteamDeck\\\\uFF0C\\\\u5728\\\\u91CC\\\\u9762\\\\u88C5\\\\u4E86\\\\u4E00\\\\u53EA Debian \\\\u865A\\\\u62DF\\\\u673A\\\\u4F5C\\\\u4E3A\\\\u64CD\\\\u4F5C\\\\u73AF\\\\u5883\\\\u3002\\\"}),`\\n`,(0,n.jsx)(s.p,{children:\\\"\\\\u56E0\\\\u4E3A\\\\u5B98\\\\u65B9\\\\u7684\\\\u955C\\\\u50CF\\\\u5B9E\\\\u5728\\\\u662F\\\\u8FC7\\\\u4E8E\\\\u5E72\\\\u51C0\\\\uFF0C\\\\u76F4\\\\u63A5\\\\u66FF\\\\u6362 rootfs \\\\u5B8C\\\\u5168\\\\u65E0\\\\u6CD5\\\\u652F\\\\u6301 Debian \\\\u6216 Arch \\\\u542F\\\\u52A8\\\\u9996\\\\u5148\\\\u9700\\\\u8981\\\\u6309\\\\u4EE5\\\\u4E0B\\\\u5185\\\\u5BB9\\\\u4FEE\\\\u6539SDK\\\\u5BF9\\\\u5E94\\\\u6587\\\\u4EF6\\\\uFF0C\\\\u4E3B\\\\u8981\\\\u662F\\\\u4E00\\\\u4E9Bsystemd\\\\u7684\\\\u4F9D\\\\u8D56\\\"}),`\\n`,(0,n.jsx)(s.pre,{children:(0,n.jsxs)(s.code,{className:\\\"hljs language-diff\\\",children:[(0,n.jsx)(s.span,{className:\\\"hljs-comment\\\",children:\\\"--- a/build/boards/sg200x/sg2002_licheervnano_sd/linux/sg2002_licheervnano_sd_defconfig\\\"}),`\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-comment\\\",children:\\\"+++ b/build/boards/sg200x/sg2002_licheervnano_sd/linux/sg2002_licheervnano_sd_defconfig\\\"}),`\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-meta\\\",children:\\\"@@ -578,3 +578,23 @@\\\"}),` CONFIG_SPI_SPIDEV=y\\n CONFIG_EPOLL=y\\n CONFIG_IO_URING=y\\n CONFIG_SIGNALFD=y\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-addition\\\",children:\\\"+\\\"}),`\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-addition\\\",children:\\\"+# for systemd\\\"}),`\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-addition\\\",children:\\\"+CONFIG_CGROUPS=y\\\"}),`\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-addition\\\",children:\\\"+CONFIG_CGROUP_FREEZER=y\\\"}),`\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-addition\\\",children:\\\"+CONFIG_CGROUP_PIDS=y\\\"}),`\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-addition\\\",children:\\\"+CONFIG_CGROUP_DEVICE=y\\\"}),`\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-addition\\\",children:\\\"+CONFIG_CPUSETS=y\\\"}),`\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-addition\\\",children:\\\"+CONFIG_PROC_PID_CPUSET=y\\\"}),`\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-addition\\\",children:\\\"+CONFIG_CGROUP_CPUACCT=y\\\"}),`\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-addition\\\",children:\\\"+CONFIG_PAGE_COUNTER=y\\\"}),`\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-addition\\\",children:\\\"+CONFIG_MEMCG=y\\\"}),`\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-addition\\\",children:\\\"+CONFIG_CGROUP_SCHED=y\\\"}),`\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-addition\\\",children:\\\"+CONFIG_NAMESPACES=y\\\"}),`\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-addition\\\",children:\\\"+CONFIG_OVERLAY_FS=y\\\"}),`\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-addition\\\",children:\\\"+CONFIG_AUTOFS4_FS=y\\\"}),`\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-addition\\\",children:\\\"+CONFIG_SIGNALFD=y\\\"}),`\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-addition\\\",children:\\\"+CONFIG_TIMERFD=y\\\"}),`\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-addition\\\",children:\\\"+CONFIG_EPOLL=y\\\"}),`\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-addition\\\",children:\\\"+CONFIG_IPV6=y\\\"}),`\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-addition\\\",children:\\\"+CONFIG_FANOTIFY\\\"}),`\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-comment\\\",children:\\\"diff --git a/build/boards/sg200x/sg2002_licheervnano_sd/memmap.py b/build/boards/sg200x/sg2002_licheervnano_sd/memmap.py\\\"}),`\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-comment\\\",children:\\\"index 4c676f060..467e93a2e 100755\\\"}),`\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-comment\\\",children:\\\"--- a/build/boards/sg200x/sg2002_licheervnano_sd/memmap.py\\\"}),`\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-comment\\\",children:\\\"+++ b/build/boards/sg200x/sg2002_licheervnano_sd/memmap.py\\\"}),`\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-meta\\\",children:\\\"@@ -41,6 +41,7 @@\\\"}),` class MemoryMap:\\n     # Multimedia buffer. Used by u-boot/kernel/FreeRTOS\\n     # `,(0,n.jsx)(s.span,{className:\\\"hljs-comment\\\",children:\\\"=================\\\"}),`\\n     ION_SIZE = 75 * SIZE_1M\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-addition\\\",children:\\\"+    # ION_SIZE = 0 * SIZE_1M\\\"}),`\\n     H26X_BITSTREAM_SIZE = 2 * SIZE_1M\\n     H26X_ENC_BUFF_SIZE = 0\\n     ISP_MEM_BASE_SIZE = 20 * SIZE_1M\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-comment\\\",children:\\\"diff --git a/build/tools/common/sd_tools/genimage.cfg b/build/tools/common/sd_tools/genimage.cfg\\\"}),`\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-comment\\\",children:\\\"index b97c9e958..6e970200b 100644\\\"}),`\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-comment\\\",children:\\\"--- a/build/tools/common/sd_tools/genimage.cfg\\\"}),`\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-comment\\\",children:\\\"+++ b/build/tools/common/sd_tools/genimage.cfg\\\"}),`\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-meta\\\",children:\\\"@@ -13,7 +13,7 @@\\\"}),` image rootfs.ext4 {\\n        ext4 {\\n                label = \\\"rootfs\\\"\\n        }\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-deletion\\\",children:\\\"-       size = 256M\\\"}),`\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-addition\\\",children:\\\"+       size = 1G\\\"}),`\\n     mountpoint = \\\"/\\\"\\n }\\n`]})}),`\\n`,(0,n.jsx)(s.p,{children:\\\"\\\\u5B98\\\\u65B9github\\\\u6587\\\\u6863\\\\u7684Readme\\\\u6709\\\\u70B9\\\\u95EE\\\\u9898\\\\uFF0C\\\\u4E0D\\\\u80FD\\\\u6309\\\\u7167readme\\\\u4E2D\\\\u7684\\\\u547D\\\\u4EE4\\\\u76F4\\\\u63A5build\\\\uFF0C\\\\u9700\\\\u8981\\\\u53BBgithub action workflow \\\\u4E2D\\\\u635E\\\\u6240\\\\u9700\\\\u7684\\\\u6587\\\\u4EF6\\\"}),`\\n`,(0,n.jsx)(s.pre,{children:(0,n.jsxs)(s.code,{className:\\\"hljs language-bash\\\",children:[\\\"git \\\",(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"clone\\\"}),` https://github.com/sipeed/LicheeRV-Nano-Build --depth=1\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"cd\\\"}),` LicheeRV-Nano-Build\\nwget https://sophon-file.sophon.cn/sophon-prod-s3/drive/23/03/07/16/host-tools.tar.gz\\ntar xf host-tools.tar.gz\\n`]})}),`\\n`,(0,n.jsx)(s.p,{children:\\\"\\\\u51C6\\\\u5907\\\\u597D\\\\u4E4B\\\\u540E\\\\u5F00\\\\u59CB\\\\u7F16\\\\u8BD1\\\"}),`\\n`,(0,n.jsx)(s.pre,{children:(0,n.jsxs)(s.code,{className:\\\"hljs language-bash\\\",children:[(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"source\\\"}),` build/cvisetup.sh\\ndefconfig sg2002_licheervnano_sd\\nbuild_all\\n`]})}),`\\n`,(0,n.jsx)(s.p,{children:\\\"\\\\u7F16\\\\u8BD1\\\\u5B8C\\\\u6210\\\\u540E\\\\u4F1A\\\\u7ED9\\\\u51FA\\\\u76EE\\\\u6807\\\\u6587\\\\u4EF6\\\\u7684\\\\u4F4D\\\\u7F6E\\\"}),`\\n`,(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{children:`---------------\u003e8------------------\\n# please use win32diskimager or dd command write it into sdcard\\n\\n\\n/mnt/li/LicheeRV-Nano-Build/install/soc_sg2002_licheervnano_sd/images/2024-05-26-04-29-e4c87a.img\\n\\n\\n---------------\u003e8------------------\\n/mnt/li/LicheeRV-Nano-Build\\n`})}),`\\n`,(0,n.jsx)(s.p,{children:\\\"\\\\u5F97\\\\u5230img\\\\u6587\\\\u4EF6\\\\u540E\\\\u5373\\\\u53EF\\\\u5F00\\\\u59CB\\\\u79FB\\\\u690D\\\"}),`\\n`,(0,n.jsx)(s.h2,{children:\\\"img\\\\u6587\\\\u4EF6\\\\u6269\\\\u5BB9\\\"}),`\\n`,(0,n.jsx)(s.p,{children:\\\"\\\\u9996\\\\u5148\\\\u51C6\\\\u5907\\\\u4E00\\\\u4E2A\\\\u7A7A\\\\u6587\\\\u4EF6\\\\uFF0C\\\\u5C06\\\\u5185\\\\u5BB9\\\\u8FFD\\\\u52A0\\\\u5230img\\\\u6587\\\\u4EF6\\\\u91CC\\\\uFF0C\\\\u8FD9\\\\u91CC\\\\u6211\\\\u51C6\\\\u5907\\\\u6269\\\\u5BB9500M\\\"}),`\\n`,(0,n.jsx)(s.pre,{children:(0,n.jsxs)(s.code,{className:\\\"hljs language-bash\\\",children:[(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"dd\\\"}),\\\" \\\",(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"if\\\"}),`=/dev/zero of=new.img bs=1M count=500\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"cat\\\"}),` new.img \u003e\u003e origin.img\\n`]})}),`\\n`,(0,n.jsx)(s.p,{children:\\\"\\\\u901A\\\\u8FC7loop\\\\u8BBE\\\\u5907\\\\u4F7F\\\\u7528partd\\\\u64CD\\\\u4F5C\\\\u5206\\\\u533A\\\"}),`\\n`,(0,n.jsx)(s.pre,{children:(0,n.jsxs)(s.code,{className:\\\"hljs language-bash\\\",children:[\\\"sudo losetup -f \\\",(0,n.jsx)(s.span,{className:\\\"hljs-comment\\\",children:\\\"# \\\\u5F97\\\\u5230\\\\u7A7A\\\\u95F2loop\\\\u8BBE\\\\u5907\\\"}),`\\nsudo losetup -P /dev/loop0 /path/to/origin.img\\nsudo parted /dev/loop0\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-comment\\\",children:\\\"# resizepart 2 100%\\\"}),`\\nsudo resize2fs /dev/loop0p2\\nsudo losetup -d /dev/loop0 \\n`]})}),`\\n`,(0,n.jsx)(s.p,{children:\\\"\\\\u5373\\\\u53EF\\\\uFF0C\\\\u4F7F\\\\u7528fdisk\\\\u53EF\\\\u4EE5\\\\u67E5\\\\u770B\\\"}),`\\n`,(0,n.jsx)(s.h2,{children:\\\"\\\\u79FB\\\\u690D\\\\u4E2A Debian \\\\u5230 LicheeRV nano\\\"}),`\\n`,(0,n.jsx)(s.p,{children:\\\"\\\\u7531\\\\u4E8E\\\\u76EE\\\\u524D Debian \\\\u5DF2\\\\u7ECF\\\\u5C06 rv64 \\\\u89C6\\\\u4F5C\\\\u5B98\\\\u65B9\\\\u67B6\\\\u6784\\\\u652F\\\\u6301\\\\uFF0C\\\\u6211\\\\u4EEC\\\\u65E0\\\\u9700\\\\u81EA\\\\u884C\\\\u5236\\\\u4F5C ports\\\\u3002\\\\u5728\\\\u8FD9\\\\u91CC\\\\u4E0B\\\\u8F7D RiscV \\\\u7248\\\\u672C\\\\u7684\\\\u955C\\\\u50CF\\\\uFF1A\\\"}),`\\n`,(0,n.jsxs)(s.ul,{children:[`\\n`,(0,n.jsx)(s.li,{children:(0,n.jsx)(s.a,{href:\\\"https://people.debian.org/~gio/dqib/\\\",children:\\\"Debian Quick Image Baker pre-baked images\\\"})}),`\\n`]}),`\\n`,(0,n.jsxs)(s.p,{children:[\\\"\\\\u89E3\\\\u538B\\\\u540E\\\\u5F97\\\\u5230\\\\u8FD9\\\\u6837\\\\u7684\\\\u76EE\\\\u5F55\\\\uFF0C\\\\u6211\\\\u4EEC\\\\u53EA\\\\u9700\\\\u8981\\\\u5176\\\\u4E2D\\\\u7684 \\\",(0,n.jsx)(s.code,{children:\\\"image.qcow2\\\"}),\\\"\\\\u3002\\\"]}),`\\n`,(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{children:`\\\\u251C\\\\u2500\\\\u2500 image.qcow2\\n\\\\u251C\\\\u2500\\\\u2500 initrd\\n\\\\u251C\\\\u2500\\\\u2500 kernel\\n\\\\u251C\\\\u2500\\\\u2500 readme.txt\\n\\\\u251C\\\\u2500\\\\u2500 ssh_user_ecdsa_key\\n\\\\u251C\\\\u2500\\\\u2500 ssh_user_ed25519_key\\n\\\\u2514\\\\u2500\\\\u2500 ssh_user_rsa_key\\n`})}),`\\n`,(0,n.jsx)(s.p,{children:\\\"\\\\u8FD9\\\\u662F QEMU \\\\u4F7F\\\\u7528\\\\u7684\\\\u955C\\\\u50CF\\\\u683C\\\\u5F0F\\\\uFF0C\\\\u6211\\\\u4EEC\\\\u9700\\\\u8981\\\\u5148\\\\u5B89\\\\u88C5 qemu \\\\u7136\\\\u540E\\\\u6302\\\\u8F7D\\\\u4E3A\\\\u7F51\\\\u76D8\\\\u3002\\\"}),`\\n`,(0,n.jsx)(s.pre,{children:(0,n.jsxs)(s.code,{className:\\\"hljs language-bash\\\",children:[`sudo apt update\\nsudo apt install qemu-utils\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-comment\\\",children:\\\"# \\\\u5F00\\\\u542F NBD\\\"}),`\\nsudo modprobe nbd max_part=8\\nsudo qemu-nbd -c /dev/nbd0 image.qcow2\\nsudo `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"mkdir\\\"}),` /mnt/debian-rv\\nsudo mount /dev/nbd0p2 /mnt/debian-rv\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-comment\\\",children:\\\"# \\\\u9A8C\\\\u8BC1\\\\u662F\\\\u5426\\\\u80FD\\\\u8BFB\\\\u51FA\\\\u4E24\\\\u4E2A\\\\u5206\\\\u533A\\\"}),`\\nsudo fdisk -l /dev/nbd0\\n`]})}),`\\n`,(0,n.jsxs)(s.p,{children:[\\\"\\\\u540C\\\\u65F6\\\\u628A\\\\u4E4B\\\\u524D\\\\u7684 loop \\\\u8BBE\\\\u5907\\\\u6302\\\\u8F7D\\\\u5230\\\\u8FD9\\\\u4E2A\\\",(0,n.jsx)(s.code,{children:\\\"/mnt/lichee\\\"}),\\\"\\\\u4E0B\\\\uFF0C\\\\u5F00\\\\u59CB\\\\u66FF\\\\u6362\\\\u6587\\\\u4EF6\\\\uFF1A\\\"]}),`\\n`,(0,n.jsx)(s.pre,{children:(0,n.jsxs)(s.code,{className:\\\"hljs language-bash\\\",children:[\\\"sudo \\\",(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"mkdir\\\"}),` /mnt/lichee\\nsudo losetup -f `,(0,n.jsx)(s.span,{className:\\\"hljs-comment\\\",children:\\\"# \\\\u627E\\\\u5230lo\\\\u8BBE\\\\u5907\\\\u540D\\\\uFF0C\\\\u8FD9\\\\u91CC\\\\u6211\\\\u662F/dev/loop0\\\"}),`\\nsudo losetup -P /dev/loop0 /path/to/xxxx.img\\nsudo `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"cp\\\"}),\\\" -r /mnt/lichee/mnt /tmp \\\",(0,n.jsx)(s.span,{className:\\\"hljs-comment\\\",children:\\\"# \\\\u4FDD\\\\u5B58\\\\u4E00\\\\u4E9B\\\\u91CD\\\\u8981\\\\u6587\\\\u4EF6\\\\uFF0C\\\\u5305\\\\u542B\\\\u9A71\\\\u52A8\\\"}),`\\nsudo `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"cp\\\"}),` -r /mnt/lichee/lib/firmware /tmp\\nsudo `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"cp\\\"}),` -r /mnt/lichee/etc/init.d /tmp\\n\\nsudo `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"rm\\\"}),` -rf /mnt/lichee/*\\nsudo `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"cp\\\"}),` -a /mnt/debian-rv/* /mnt/lichee\\n\\nsudo `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"cp\\\"}),` -r /tmp/mnt/* /mnt/lichee/mnt\\nsudo `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"cp\\\"}),` -r /tmp/init.d /mnt/lichee/mnt\\nsudo `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"cp\\\"}),` -r /tmp/firmware /mnt/lichee/lib\\n`]})}),`\\n`,(0,n.jsx)(s.p,{children:\\\"\\\\u5B8C\\\\u6210\\\\u540E\\\\u5C31\\\\u53EF\\\\u4EE5\\\\u53D6\\\\u6D88\\\\u6302\\\\u8F7D\\\\u5237\\\\u8FDB SD \\\\u5361\\\\u5C1D\\\\u8BD5\\\\u542F\\\\u52A8\\\\u8BBE\\\\u5907\\\\u4E86 \\\\uFF08\\\\u5982\\\\u679C\\\\u9700\\\\u8981rndis\\\\uFF0C\\\\u8BF7\\\\u518D\\\\u770B\\\\u770B\\\\u4E0B\\\\u9762\\\\u7684RNDIS\\\\u4E00\\\\u8282\\\\uFF0C\\\\u518D\\\\u53D6\\\\u6D88\\\\u6302\\\\u8F7D\\\\uFF09\\\"}),`\\n`,(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:\\\"hljs language-bash\\\",children:`sudo umount /mnt/lichee\\nsudo umount /mnt/debian-rv\\nsudo losetup -d /dev/loop0\\nsudo qemu-nbd -d /dev/nbd0\\n`})}),`\\n`,(0,n.jsxs)(s.p,{children:[\\\"\\\\u8FDB\\\\u5165\\\\u8BBE\\\\u5907\\\\u5B89\\\\u88C5 NetworkManager\\\\uFF0C\\\\u6211\\\\u4EEC\\\\u4F7F\\\\u7528 RNDIS \\\\u628A\\\\u7535\\\\u8111\\\\u5F53\\\\u4F5C proxy \\\\u8FDE\\\\u63A5 apt \\\\u6E90\\\\uFF0C\\\\u4FEE\\\\u6539 \\\",(0,n.jsx)(s.code,{children:\\\"/etc/apt/apt.conf\\\"})]}),`\\n`,(0,n.jsx)(s.pre,{children:(0,n.jsxs)(s.code,{className:\\\"hljs language-ini\\\",children:['Acquire::http::Proxy \\\"http://192.168.42.xx:xxxx/\\\"',(0,n.jsx)(s.span,{className:\\\"hljs-comment\\\",children:\\\";\\\"}),`\\nAcquire::Languages \\\"none\\\"`,(0,n.jsx)(s.span,{className:\\\"hljs-comment\\\",children:\\\";\\\"}),`\\n`]})}),`\\n`,(0,n.jsx)(s.p,{children:\\\"\\\\u5176\\\\u4E2D xx \\\\u662F\\\\u81EA\\\\u5DF1\\\\u7535\\\\u8111\\\\u7ED9 RNDIS \\\\u63A5\\\\u53E3\\\\u914D\\\\u7F6E\\\\u7684 IP\\\\uFF0C\\\\u7535\\\\u8111\\\\u4E0A\\\\u9700\\\\u8981\\\\u6302\\\\u4E00\\\\u4E2A http proxy server \\\\u8FDE\\\\u63A5\\\\u5230\\\"}),`\\n`,(0,n.jsx)(s.pre,{children:(0,n.jsxs)(s.code,{className:\\\"hljs language-bash\\\",children:[(0,n.jsx)(s.span,{className:\\\"hljs-comment\\\",children:\\\"# apt \\\\u53EF\\\\u80FD OOM\\\\uFF0C\\\\u521B\\\\u5EFA swap\\\"}),`\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"dd\\\"}),\\\" \\\",(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"if\\\"}),`=/dev/zero of=/swap bs=1M count=512\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"chmod\\\"}),` 0600 /swap\\nmkswap /swap\\nswapon /swap\\n\\napt update\\napt install network-manager\\nsystemctl `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"enable\\\"}),` NetworkManager\\nsystemctl start NetworkManager\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-comment\\\",children:\\\"# \\\\u66FF\\\\u6362 \u003cWIFI_SSID\u003e \\\\u548C \u003cPASSWORD\u003e \\\\u4E3A wifi AP \\\\u540D\\\\u79F0\\\\u548C\\\\u5BC6\\\\u7801\\\"}),`\\nnmcli device wifi connect \u003cWIFI_SSID\u003e password \u003cPASSWORD\u003e\\n`]})}),`\\n`,(0,n.jsx)(s.p,{children:\\\"\\\\u6B64\\\\u65F6\\\\u5E94\\\\u8BE5\\\\u53EF\\\\u4EE5\\\\u6B63\\\\u5E38\\\\u8054\\\\u7F51\\\\u4F7F\\\\u7528\\\\u4E86\\\\uFF0C\\\\u4F46\\\\u662F\\\\u6211\\\\u4EEC\\\\u9700\\\\u8981\\\\u4E0B\\\\u8F7D\\\\u4F9D\\\\u8D56\\\\u6765\\\\u5236\\\\u4F5C\\\\u955C\\\\u50CF\\\\uFF0C\\\"}),`\\n`,(0,n.jsx)(s.pre,{children:(0,n.jsxs)(s.code,{className:\\\"hljs language-bash\\\",children:[(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"export\\\"}),` PKG=network-manager\\napt download `,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$PKG\\\"}),\\\" \u0026\u0026 apt depends -i \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$PKG\\\"}),\\\" | awk \\\",(0,n.jsx)(s.span,{className:\\\"hljs-string\\\",children:\\\"'/Depends:/ {print $2}'\\\"}),` | xargs apt download\\n`]})}),`\\n`,(0,n.jsx)(s.p,{children:\\\"\\\\u8FD8\\\\u6709\\\\u4E00\\\\u4E9B\\\\u95F4\\\\u63A5\\\\u4F9D\\\\u8D56\\\\uFF0C\\\\u968F\\\\u4FBF\\\\u653E\\\\u5230\\\\u4E00\\\\u4E2A pkglist \\\\u6587\\\\u4EF6\\\\u4E2D\\\"}),`\\n`,(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:\\\"hljs language-bash\\\",children:`libaudit1\\nlibbluetooth3\\nlibc6\\nlibcurl3t64-gnutls\\nlibglib2.0-0t64\\nlibgnutls30t64\\nlibjansson4\\nlibmm-glib0\\nlibndp0\\nlibnewt0.52\\nlibnm0\\nlibpsl5t64\\nlibreadline8t64\\nlibselinux1\\nlibsystemd0\\nlibteamdctl0\\nlibudev1\\nudev\\nadduser\\npolkitd\\ndbus-session-bus-common\\nlibbrotli1\\nlibldap-2.5-0\\nlibnetfilter-conntrack3\\nlibnghttp2-14\\nlibpolkit-agent-1-0\\nlibrtmp1\\nlibsasl2-modules\\nlibssh2-1t64\\nxml-core\\ndbus-user-session\\nlibduktape207\\nlibldap-common\\nlibnfnetlink0\\nlibpam-systemd\\nlibpolkit-gobject-1-0\\nlibsasl2-2\\nlibsasl2-modules-db\\nsgml-base\\n\\n`})}),`\\n`,(0,n.jsx)(s.p,{children:\\\"\\\\u7136\\\\u540E\\\\u5B89\\\\u88C5\\\"}),`\\n`,(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{children:`cat pkglist | xargs apt download\\n`})}),`\\n`,(0,n.jsx)(s.h2,{children:\\\"\\\\u79FB\\\\u690D\\\\u4E2A ArchLinux \\\\u5230 LicheeRV nano\\\"}),`\\n`,(0,n.jsx)(s.p,{children:\\\"\\\\u6211\\\\u4EEC\\\\u4F7F\\\\u7528\\\\u8FD9\\\\u4E2AArchLinux\\\\u7684 RV64 port\\\"}),`\\n`,(0,n.jsxs)(s.ul,{children:[`\\n`,(0,n.jsx)(s.li,{children:(0,n.jsx)(s.a,{href:\\\"https://archriscv.felixc.at/\\\",children:\\\"https://archriscv.felixc.at/\\\"})}),`\\n`]}),`\\n`,(0,n.jsx)(s.p,{children:\\\"\\\\u9996\\\\u5148\\\\u4E0B\\\\u8F7D\\\\u6587\\\\u4EF6\\\"}),`\\n`,(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:\\\"hljs language-bash\\\",children:`wget https://archriscv.felixc.at/images/archriscv-2024-03-30.tar.zst\\n`})}),`\\n`,(0,n.jsx)(s.p,{children:\\\"\\\\u7136\\\\u540E\\\\u5C06\\\\u539F\\\\u59CB\\\\u955C\\\\u50CF\\\\u6587\\\\u4EF6\\\\u901A\\\\u8FC7loop\\\\u8BBE\\\\u5907\\\\u6302\\\\u8F7D\\\\u5230\\\\u4E00\\\\u4E2A\\\\u76EE\\\\u5F55\\\"}),`\\n`,(0,n.jsx)(s.pre,{children:(0,n.jsxs)(s.code,{className:\\\"hljs language-bash\\\",children:[\\\"sudo losetup -f \\\",(0,n.jsx)(s.span,{className:\\\"hljs-comment\\\",children:\\\"# \\\\u627E\\\\u5230lo\\\\u8BBE\\\\u5907\\\\u540D\\\\uFF0C\\\\u8FD9\\\\u91CC\\\\u6211\\\\u662F/dev/loop0\\\"}),`\\nsudo losetup -P /dev/loop0 /path/to/xxxx.img\\nsudo `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"mkdir\\\"}),` /mnt/lichee\\nsudo mount /dev/loop0p2 /mnt/lichee\\n`]})}),`\\n`,(0,n.jsx)(s.p,{children:\\\"\\\\u5C06\\\\u76EE\\\\u5F55\\\\u4E2D\\\\u7684\\\\u6587\\\\u4EF6\\\\u66FF\\\\u6362\\\\u4E3A\\\\u6211\\\\u4EEC\\\\u4E0B\\\\u8F7D\\\\u7684\\\\u5185\\\\u5BB9\\\"}),`\\n`,(0,n.jsx)(s.pre,{children:(0,n.jsxs)(s.code,{className:\\\"hljs language-bash\\\",children:[(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"cd\\\"}),` /mnt/lichee\\nsudo `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"cp\\\"}),\\\" -r /mnt/lichee/mnt /tmp \\\",(0,n.jsx)(s.span,{className:\\\"hljs-comment\\\",children:\\\"# \\\\u4FDD\\\\u5B58\\\\u4E00\\\\u4E9B\\\\u91CD\\\\u8981\\\\u6587\\\\u4EF6\\\"}),`\\nsudo `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"cp\\\"}),` -r /mnt/lichee/etc/init.d /tmp\\n\\nsudo `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"rm\\\"}),` -rf *\\nsudo tar -xvf /path/to/archriscv-2024-03-30.tar.zst -C .\\nsudo `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"cp\\\"}),` -r /tmp/mnt/* ./mnt\\nsudo `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"cp\\\"}),` -r /mnt/init.d ./mnt\\n`]})}),`\\n`,(0,n.jsx)(s.p,{children:\\\"\\\\u968F\\\\u540E\\\\u53D6\\\\u6D88\\\\u6302\\\\u8F7D (\\\\u5982\\\\u679C\\\\u9700\\\\u8981RNDIS\\\\uFF0C\\\\u8BF7\\\\u518D\\\\u770B\\\\u770B\\\\u4E0B\\\\u9762\\\\u7684RNDIS\\\\u4E00\\\\u8282\\\\uFF0C\\\\u518D\\\\u53D6\\\\u6D88\\\\u6302\\\\u8F7D)\\\"}),`\\n`,(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:\\\"hljs language-bash\\\",children:`sudo umount /mnt/lichee\\nsudo losetup -d /dev/loop0\\n`})}),`\\n`,(0,n.jsx)(s.p,{children:\\\"\\\\u7136\\\\u540E\\\\u5C31\\\\u53EF\\\\u4EE5\\\\u5C06\\\\u6587\\\\u4EF6\\\\u5199\\\\u5165SD\\\\u5361\\\\u542F\\\\u52A8\\\\u8BBE\\\\u5907\\\\u5566\\\"}),`\\n`,(0,n.jsx)(s.p,{children:\\\"\\\\u4E0D\\\\u8FC7\\\\u8FD9\\\\u91CC Arch \\\\u61D2\\\\u5F97\\\\u641E wifi\\\\uFF0C\\\\u540E\\\\u7EED\\\\u8FD8\\\\u662F\\\\u66F4\\\\u60F3\\\\u7528 Debian \\\\u4E00\\\\u70B9\\\"}),`\\n`,(0,n.jsx)(s.h2,{children:\\\"\\\\u8BBE\\\\u7F6ERNDIS\\\"}),`\\n`,(0,n.jsxs)(s.p,{children:[\\\"\\\\u9700\\\\u8981\\\\u5199\\\\u5165\\\\u4EE5\\\\u4E0B\\\\u6587\\\\u4EF6\\\\u5230\\\\u65B0\\\\u7684\\\\u7CFB\\\\u7EDF\\\\uFF0C\\\\u8BB0\\\\u5F97\\\",(0,n.jsx)(s.code,{children:\\\"chmod +x filename\\\"})]}),`\\n`,(0,n.jsxs)(s.ul,{children:[`\\n`,(0,n.jsx)(s.li,{children:\\\"/etc/run_usb.sh\\\"}),`\\n`]}),`\\n`,(0,n.jsx)(s.pre,{children:(0,n.jsxs)(s.code,{className:\\\"hljs language-bash\\\",children:[`CLASS=acm\\nVID=0x3346\\nPID=0x1003\\nMSC_PID=0x1008\\nRNDIS_PID=0x1009\\nUVC_PID=0x100A\\nUAC_PID=0x100B\\nADB_VID=0x18D1\\nADB_PID=0x4EE0\\nADB_PID_M1=0x4EE2\\nADB_PID_M2=0x4EE4\\nMANUFACTURER=`,(0,n.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"Cvitek\\\"'}),`\\nPRODUCT=`,(0,n.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"USB Com Port\\\"'}),`\\nPRODUCT_RNDIS=`,(0,n.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"RNDIS\\\"'}),`\\nPRODUCT_UVC=`,(0,n.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"UVC\\\"'}),`\\nPRODUCT_UAC=`,(0,n.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"UAC\\\"'}),`\\nPRODUCT_ADB=`,(0,n.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"ADB\\\"'}),`\\nADBD_PATH=/usr/bin/\\nSERIAL=`,(0,n.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"0123456789\\\"'}),`\\nMSC_FILE=`,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$3\\\"}),`\\nCVI_DIR=/tmp/usb\\nCVI_GADGET=`,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_DIR\\\"}),`/usb_gadget/cvitek\\nCVI_FUNC=`,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_GADGET\\\"}),`/functions\\nFUNC_NUM=0\\nMAX_EP_NUM=4\\nTMP_NUM=0\\nINTF_NUM=0\\nEP_IN=0\\nEP_OUT=0\\n\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"case\\\"}),\\\" \\\",(0,n.jsxs)(s.span,{className:\\\"hljs-string\\\",children:['\\\"',(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$2\\\"}),'\\\"']}),\\\" \\\",(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"in\\\"}),`\\n  acm)\\n\\tCLASS=acm\\n\\t;;\\n  msc)\\n\\tCLASS=mass_storage\\n\\tPID=`,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$MSC_PID\\\"}),`\\n\\t;;\\n  cvg)\\n\\tCLASS=cvg\\n\\t;;\\n  rndis)\\n\\tCLASS=rndis\\n\\tPID=`,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$RNDIS_PID\\\"}),`\\n\\tPRODUCT=`,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$PRODUCT_RNDIS\\\"}),`\\n\\t;;\\n  uvc)\\n\\tCLASS=uvc\\n\\tPID=`,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$UVC_PID\\\"}),`\\n\\tPRODUCT=`,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$PRODUCT_UVC\\\"}),`\\n\\t;;\\n  uac1)\\n\\tCLASS=uac1\\n\\tPID=`,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$UAC_PID\\\"}),`\\n\\tPRODUCT=`,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$PRODUCT_UAC\\\"}),`\\n\\t;;\\n  adb)\\n\\tCLASS=ffs.adb\\n\\tVID=`,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$ADB_VID\\\"}),`\\n\\tPID=`,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$ADB_PID\\\"}),`\\n\\tPRODUCT=`,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$PRODUCT_ADB\\\"}),`\\n\\t;;\\n  *)\\n\\t`,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"if\\\"}),\\\" [ \\\",(0,n.jsxs)(s.span,{className:\\\"hljs-string\\\",children:['\\\"',(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$1\\\"}),'\\\"']}),\\\" = \\\",(0,n.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"probe\\\"'}),\\\" ] ; \\\",(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"then\\\"}),`\\n\\t  `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"echo\\\"}),\\\" \\\",(0,n.jsxs)(s.span,{className:\\\"hljs-string\\\",children:['\\\"Usage: ',(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$0\\\"}),' probe {acm|msc|cvg|rndis|uvc|uac1|adb}\\\"']}),`\\n\\t  `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"exit\\\"}),` 1\\n\\t`,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"fi\\\"}),`\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"esac\\\"}),`\\n\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-function\\\",children:(0,n.jsx)(s.span,{className:\\\"hljs-title\\\",children:\\\"calc_func\\\"})}),`() {\\n  FUNC_NUM=$(`,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"ls\\\"}),\\\" \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_GADGET\\\"}),\\\"/functions -l | grep ^d | \\\",(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"wc\\\"}),` -l)\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"echo\\\"}),\\\" \\\",(0,n.jsxs)(s.span,{className:\\\"hljs-string\\\",children:['\\\"',(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$FUNC_NUM\\\"}),' file(s)\\\"']}),`\\n}\\n\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-function\\\",children:(0,n.jsx)(s.span,{className:\\\"hljs-title\\\",children:\\\"res_check\\\"})}),`() {\\n  TMP_NUM=$(find `,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_GADGET\\\"}),\\\"/functions/ -name \\\",(0,n.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"acm*\\\"'}),\\\" | \\\",(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"wc\\\"}),` -l)\\n  EP_OUT=$((`,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$EP_OUT\\\"}),\\\"+\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$TMP_NUM\\\"}),`))\\n  TMP_NUM=$((`,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$TMP_NUM\\\"}),\\\" * \\\",(0,n.jsx)(s.span,{className:\\\"hljs-number\\\",children:\\\"2\\\"}),`))\\n  EP_IN=$((`,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$EP_IN\\\"}),\\\"+\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$TMP_NUM\\\"}),`))\\n  INTF_NUM=$((`,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$INTF_NUM\\\"}),\\\"+\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$TMP_NUM\\\"}),`))\\n  TMP_NUM=$(find `,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_GADGET\\\"}),\\\"/functions/ -name \\\",(0,n.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"mass_storage*\\\"'}),\\\" | \\\",(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"wc\\\"}),` -l)\\n  EP_IN=$((`,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$EP_IN\\\"}),\\\"+\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$TMP_NUM\\\"}),`))\\n  EP_OUT=$((`,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$EP_OUT\\\"}),\\\"+\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$TMP_NUM\\\"}),`))\\n  INTF_NUM=$((`,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$INTF_NUM\\\"}),\\\"+\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$TMP_NUM\\\"}),`))\\n  TMP_NUM=$(find `,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_GADGET\\\"}),\\\"/functions/ -name \\\",(0,n.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"cvg*\\\"'}),\\\" | \\\",(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"wc\\\"}),` -l)\\n  EP_IN=$((`,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$EP_IN\\\"}),\\\"+\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$TMP_NUM\\\"}),`))\\n  EP_OUT=$((`,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$EP_OUT\\\"}),\\\"+\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$TMP_NUM\\\"}),`))\\n  INTF_NUM=$((`,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$INTF_NUM\\\"}),\\\"+\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$TMP_NUM\\\"}),`))\\n  TMP_NUM=$(find `,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_GADGET\\\"}),\\\"/functions/ -name \\\",(0,n.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"rndis*\\\"'}),\\\" | \\\",(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"wc\\\"}),` -l)\\n  EP_OUT=$((`,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$EP_OUT\\\"}),\\\"+\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$TMP_NUM\\\"}),`))\\n  TMP_NUM=$((`,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$TMP_NUM\\\"}),\\\" * \\\",(0,n.jsx)(s.span,{className:\\\"hljs-number\\\",children:\\\"2\\\"}),`))\\n  EP_IN=$((`,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$EP_IN\\\"}),\\\"+\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$TMP_NUM\\\"}),`))\\n  INTF_NUM=$((`,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$INTF_NUM\\\"}),\\\"+\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$TMP_NUM\\\"}),`))\\n  TMP_NUM=$(find `,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_GADGET\\\"}),\\\"/functions/ -name \\\",(0,n.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"uvc*\\\"'}),\\\" | \\\",(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"wc\\\"}),` -l)\\n  TMP_NUM=$((`,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$TMP_NUM\\\"}),\\\" * \\\",(0,n.jsx)(s.span,{className:\\\"hljs-number\\\",children:\\\"2\\\"}),`))\\n  EP_IN=$((`,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$EP_IN\\\"}),\\\"+\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$TMP_NUM\\\"}),`))\\n  INTF_NUM=$((`,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$INTF_NUM\\\"}),\\\"+\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$TMP_NUM\\\"}),`))\\n  TMP_NUM=$(find `,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_GADGET\\\"}),\\\"/functions/ -name \\\",(0,n.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"uac1*\\\"'}),\\\" | \\\",(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"wc\\\"}),` -l)\\n  TMP_NUM=$((`,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$TMP_NUM\\\"}),\\\" * \\\",(0,n.jsx)(s.span,{className:\\\"hljs-number\\\",children:\\\"2\\\"}),`))\\n  EP_IN=$((`,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$EP_IN\\\"}),\\\"+\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$TMP_NUM\\\"}),`))\\n  EP_OUT=$((`,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$EP_OUT\\\"}),\\\"+\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$TMP_NUM\\\"}),`))\\n  INTF_NUM=$((`,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$INTF_NUM\\\"}),\\\"+\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$TMP_NUM\\\"}),`))\\n  TMP_NUM=$(find `,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_GADGET\\\"}),\\\"/functions/ -name ffs.adb | \\\",(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"wc\\\"}),` -l)\\n  EP_IN=$((`,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$EP_IN\\\"}),\\\"+\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$TMP_NUM\\\"}),`))\\n  EP_OUT=$((`,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$EP_OUT\\\"}),\\\"+\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$TMP_NUM\\\"}),`))\\n  INTF_NUM=$((`,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$INTF_NUM\\\"}),\\\"+\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$TMP_NUM\\\"}),`))\\n\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"if\\\"}),\\\" [ \\\",(0,n.jsxs)(s.span,{className:\\\"hljs-string\\\",children:['\\\"',(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CLASS\\\"}),'\\\"']}),\\\" = \\\",(0,n.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"acm\\\"'}),\\\" ] ; \\\",(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"then\\\"}),`\\n    EP_IN=$((`,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$EP_IN\\\"}),\\\"+\\\",(0,n.jsx)(s.span,{className:\\\"hljs-number\\\",children:\\\"2\\\"}),`))\\n    EP_OUT=$((`,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$EP_OUT\\\"}),\\\"+\\\",(0,n.jsx)(s.span,{className:\\\"hljs-number\\\",children:\\\"1\\\"}),`))\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"fi\\\"}),`\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"if\\\"}),\\\" [ \\\",(0,n.jsxs)(s.span,{className:\\\"hljs-string\\\",children:['\\\"',(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CLASS\\\"}),'\\\"']}),\\\" = \\\",(0,n.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"mass_storage\\\"'}),\\\" ] ; \\\",(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"then\\\"}),`\\n    EP_IN=$((`,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$EP_IN\\\"}),\\\"+\\\",(0,n.jsx)(s.span,{className:\\\"hljs-number\\\",children:\\\"1\\\"}),`))\\n    EP_OUT=$((`,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$EP_OUT\\\"}),\\\"+\\\",(0,n.jsx)(s.span,{className:\\\"hljs-number\\\",children:\\\"1\\\"}),`))\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"fi\\\"}),`\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"if\\\"}),\\\" [ \\\",(0,n.jsxs)(s.span,{className:\\\"hljs-string\\\",children:['\\\"',(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CLASS\\\"}),'\\\"']}),\\\" = \\\",(0,n.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"cvg\\\"'}),\\\" ] ; \\\",(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"then\\\"}),`\\n    EP_IN=$((`,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$EP_IN\\\"}),\\\"+\\\",(0,n.jsx)(s.span,{className:\\\"hljs-number\\\",children:\\\"1\\\"}),`))\\n    EP_OUT=$((`,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$EP_OUT\\\"}),\\\"+\\\",(0,n.jsx)(s.span,{className:\\\"hljs-number\\\",children:\\\"1\\\"}),`))\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"fi\\\"}),`\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"if\\\"}),\\\" [ \\\",(0,n.jsxs)(s.span,{className:\\\"hljs-string\\\",children:['\\\"',(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CLASS\\\"}),'\\\"']}),\\\" = \\\",(0,n.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"rndis\\\"'}),\\\" ] ; \\\",(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"then\\\"}),`\\n    EP_IN=$((`,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$EP_IN\\\"}),\\\"+\\\",(0,n.jsx)(s.span,{className:\\\"hljs-number\\\",children:\\\"2\\\"}),`))\\n    EP_OUT=$((`,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$EP_OUT\\\"}),\\\"+\\\",(0,n.jsx)(s.span,{className:\\\"hljs-number\\\",children:\\\"1\\\"}),`))\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"fi\\\"}),`\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"if\\\"}),\\\" [ \\\",(0,n.jsxs)(s.span,{className:\\\"hljs-string\\\",children:['\\\"',(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CLASS\\\"}),'\\\"']}),\\\" = \\\",(0,n.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"uvc\\\"'}),\\\" ] ; \\\",(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"then\\\"}),`\\n    EP_IN=$((`,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$EP_IN\\\"}),\\\"+\\\",(0,n.jsx)(s.span,{className:\\\"hljs-number\\\",children:\\\"2\\\"}),`))\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"fi\\\"}),`\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"if\\\"}),\\\" [ \\\",(0,n.jsxs)(s.span,{className:\\\"hljs-string\\\",children:['\\\"',(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CLASS\\\"}),'\\\"']}),\\\" = \\\",(0,n.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"uac1\\\"'}),\\\" ] ; \\\",(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"then\\\"}),`\\n    EP_IN=$((`,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$EP_IN\\\"}),\\\"+\\\",(0,n.jsx)(s.span,{className:\\\"hljs-number\\\",children:\\\"1\\\"}),`))\\n    EP_OUT=$((`,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$EP_OUT\\\"}),\\\"+\\\",(0,n.jsx)(s.span,{className:\\\"hljs-number\\\",children:\\\"1\\\"}),`))\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"fi\\\"}),`\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"if\\\"}),\\\" [ \\\",(0,n.jsxs)(s.span,{className:\\\"hljs-string\\\",children:['\\\"',(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CLASS\\\"}),'\\\"']}),\\\" = \\\",(0,n.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"ffs.adb\\\"'}),\\\" ] ; \\\",(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"then\\\"}),`\\n    EP_IN=$((`,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$EP_IN\\\"}),\\\"+\\\",(0,n.jsx)(s.span,{className:\\\"hljs-number\\\",children:\\\"1\\\"}),`))\\n    EP_OUT=$((`,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$EP_OUT\\\"}),\\\"+\\\",(0,n.jsx)(s.span,{className:\\\"hljs-number\\\",children:\\\"1\\\"}),`))\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"fi\\\"}),`\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"echo\\\"}),\\\" \\\",(0,n.jsxs)(s.span,{className:\\\"hljs-string\\\",children:['\\\"',(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$EP_IN\\\"}),' in ep\\\"']}),`\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"echo\\\"}),\\\" \\\",(0,n.jsxs)(s.span,{className:\\\"hljs-string\\\",children:['\\\"',(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$EP_OUT\\\"}),' out ep\\\"']}),`\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"if\\\"}),\\\" [ \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$EP_IN\\\"}),\\\" -gt \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$MAX_EP_NUM\\\"}),\\\" ]; \\\",(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"then\\\"}),`\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"echo\\\"}),\\\" \\\",(0,n.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"reach maximum resource\\\"'}),`\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"exit\\\"}),` 1\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"fi\\\"}),`\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"if\\\"}),\\\" [ \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$EP_OUT\\\"}),\\\" -gt \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$MAX_EP_NUM\\\"}),\\\" ]; \\\",(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"then\\\"}),`\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"echo\\\"}),\\\" \\\",(0,n.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"reach maximum resource\\\"'}),`\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"exit\\\"}),` 1\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"fi\\\"}),`\\n}\\n\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-function\\\",children:(0,n.jsx)(s.span,{className:\\\"hljs-title\\\",children:\\\"probe\\\"})}),`() {\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"if\\\"}),\\\" [ ! -d \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_DIR\\\"}),\\\" ]; \\\",(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"then\\\"}),`\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"mkdir\\\"}),\\\" \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_DIR\\\"}),`\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"fi\\\"}),`\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"if\\\"}),\\\" [ ! -d \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_DIR\\\"}),\\\"/usb_gadget ]; \\\",(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"then\\\"}),`\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-comment\\\",children:\\\"# Enale USB ConfigFS\\\"}),`\\n    mount none `,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_DIR\\\"}),` -t configfs\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-comment\\\",children:\\\"# Create gadget dev\\\"}),`\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"mkdir\\\"}),\\\" \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_GADGET\\\"}),`\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-comment\\\",children:\\\"# Set the VID and PID\\\"}),`\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"echo\\\"}),\\\" \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$VID\\\"}),\\\" \u003e\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_GADGET\\\"}),`/idVendor\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"echo\\\"}),\\\" \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$PID\\\"}),\\\" \u003e\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_GADGET\\\"}),`/idProduct\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-comment\\\",children:\\\"# Set the product information string\\\"}),`\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"mkdir\\\"}),\\\" \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_GADGET\\\"}),`/strings/0x409\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"echo\\\"}),\\\" \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$MANUFACTURER\\\"}),\\\"\u003e\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_GADGET\\\"}),`/strings/0x409/manufacturer\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"echo\\\"}),\\\" \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$PRODUCT\\\"}),\\\"\u003e\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_GADGET\\\"}),`/strings/0x409/product\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"echo\\\"}),\\\" \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$SERIAL\\\"}),\\\"\u003e\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_GADGET\\\"}),`/strings/0x409/serialnumber\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-comment\\\",children:\\\"# Set the USB configuration\\\"}),`\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"mkdir\\\"}),\\\" \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_GADGET\\\"}),`/configs/c.1\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"mkdir\\\"}),\\\" \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_GADGET\\\"}),`/configs/c.1/strings/0x409\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"echo\\\"}),\\\" \\\",(0,n.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"config1\\\"'}),\\\"\u003e\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_GADGET\\\"}),`/configs/c.1/strings/0x409/configuration\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-comment\\\",children:\\\"# Set the MaxPower of USB descriptor\\\"}),`\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"echo\\\"}),\\\" 120 \u003e\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_GADGET\\\"}),`/configs/c.1/MaxPower\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"fi\\\"}),`\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-comment\\\",children:\\\"# get current functions number\\\"}),`\\n  calc_func\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-comment\\\",children:\\\"# assign the class code for composite device\\\"}),`\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"if\\\"}),\\\" [ ! \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$FUNC_NUM\\\"}),\\\" -eq 0 ]; \\\",(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"then\\\"}),`\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"echo\\\"}),\\\" 0xEF \u003e\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_GADGET\\\"}),`/bDeviceClass\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"echo\\\"}),\\\" 0x02 \u003e\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_GADGET\\\"}),`/bDeviceSubClass\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"echo\\\"}),\\\" 0x01 \u003e\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_GADGET\\\"}),`/bDeviceProtocol\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"fi\\\"}),`\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-comment\\\",children:\\\"# resource check\\\"}),`\\n  res_check\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-comment\\\",children:\\\"# create the desired function\\\"}),`\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"if\\\"}),\\\" [ \\\",(0,n.jsxs)(s.span,{className:\\\"hljs-string\\\",children:['\\\"',(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CLASS\\\"}),'\\\"']}),\\\" = \\\",(0,n.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"ffs.adb\\\"'}),\\\" ] ; \\\",(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"then\\\"}),`\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-comment\\\",children:\\\"# adb shall be the last function to probe. Override the pid/vid\\\"}),`\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"echo\\\"}),\\\" \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$VID\\\"}),\\\" \u003e\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_GADGET\\\"}),`/idVendor\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"echo\\\"}),\\\" \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$PID\\\"}),\\\" \u003e\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_GADGET\\\"}),`/idProduct\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-comment\\\",children:\\\"# choose pid for different function number\\\"}),`\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"if\\\"}),\\\" [ \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$INTF_NUM\\\"}),\\\" -eq 1 ]; \\\",(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"then\\\"}),`\\n      `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"echo\\\"}),\\\" \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$ADB_PID_M1\\\"}),\\\" \u003e\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_GADGET\\\"}),`/idProduct\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"fi\\\"}),`\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"if\\\"}),\\\" [ \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$INTF_NUM\\\"}),\\\" -eq 2 ]; \\\",(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"then\\\"}),`\\n      `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"echo\\\"}),\\\" \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$ADB_PID_M2\\\"}),\\\" \u003e\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_GADGET\\\"}),`/idProduct\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"fi\\\"}),`\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"mkdir\\\"}),\\\" \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_GADGET\\\"}),\\\"/functions/\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CLASS\\\"}),`\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"else\\\"}),`\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"mkdir\\\"}),\\\" \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_GADGET\\\"}),\\\"/functions/\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CLASS\\\"}),\\\".usb\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$FUNC_NUM\\\"}),`\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"fi\\\"}),`\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"if\\\"}),\\\" [ \\\",(0,n.jsxs)(s.span,{className:\\\"hljs-string\\\",children:['\\\"',(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CLASS\\\"}),'\\\"']}),\\\" = \\\",(0,n.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"mass_storage\\\"'}),\\\" ] ; \\\",(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"then\\\"}),`\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"echo\\\"}),\\\" \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$MSC_FILE\\\"}),\\\" \u003e\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_GADGET\\\"}),\\\"/functions/\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CLASS\\\"}),\\\".usb\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$FUNC_NUM\\\"}),`/lun.0/file\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"fi\\\"}),`\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"if\\\"}),\\\" [ \\\",(0,n.jsxs)(s.span,{className:\\\"hljs-string\\\",children:['\\\"',(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CLASS\\\"}),'\\\"']}),\\\" = \\\",(0,n.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"rndis\\\"'}),\\\" ] ; \\\",(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"then\\\"}),`\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-comment\\\",children:\\\"#OS STRING\\\"}),`\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"echo\\\"}),\\\" 1 \u003e\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_GADGET\\\"}),`/os_desc/use\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"echo\\\"}),\\\" 0xcd \u003e\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_GADGET\\\"}),`/os_desc/b_vendor_code\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"echo\\\"}),\\\" MSFT100 \u003e\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_GADGET\\\"}),`/os_desc/qw_sign\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-comment\\\",children:\\\"#COMPATIBLE ID\\\"}),`\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"echo\\\"}),\\\" RNDIS \u003e\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_FUNC\\\"}),\\\"/rndis.usb\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$FUNC_NUM\\\"}),`/os_desc/interface.rndis/compatible_id\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-comment\\\",children:\\\"#MAKE c.1 THE ONE ASSOCIATED WITH OS DESCRIPTORS\\\"}),`\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"ln\\\"}),\\\" -s \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_GADGET\\\"}),\\\"/configs/c.1 \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_GADGET\\\"}),`/os_desc\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-comment\\\",children:'#MAKE \\\"Icons\\\" EXTENDED PROPERTY'}),`\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"mkdir\\\"}),\\\" \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_FUNC\\\"}),\\\"/rndis.usb\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$FUNC_NUM\\\"}),`/os_desc/interface.rndis/Icons\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"echo\\\"}),\\\" 2 \u003e\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_FUNC\\\"}),\\\"/rndis.usb\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$FUNC_NUM\\\"}),`/os_desc/interface.rndis/Icons/type\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"echo\\\"}),\\\" \\\",(0,n.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"%SystemRoot%\\\\\\\\\\\\\\\\system32\\\\\\\\\\\\\\\\shell32.dll,-233\\\"'}),\\\" \u003e\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_FUNC\\\"}),\\\"/rndis.usb\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$FUNC_NUM\\\"}),`/os_desc/interface.rndis/Icons/data\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-comment\\\",children:'#MAKE \\\"Label\\\" EXTENDED PROPERTY'}),`\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"mkdir\\\"}),\\\" \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_FUNC\\\"}),\\\"/rndis.usb\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$FUNC_NUM\\\"}),`/os_desc/interface.rndis/Label\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"echo\\\"}),\\\" 1 \u003e\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_FUNC\\\"}),\\\"/rndis.usb\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$FUNC_NUM\\\"}),`/os_desc/interface.rndis/Label/type\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"echo\\\"}),\\\" \\\",(0,n.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"XYZ Device\\\"'}),\\\" \u003e\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_FUNC\\\"}),\\\"/rndis.usb\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$FUNC_NUM\\\"}),`/os_desc/interface.rndis/Label/data\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"fi\\\"}),`\\n\\n}\\n\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-function\\\",children:(0,n.jsx)(s.span,{className:\\\"hljs-title\\\",children:\\\"start\\\"})}),`() {\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-comment\\\",children:\\\"# link this function to the configuration\\\"}),`\\n  calc_func\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"if\\\"}),\\\" [ \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$FUNC_NUM\\\"}),\\\" -eq 0 ]; \\\",(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"then\\\"}),`\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"echo\\\"}),\\\" \\\",(0,n.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"Functions Empty!\\\"'}),`\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"exit\\\"}),` 1\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"fi\\\"}),`\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"if\\\"}),\\\" [ -d \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_GADGET\\\"}),\\\"/functions/ffs.adb ]; \\\",(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"then\\\"}),`\\n    FUNC_NUM=$((`,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$FUNC_NUM\\\"}),\\\"-\\\",(0,n.jsx)(s.span,{className:\\\"hljs-number\\\",children:\\\"1\\\"}),`))\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"fi\\\"}),`\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"for\\\"}),\\\" i \\\",(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"in\\\"}),\\\" `\\\",(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"seq\\\"}),\\\" 0 $((\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$FUNC_NUM\\\"}),\\\"-\\\",(0,n.jsx)(s.span,{className:\\\"hljs-number\\\",children:\\\"1\\\"}),\\\"))`;\\\\n  \\\",(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"do\\\"}),`\\n    find `,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_GADGET\\\"}),\\\"/functions/ -name \\\",(0,n.jsxs)(s.span,{className:\\\"hljs-string\\\",children:['\\\"*.usb',(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$i\\\"}),'\\\"']}),\\\" | xargs -I % \\\",(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"ln\\\"}),\\\" -s % \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_GADGET\\\"}),`/configs/c.1\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"done\\\"}),`\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"if\\\"}),\\\" [ -d \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_GADGET\\\"}),\\\"/functions/ffs.adb ]; \\\",(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"then\\\"}),`\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"ln\\\"}),\\\" -s \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_GADGET\\\"}),\\\"/functions/ffs.adb \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_GADGET\\\"}),`/configs/c.1\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"mkdir\\\"}),` /dev/usb-ffs/adb -p\\n    mount -t functionfs adb /dev/usb-ffs/adb\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"if\\\"}),\\\" [ -f \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$ADBD_PATH\\\"}),\\\"/adbd ]; \\\",(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"then\\\"}),`\\n\\t`,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$ADBD_PATH\\\"}),`/adbd \u0026\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"fi\\\"}),`\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"else\\\"}),`\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-comment\\\",children:\\\"# Start the gadget driver\\\"}),\\\"\\\\n    UDC=`\\\",(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"ls\\\"}),\\\" /sys/class/udc/ | awk \\\",(0,n.jsx)(s.span,{className:\\\"hljs-string\\\",children:\\\"'{print $1}'\\\"}),\\\"`\\\\n    \\\",(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"echo\\\"}),\\\" \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"${UDC}\\\"}),\\\" \u003e\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_GADGET\\\"}),`/UDC\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"fi\\\"}),`\\n}\\n\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-function\\\",children:(0,n.jsx)(s.span,{className:\\\"hljs-title\\\",children:\\\"stop\\\"})}),`() {\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"if\\\"}),\\\" [ -d \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_GADGET\\\"}),\\\"/configs/c.1/ffs.adb ]; \\\",(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"then\\\"}),`\\n    pkill adbd\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"rm\\\"}),\\\" \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_GADGET\\\"}),`/configs/c.1/ffs.adb\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"else\\\"}),`\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"echo\\\"}),\\\" \\\",(0,n.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"\\\"'}),\\\" \u003e\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_GADGET\\\"}),`/UDC\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"fi\\\"}),`\\n  find `,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_GADGET\\\"}),\\\"/configs/ -name \\\",(0,n.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"*.usb*\\\"'}),\\\" | xargs \\\",(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"rm\\\"}),` -f\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"rmdir\\\"}),\\\" \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_GADGET\\\"}),`/configs/c.*/strings/0x409/\\n  tmp_dirs=$(find `,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_GADGET\\\"}),\\\"/os_desc/c.* -\\\",(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"type\\\"}),` d)\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"if\\\"}),\\\" [ -n tmp_dirs ]; \\\",(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"then\\\"}),`\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"echo\\\"}),\\\" \\\",(0,n.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"remove os_desc!\\\"'}),`\\n    `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"rm\\\"}),\\\" -rf \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_GADGET\\\"}),`/os_desc/c.*/\\n    find `,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_GADGET\\\"}),\\\"/functions/ -name Icons | xargs \\\",(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"rmdir\\\"}),`\\n    find `,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_GADGET\\\"}),\\\"/functions/ -name Label | xargs \\\",(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"rmdir\\\"}),`\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"fi\\\"}),`\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"rmdir\\\"}),\\\" \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_GADGET\\\"}),`/configs/c.*/\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"rmdir\\\"}),\\\" \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_GADGET\\\"}),`/functions/*\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"rmdir\\\"}),\\\" \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_GADGET\\\"}),`/strings/0x409/\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"rmdir\\\"}),\\\" \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_GADGET\\\"}),`\\n  umount `,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_DIR\\\"}),`\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"rmdir\\\"}),\\\" \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_DIR\\\"}),`\\n}\\n\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"case\\\"}),\\\" \\\",(0,n.jsxs)(s.span,{className:\\\"hljs-string\\\",children:['\\\"',(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$1\\\"}),'\\\"']}),\\\" \\\",(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"in\\\"}),`\\n  start)\\n\\tstart\\n\\t;;\\n  stop)\\n\\tstop\\n\\t;;\\n  probe)\\n\\tprobe\\n\\t;;\\n  UDC)\\n  UDC=\\\\``,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"ls\\\"}),\\\" /sys/class/udc/ | awk \\\",(0,n.jsx)(s.span,{className:\\\"hljs-string\\\",children:\\\"'{print $1}'\\\"}),\\\"`\\\\n  \\\",(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"echo\\\"}),\\\" \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"${UDC}\\\"}),\\\" \u003e\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$CVI_GADGET\\\"}),`/UDC\\n\\t;;\\n  *)\\n\\t`,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"echo\\\"}),\\\" \\\",(0,n.jsxs)(s.span,{className:\\\"hljs-string\\\",children:['\\\"Usage: ',(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$0\\\"}),' probe {acm|msc|cvg|uvc|uac1} {file (msc)}\\\"']}),`\\n\\t`,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"echo\\\"}),\\\" \\\",(0,n.jsxs)(s.span,{className:\\\"hljs-string\\\",children:['\\\"Usage: ',(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$0\\\"}),' start\\\"']}),`\\n\\t`,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"echo\\\"}),\\\" \\\",(0,n.jsxs)(s.span,{className:\\\"hljs-string\\\",children:['\\\"Usage: ',(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$0\\\"}),' stop\\\"']}),`\\n\\t`,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"exit\\\"}),` 1\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"esac\\\"}),`\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"exit\\\"}),` $?\\n`]})}),`\\n`,(0,n.jsxs)(s.ul,{children:[`\\n`,(0,n.jsx)(s.li,{children:\\\"/etc/uhubon.sh\\\"}),`\\n`]}),`\\n`,(0,n.jsx)(s.pre,{children:(0,n.jsxs)(s.code,{className:\\\"hljs language-bash\\\",children:[`GPIO_HUBPORT_EN=449\\nGPIO_ROLESEL=450\\nGPIO_HUBRST=451\\nSYS_GPIO=/sys/class/gpio\\n\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-function\\\",children:(0,n.jsx)(s.span,{className:\\\"hljs-title\\\",children:\\\"hub_on\\\"})}),`() {\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"echo\\\"}),\\\" \\\",(0,n.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"turn on usb hub\\\"'}),`\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"if\\\"}),\\\" [ ! -d \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$SYS_GPIO\\\"}),\\\"/gpio\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$GPIO_HUBPORT_EN\\\"}),\\\" ]; \\\",(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"then\\\"}),`\\n      `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"echo\\\"}),\\\" \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$GPIO_HUBPORT_EN\\\"}),` \u003e/sys/class/gpio/export\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"fi\\\"}),`\\n\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"if\\\"}),\\\" [ ! -d \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$SYS_GPIO\\\"}),\\\"/gpio\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$GPIO_ROLESEL\\\"}),\\\" ]; \\\",(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"then\\\"}),`\\n      `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"echo\\\"}),\\\" \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$GPIO_ROLESEL\\\"}),` \u003e/sys/class/gpio/export\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"fi\\\"}),`\\n\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"if\\\"}),\\\" [ ! -d \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$SYS_GPIO\\\"}),\\\"/gpio\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$GPIO_HUBRST\\\"}),\\\" ]; \\\",(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"then\\\"}),`\\n      `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"echo\\\"}),\\\" \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$GPIO_HUBRST\\\"}),` \u003e/sys/class/gpio/export\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"fi\\\"}),`\\n\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"echo\\\"}),\\\" \\\",(0,n.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"out\\\"'}),\\\" \u003e/sys/class/gpio/gpio\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$GPIO_HUBPORT_EN\\\"}),`/direction\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"echo\\\"}),\\\" \\\",(0,n.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"out\\\"'}),\\\" \u003e/sys/class/gpio/gpio\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$GPIO_ROLESEL\\\"}),`/direction\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"echo\\\"}),\\\" \\\",(0,n.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"out\\\"'}),\\\" \u003e/sys/class/gpio/gpio\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$GPIO_HUBRST\\\"}),`/direction\\n\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"echo\\\"}),\\\" 1 \u003e/sys/class/gpio/gpio\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$GPIO_HUBPORT_EN\\\"}),`/value\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"echo\\\"}),\\\" 0 \u003e/sys/class/gpio/gpio\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$GPIO_ROLESEL\\\"}),`/value\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"echo\\\"}),\\\" 0 \u003e/sys/class/gpio/gpio\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$GPIO_HUBRST\\\"}),`/value\\n}\\n\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-function\\\",children:(0,n.jsx)(s.span,{className:\\\"hljs-title\\\",children:\\\"hub_off\\\"})}),`() {\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"echo\\\"}),\\\" \\\",(0,n.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"turn off usb hub\\\"'}),`\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"if\\\"}),\\\" [ ! -d \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$SYS_GPIO\\\"}),\\\"/gpio\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$GPIO_HUBPORT_EN\\\"}),\\\" ]; \\\",(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"then\\\"}),`\\n      `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"echo\\\"}),\\\" \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$GPIO_HUBPORT_EN\\\"}),` \u003e/sys/class/gpio/export\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"fi\\\"}),`\\n\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"if\\\"}),\\\" [ ! -d \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$SYS_GPIO\\\"}),\\\"/gpio\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$GPIO_ROLESEL\\\"}),\\\" ]; \\\",(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"then\\\"}),`\\n      `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"echo\\\"}),\\\" \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$GPIO_ROLESEL\\\"}),` \u003e/sys/class/gpio/export\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"fi\\\"}),`\\n\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"if\\\"}),\\\" [ ! -d \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$SYS_GPIO\\\"}),\\\"/gpio\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$GPIO_HUBRST\\\"}),\\\" ]; \\\",(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"then\\\"}),`\\n      `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"echo\\\"}),\\\" \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$GPIO_HUBRST\\\"}),` \u003e/sys/class/gpio/export\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"fi\\\"}),`\\n\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"echo\\\"}),\\\" \\\",(0,n.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"out\\\"'}),\\\" \u003e/sys/class/gpio/gpio\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$GPIO_HUBPORT_EN\\\"}),`/direction\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"echo\\\"}),\\\" \\\",(0,n.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"out\\\"'}),\\\" \u003e/sys/class/gpio/gpio\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$GPIO_ROLESEL\\\"}),`/direction\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"echo\\\"}),\\\" \\\",(0,n.jsx)(s.span,{className:\\\"hljs-string\\\",children:'\\\"out\\\"'}),\\\" \u003e/sys/class/gpio/gpio\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$GPIO_HUBRST\\\"}),`/direction\\n\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"echo\\\"}),\\\" 0 \u003e/sys/class/gpio/gpio\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$GPIO_HUBPORT_EN\\\"}),`/value\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"echo\\\"}),\\\" 1 \u003e/sys/class/gpio/gpio\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$GPIO_ROLESEL\\\"}),`/value\\n  `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"echo\\\"}),\\\" 1 \u003e/sys/class/gpio/gpio\\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$GPIO_HUBRST\\\"}),`/value\\n}\\n\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-function\\\",children:(0,n.jsx)(s.span,{className:\\\"hljs-title\\\",children:\\\"inst_mod\\\"})}),`() {\\n  insmod /mnt/system/ko/configfs.ko\\n  insmod /mnt/system/ko/libcomposite.ko\\n  insmod /mnt/system/ko/u_serial.ko\\n  insmod /mnt/system/ko/usb_f_acm.ko\\n  insmod /mnt/system/ko/cvi_usb_f_cvg.ko\\n  insmod /mnt/system/ko/usb_f_uvc.ko\\n  insmod /mnt/system/ko/usb_f_fs.ko\\n  insmod /mnt/system/ko/u_audio.ko\\n  insmod /mnt/system/ko/usb_f_uac1.ko\\n  insmod /mnt/system/ko/usb_f_serial.ko\\n  insmod /mnt/system/ko/usb_f_mass_storage.ko\\n  insmod /mnt/system/ko/u_ether.ko\\n  insmod /mnt/system/ko/usb_f_ecm.ko\\n  insmod /mnt/system/ko/usb_f_eem.ko\\n  insmod /mnt/system/ko/usb_f_rndis.ko\\n}\\n\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"case\\\"}),\\\" \\\",(0,n.jsxs)(s.span,{className:\\\"hljs-string\\\",children:['\\\"',(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$1\\\"}),'\\\"']}),\\\" \\\",(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"in\\\"}),`\\n  host)\\n\\tinsmod /mnt/system/ko/dwc2.ko\\n\\thub_on\\n\\t;;\\n  device)\\n\\thub_off\\n\\tinst_mod\\n\\t`,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"echo\\\"}),` device \u003e /proc/cviusb/otg_role\\n\\t;;\\n  *)\\n\\t`,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"echo\\\"}),\\\" \\\",(0,n.jsxs)(s.span,{className:\\\"hljs-string\\\",children:['\\\"Usage: ',(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$0\\\"}),' host\\\"']}),`\\n\\t`,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"echo\\\"}),\\\" \\\",(0,n.jsxs)(s.span,{className:\\\"hljs-string\\\",children:['\\\"Usage: ',(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$0\\\"}),' device\\\"']}),`\\n\\t`,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"exit\\\"}),` 1\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-keyword\\\",children:\\\"esac\\\"}),`\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"exit\\\"}),` $?\\n`]})}),`\\n`,(0,n.jsxs)(s.ul,{children:[`\\n`,(0,n.jsx)(s.li,{children:\\\"/etc/usb-rndis.sh\\\"}),`\\n`]}),`\\n`,(0,n.jsx)(s.pre,{children:(0,n.jsxs)(s.code,{className:\\\"hljs language-bash\\\",children:[(0,n.jsx)(s.span,{className:\\\"hljs-meta\\\",children:\\\"#!/usr/bin/sh\\\"}),`\\n\\n/etc/uhubon.sh device \u003e\u003e /tmp/rndis.log 2\u003e\u00261\\n/etc/run_usb.sh probe rndis \u003e\u003e /tmp/rndis.log 2\u003e\u00261\\n/etc/run_usb.sh start rndis \u003e\u003e /tmp/rndis.log 2\u003e\u00261\\n\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"sleep\\\"}),` 0.5\\nip `,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"link\\\"}),\\\" \\\",(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"set\\\"}),` dev usb0 up\\nip a add 192.168.42.1/24 dev usb0\\n`]})}),`\\n`,(0,n.jsx)(s.p,{children:\\\"\\\\u968F\\\\u540E\\\\u65B0\\\\u589E\\\\u4E00\\\\u4E2Asystemd service\\\"}),`\\n`,(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:\\\"hljs language-bash\\\",children:`nano /mnt/lichee/etc/systemd/system/rndis.service \\n`})}),`\\n`,(0,n.jsx)(s.p,{children:\\\"\\\\u5185\\\\u5BB9\\\"}),`\\n`,(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{children:`[Unit]\\nDescription=RNDIS\\n\\n[Service]\\nUser=root\\nWorkingDirectory=/etc/\\nExecStart=/etc/usb-rndis.sh\\n\\n[Install]\\nWantedBy=multi-user.target\\n`})}),`\\n`,(0,n.jsx)(s.p,{children:\\\"\\\\u5199\\\\u5165\\\\u540E\\\\u505A\\\\u94FE\\\\u63A5\\\\u5373\\\\u53EF\\\"}),`\\n`,(0,n.jsx)(s.pre,{children:(0,n.jsxs)(s.code,{className:\\\"hljs language-bash\\\",children:[(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"cd\\\"}),` /mnt/lichee/etc/systemd/system/multi-user.target.wants/\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"ln\\\"}),` -s ../rndis.service rndis.service\\n`]})}),`\\n`,(0,n.jsx)(s.p,{children:\\\"\\\\u542F\\\\u52A8\\\\u540E\\\\u53EF\\\\u4EE5\\\\u4F7F\\\\u7528rndis\\\\u914D\\\\u7F6Eapt\\\\u4EE3\\\\u7406\\\\u5230\\\\u672C\\\\u673A\\\\uFF0C\\\\u968F\\\\u540E\\\\u4F7F\\\\u7528apt\\\\u4E0B\\\\u8F7D\\\\u79BB\\\\u7EBF\\\\u5305\\\\uFF0C\\\\u65B9\\\\u4FBF\\\\u4EE5\\\\u540E\\\\u5236\\\\u4F5C\\\\u65B0\\\\u7684\\\\u955C\\\\u50CF\\\"}),`\\n`,(0,n.jsx)(s.pre,{children:(0,n.jsxs)(s.code,{className:\\\"hljs language-bash\\\",children:[(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"export\\\"}),` PKG=network-manager\\napt-get download `,(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$PKG\\\"}),\\\" \u0026\u0026 apt-cache depends -i \\\",(0,n.jsx)(s.span,{className:\\\"hljs-variable\\\",children:\\\"$PKG\\\"}),\\\" | awk \\\",(0,n.jsx)(s.span,{className:\\\"hljs-string\\\",children:\\\"'/Depends:/ {print $2}'\\\"}),` | xargs apt-get download\\n`]})}),`\\n`,(0,n.jsx)(s.h2,{children:\\\"\\\\u52A0\\\\u8F7Dko\\\"}),`\\n`,(0,n.jsxs)(s.p,{children:[\\\"\\\\u521B\\\\u5EFA\\\\u6587\\\\u4EF6\\\",(0,n.jsx)(s.code,{children:\\\"/mnt/lichee/etc/lichee.sh\\\"}),\\\" \\\\u4E14\\\",(0,n.jsx)(s.code,{children:\\\"chmod +x\\\"})]}),`\\n`,(0,n.jsx)(s.pre,{children:(0,n.jsxs)(s.code,{className:\\\"hljs language-bash\\\",children:[(0,n.jsx)(s.span,{className:\\\"hljs-meta\\\",children:\\\"#!/usr/bin/sh\\\"}),`\\n/mnt/init.d/S00kmod start\\n/mnt/init.d/S01fs start\\n/mnt/init.d/S25wifimod start\\n`]})}),`\\n`,(0,n.jsx)(s.p,{children:\\\"\\\\u968F\\\\u540E\\\\u521B\\\\u5EFA\\\\u6587\\\\u4EF6\\\"}),`\\n`,(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{children:`sudo vim /mnt/lichee/etc/systemd/system/lichee.service\\n`})}),`\\n`,(0,n.jsx)(s.p,{children:\\\"\\\\u5185\\\\u5BB9\\\"}),`\\n`,(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{children:`[Unit]\\nDescription=Load LicheeRVNano Init Scripts\\n\\n[Service]\\nType=oneshot\\nExecStart=/etc/lichee.sh\\nRemainAfterExit=yes\\n\\n[Install]\\nWantedBy=multi-user.target\\n`})}),`\\n`,(0,n.jsx)(s.p,{children:\\\"\\\\u5199\\\\u5165\\\\u540E\\\\u505A\\\\u94FE\\\\u63A5\\\\u5373\\\\u53EF\\\"}),`\\n`,(0,n.jsx)(s.pre,{children:(0,n.jsxs)(s.code,{className:\\\"hljs language-bash\\\",children:[(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"cd\\\"}),` /mnt/lichee/etc/systemd/system/multi-user.target.wants/\\n`,(0,n.jsx)(s.span,{className:\\\"hljs-built_in\\\",children:\\\"ln\\\"}),` -s ../lichee.service lichee.service\\n`]})}),`\\n`,(0,n.jsx)(s.h2,{children:\\\"\\\\u97F3\\\\u9891\\\\u8BBE\\\\u5907\\\"}),`\\n`,(0,n.jsx)(s.p,{children:\\\"\\\\u8354\\\\u679D\\\\u6D3E RV nano \\\\u6709\\\\u677F\\\\u8F7D\\\\u7684\\\\u9EA6\\\\u514B\\\\u98CE\\\\uFF0C\\\\u5728\\\\u52A0\\\\u8F7D\\\\u9A71\\\\u52A8\\\\u7684\\\\u65F6\\\\u5019\\\\u5DF2\\\\u7ECF\\\\u51C6\\\\u5907\\\\u597Dmod\\\\uFF0C\\\\u4F7F\\\\u7528\\\\u65B9\\\\u5F0F\\\\u5982\\\\u4E0B\\\"}),`\\n`,(0,n.jsx)(s.pre,{children:(0,n.jsxs)(s.code,{className:\\\"hljs language-bash\\\",children:[\\\"apt install alsa-oss alsa-tools alsa-utils \\\",(0,n.jsx)(s.span,{className:\\\"hljs-comment\\\",children:\\\"# \\\\u5B89\\\\u88C5alsa\\\"}),`\\narecord -d 5 output.wav `,(0,n.jsx)(s.span,{className:\\\"hljs-comment\\\",children:\\\"# \\\\u5F55\\\\u52365\\\\u79D2\\\\u7684\\\\u97F3\\\\u9891\\\\u6587\\\\u4EF6\\\"}),`\\n`]})}),`\\n`,(0,n.jsx)(s.h2,{children:\\\"\\\\u53C2\\\\u8003\\\"}),`\\n`,(0,n.jsxs)(s.ul,{children:[`\\n`,(0,n.jsx)(s.li,{children:(0,n.jsx)(s.a,{href:\\\"https://wiki.sipeed.com/hardware/zh/lichee/RV_Nano/1_intro.html\\\",children:\\\"Sipeed \\\\u8354\\\\u679D\\\\u6D3ERV nano \\\\u5B98\\\\u65B9\\\\u6587\\\\u6863\\\"})}),`\\n`,(0,n.jsx)(s.li,{children:(0,n.jsx)(s.a,{href:\\\"https://zhuanlan.zhihu.com/p/593627641\\\",children:\\\"\\\\u3010AXPI\\\\u3011\\\\u5982\\\\u4F55\\\\u5728 M1/M2 Mac\\\\u4E0A\\\\u4F7F\\\\u7528 Rndis\\\"})}),`\\n`,(0,n.jsx)(s.li,{children:(0,n.jsx)(s.a,{href:\\\"https://www.taterli.com/9532/\\\",children:\\\"Milkv Duo \\\\u7684 Debian \\\\u79FB\\\\u690D\\\\u7B14\\\\u8BB0\\\"})}),`\\n`,(0,n.jsx)(s.li,{children:(0,n.jsx)(s.a,{href:\\\"https://community.milkv.io/t/arch-linux-on-milkv-duo-milkv-duo-arch-linux/329\\\",children:\\\"\\\\u3010Arch Linux On Milkv-duo\\\\u3011Milkv-duo \\\\u8FD0\\\\u884C Arch Linux \\\\u7CFB\\\\u7EDF\\\"})}),`\\n`,(0,n.jsx)(s.li,{children:(0,n.jsx)(s.a,{href:\\\"https://community.milkv.io/t/debian-arch-linux-on-milkv-duo-256m-milkv-duo-256m-debian-arch-linux/1110\\\",children:\\\"\\\\u3010Debian \u0026 Arch Linux On Milkv-duo 256M\\\\u3011Milkv-duo 256M \\\\u8FD0\\\\u884C Debian \u0026 Arch Linux \\\\u7CFB\\\\u7EDF \\\\u89C6\\\\u9891\\\\u6559\\\\u7A0B\\\"})}),`\\n`]})]})}function I(a={}){let{wrapper:s}=a.components||{};return s?(0,n.jsx)(s,Object.assign({},a,{children:(0,n.jsx)(m,a)})):m(a)}var $=I;return v(f);})();\\n;return Component;\"},\"_id\":\"posts/lichee-rv-nano-memos.mdx\",\"_raw\":{\"sourceFilePath\":\"posts/lichee-rv-nano-memos.mdx\",\"sourceFileName\":\"lichee-rv-nano-memos.mdx\",\"sourceFileDir\":\"posts\",\"contentType\":\"mdx\",\"flattenedPath\":\"posts/lichee-rv-nano-memos\"},\"type\":\"Post\",\"slug\":\"/posts/lichee-rv-nano-memos\",\"slugAsParams\":\"lichee-rv-nano-memos\"}}]}]\n"])</script><script>self.__next_f.push([1,"6:[[[\"$\",\"meta\",null,{\"charSet\":\"utf-8\"}],[\"$\",\"title\",null,{\"children\":\"一点荔枝派 rv nano 上手记录\"}],null,null,null,null,null,null,null,null,null,[\"$\",\"meta\",null,{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],null,null,null,null,null,null,null,null,null,null,[]],[null,null,null,null],null,null,[null,null,null,null,null],null,null,null,null,[null,[[\"$\",\"link\",null,{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"any\"}]],[],null]]\n"])</script>