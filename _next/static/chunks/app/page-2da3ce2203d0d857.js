(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1356:function(t,e,a){Promise.resolve().then(a.t.bind(a,1016,23)),Promise.resolve().then(a.bind(a,2300))},2300:function(t,e,a){"use strict";a.r(e),a.d(e,{WalineCommentCount:function(){return c},WalineComponent:function(){return u},WalineVisitCount:function(){return d}});var n=a(7959),r=a(2518),o=a(3194);a(7581);var i=a(300),s=a(9329),l=a(2148);let u=t=>{let{theme:e,systemTheme:a}=(0,i.F)(),s=(0,r.useRef)(null),l=r.createRef();return(0,r.useEffect)(()=>(s.current=(0,o.S1)({...t,dark:void 0===e||"system"===e?"dark"===a:"dark"===e,el:l.current,pageview:!0}),()=>{var t;return null===(t=s.current)||void 0===t?void 0:t.destroy()}),[l,e,a]),(0,r.useEffect)(()=>{var n;let r={...t,dark:void 0===e||"system"===e?"dark"===a:"dark"===e};null===(n=s.current)||void 0===n||n.update(r)},[t,e,a]),(0,n.jsx)("div",{ref:l})},c=t=>{let e=new Date(t.date),a=e.getUTCFullYear().toString(),r=(e.getUTCMonth()+1).toString().padStart(2,"0"),o=e.getUTCDate().toString().padStart(2,"0"),i=t.slugAsParams.split("/").pop(),u=encodeURIComponent("/"+a+"/"+r+"/"+o+"/"+i+"/"),{data:c}=(0,s.a)({queryKey:["waline-comment-count",a,r,o,i],queryFn:()=>fetch("".concat(l.s.commentapi,"/api/comment?type=count&url=").concat(u)).then(t=>t.json())});return(0,n.jsxs)("div",{className:"block text-xs text-gray-600 dark:text-gray-300",children:["Comments: ",null==c?void 0:c.data[0]]})},d=t=>{let e=new Date(t.date),a=e.getUTCFullYear().toString(),r=(e.getUTCMonth()+1).toString().padStart(2,"0"),o=e.getUTCDate().toString().padStart(2,"0"),i=t.slugAsParams.split("/").pop(),u=encodeURIComponent("/"+a+"/"+r+"/"+o+"/"+i+"/"),{data:c}=(0,s.a)({queryKey:["waline-visit-count",a,r,o,i],queryFn:()=>fetch("".concat(l.s.commentapi,"/api/article?path=").concat(u)).then(t=>t.json())});return(0,n.jsxs)("div",{className:"block text-xs text-gray-600 dark:text-gray-300",children:["Visitors: ",null==c?void 0:c.data[0].time]})}},2148:function(t,e,a){"use strict";a.d(e,{s:function(){return n}});let n={title:"Vaala Cat",description:"Vaala Cat | 鲸喵",url:"https://vaala.cat",rss:{url:"https://vaala.cat/atom.xml",image_url:"https://vaala.cat/images/blog/avatar.png"},author:"Vaala Cat",twitter:"@catvaala",commentapi:"https://comments.vaa.la"}},7581:function(){}},function(t){t.O(0,[232,249,578,16,145,115,313,744],function(){return t(t.s=1356)}),_N_E=t.O()}]);