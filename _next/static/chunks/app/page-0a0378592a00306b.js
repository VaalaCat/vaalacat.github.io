(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1356:function(t,e,n){Promise.resolve().then(n.t.bind(n,1016,23)),Promise.resolve().then(n.bind(n,2300))},2300:function(t,e,n){"use strict";n.r(e),n.d(e,{WalineCommentCount:function(){return l},WalineComponent:function(){return c},WalineVisitCount:function(){return d}});var a=n(7959),r=n(2518),o=n(3194);n(7581);var i=n(300),s=n(9329),u=n(2148);let c=t=>{let{theme:e,systemTheme:n}=(0,i.F)(),s=(0,r.useRef)(null),u=r.createRef();return(0,r.useEffect)(()=>(s.current=(0,o.S1)({...t,dark:void 0===e||"system"===e?"dark"===n:"dark"===e,el:u.current,pageview:!0}),()=>{var t;return null===(t=s.current)||void 0===t?void 0:t.destroy()}),[u,e,n]),(0,r.useEffect)(()=>{var a;let r={...t,dark:void 0===e||"system"===e?"dark"===n:"dark"===e};null===(a=s.current)||void 0===a||a.update(r)},[t,e,n]),(0,a.jsx)("div",{ref:u})},l=t=>{let e=new Date(t.date),n=e.getUTCFullYear().toString(),r=(e.getUTCMonth()+1).toString().padStart(2,"0"),o=e.getUTCDate().toString().padStart(2,"0"),i=t.slugAsParams.split("/").pop(),c=encodeURIComponent("/"+n+"/"+r+"/"+o+"/"+i+"/"),{data:l}=(0,s.a)({queryKey:["waline-comment-count",n,r,o,i],queryFn:()=>fetch("".concat(u.s.commentapi,"/api/comment?type=count&url=").concat(c)).then(t=>t.json())});return(0,a.jsxs)("div",{className:"block text-xs text-gray-600 dark:text-gray-300",children:["Comments: ",null==l?void 0:l.data[0]]})},d=t=>{let e=new Date(t.date),n=e.getUTCFullYear().toString(),r=(e.getUTCMonth()+1).toString().padStart(2,"0"),o=e.getUTCDate().toString().padStart(2,"0"),i=t.slugAsParams.split("/").pop(),c=encodeURIComponent("/"+n+"/"+r+"/"+o+"/"+i+"/"),{data:l}=(0,s.a)({queryKey:["waline-visit-count",n,r,o,i],queryFn:()=>fetch("".concat(u.s.commentapi,"/api/article?path=").concat(c)).then(t=>t.json())});return(0,a.jsxs)("div",{className:"block text-xs text-gray-600 dark:text-gray-300",children:["Visitors: ",null==l?void 0:l.data[0].time]})}},2148:function(t,e,n){"use strict";n.d(e,{s:function(){return a}});let a={title:"Vaala Cat",description:"Vaala Cat | 鲸喵",url:"https://vaala.cat",author:"Vaala Cat",twitter:"@catvaala",commentapi:"https://comments.vaa.la"}},7581:function(){}},function(t){t.O(0,[232,249,578,16,145,115,313,744],function(){return t(t.s=1356)}),_N_E=t.O()}]);