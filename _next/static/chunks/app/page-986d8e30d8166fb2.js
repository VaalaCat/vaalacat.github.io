(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{8076:function(t,a,e){Promise.resolve().then(e.t.bind(e,5332,23)),Promise.resolve().then(e.bind(e,6707))},6707:function(t,a,e){"use strict";e.r(a),e.d(a,{WalineCommentCount:function(){return c},WalineComponent:function(){return u},WalineVisitCount:function(){return d}});var n=e(488),r=e(8912),s=e(1349);e(2547);var l=e(4194),i=e(9329),o=e(2242);let u=t=>{let{theme:a,systemTheme:e}=(0,l.F)(),i=(0,r.useRef)(null),o=r.createRef();return(0,r.useEffect)(()=>(i.current=(0,s.S1)({...t,dark:void 0===a||"system"===a?"dark"===e:"dark"===a,el:o.current,pageview:!0}),()=>{var t;return null===(t=i.current)||void 0===t?void 0:t.destroy()}),[o,a,e]),(0,r.useEffect)(()=>{var n;let r={...t,dark:void 0===a||"system"===a?"dark"===e:"dark"===a};null===(n=i.current)||void 0===n||n.update(r)},[t,a,e]),(0,n.jsx)("div",{ref:o})},c=t=>{let a=t.slugAsParams.split("/").pop(),e=encodeURIComponent("/posts/"+a+"/"),{data:r,isSuccess:s}=(0,i.a)({queryKey:["waline-comment-count",a],queryFn:()=>fetch("".concat(o.s.comment.walineapi,"/api/comment?type=count&url=").concat(e)).then(t=>{if(200!==t.status)throw Error(t.statusText);return t.json()})});return s&&r&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"mx-1 block text-xs text-gray-600 dark:text-gray-300",children:"|"}),(0,n.jsxs)("div",{className:"block text-xs text-gray-600 dark:text-gray-300",children:["Comments: ",(null==r?void 0:r.data)&&(null==r?void 0:r.data[0])?null==r?void 0:r.data[0]:0]})]})},d=t=>{let a=t.slugAsParams.split("/").pop(),e=encodeURIComponent("/posts/"+a+"/"),{data:r}=(0,i.a)({queryKey:["waline-visit-count",a],queryFn:()=>fetch("".concat(o.s.comment.walineapi,"/api/article?path=").concat(e)).then(t=>t.json())});return(0,n.jsxs)("div",{className:"block text-xs text-gray-600 dark:text-gray-300",children:["Visitors: ",r&&(null==r?void 0:r.data)&&(null==r?void 0:r.data[0].time)?null==r?void 0:r.data[0].time:0]})}},2242:function(t,a,e){"use strict";e.d(a,{s:function(){return n}});let n={title:"Vaala Cat",description:"Vaala Cat | 鲸喵",url:"https://vaala.cat",rss:{url:"https://vaala.cat/atom.xml",image_url:"https://vaala.cat/images/blog/avatar.png"},author:"Vaala Cat",comment:{walineapi:"https://comments.vaa.la",fallbackWaline:"/public/",artalkapi:"https://ak-gw.pk.vaa.la:30443/"},sitename:"Vaala 的博客"}},2547:function(){}},function(t){t.O(0,[460,788,741,914,534,397,704,744],function(){return t(t.s=8076)}),_N_E=t.O()}]);